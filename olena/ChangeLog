2006-09-05  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Test on abstract::pset alternative code for static inheritance. 
	
	* oln/core/abstract/entry.hh: New proposition for entry class in
	static hierarchies.  This is a test file that should be removed
	after stc update.
	* oln/core/typedefs.hh (fixed_type, ra_type, bbox_type): New
	typedef declarations.
	* oln/core/abstract/bbox.hh (fwd_piter_, bkd_piter_): Remove
	these forward declarations.
	(ext_vtype): Remove.
	(vtypes): New.
	(ra_type, fixed_type, bbox_type): New associated types.
	(bbox): Change inheritance from abstract::pset to an entry class.
	(bbox): Remove all methods except print from this class; the
	methods are dispatched into abstract::bboxed_pset and
	gen::bbox_<P>.
	(bbox): Likewise for attributes.
	(print): Reject code to subclasses.
	(impl_bbox): New method.
	* oln/core/abstract/pset.hh: Include entry.hh.
	(fwd_piter_type, bkd_piter_type): New associated types.
	(bbox_type, ra_type, fixed_type): Likewise
	(pset): Add virtual to inheritance.
	(~pset): Extend check code.
	(fixed_pset, ra_pset, bboxed_pset): New sub-abstractions.
	(pset_fixed_hierarchy, pset_ra_hierarchy, pset_bboxed_hierarchy):
	New hierarchy tags.
	* oln/core/gen/bbox.hh: Update.
	(operator=): New.
	
2006-09-04  Roland Levillain  <roland@lrde.epita.fr>

	Adjust virtual types class names.

	* oln/core/abstract/image.hh,
	* oln/core/abstract/image_dimension.hh,
	* oln/core/abstract/image_typeness.hh,
	* oln/core/abstract/grid.hh, oln/core/1d/grid1d.hh,
	* oln/core/2d/grid2d.hh, oln/core/3d/grid3d.hh,
	* tests/image_entry.cc (vtypes): Rename as...
	(vtypes_in_category): ...this.
	* oln/core/abstract/image.hh, oln/core/abstract/grid.hh,
	* tests/image_entry.cc (packed_vtypes): Rename as...
	(packed_vtypes_in_category): ...this.

	* oln/core/abstract/point.hh, oln/core/abstract/dpoint.hh,
	* oln/core/abstract/piter.hh, oln/core/abstract/pset.hh,
	* oln/core/gen/bbox.hh,
	* oln/core/gen/bkd_piter.hh, oln/core/gen/fwd_piter.hh,
	* oln/core/2d/point2d.hh, oln/core/2d/dpoint2d.hh (vtypes_):
	Rename as...
	(vtypes).
	* oln/core/abstract/pset.hh, oln/core/abstract/bbox.hh
	(ext_vtype_): Rename as...
	(ext_vtype): ...this.

2006-09-04  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Test how to define derived associated types in bbox hierarchy.

	* oln/core/abstract/bbox.hh (ext_vtype_): New definitions of
	fwd_piter_type and bkd_piter_type.
	(~bbox): Comment possible recursive code.
	* oln/core/gen/bbox.hh (vtypes_): Comment former definitions of
	fwd_piter_type and bkd_piter_type.
	* oln/core/abstract/pset.hh (ext_vtype_): New definition for grid.
	(fwd_piter_type, bkd_piter_type): Comment because they are now
	externally defined.

2006-09-01  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/piter.hh (to_point): New.
	* oln/core/abstract/bbox.hh (pmin, pmax): New overloaded methods.
	(is_valid, print, operator<<): New.
	* oln/core/abstract/iter.hh (iter): Change inheritance from
	any__simple to any__best_memory to fix trouble with multiple
	inheritance.
	(ctor): Remove dangerous call to invalidate.
	* oln/core/abstract/point_nd.hh (operator<<): New.
	(impl_less): Update.
	* oln/core/abstract/pset.hh (coord_type): New.
	* oln/core/2d/point2d.hh (coord_t): Move to public so that this
	associated type is directly accessible from...
	* oln/core/gen/bbox.hh (vtypes): ...this set of types.
	* oln/core/gen/fwd_piter.hh (psup_): Remove.
	(bbox): New accessor.
	(impl_next): Rewrite.
	(print, operator<<): New.
	(invariant): Strengthen.
	* oln/core/gen/bkd_piter.hh: Likewise.

2006-09-01  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add bboxes and iterators.
	
	* oln/core/abstract/piter.hh: New.
	* oln/core/abstract/bbox.hh: New.
	* oln/core/abstract/iter.hh: New.
	* oln/core/abstract/pset.hh: New.
	* oln/core/2d/aliases.hh: New.
	* oln/core/gen/fwd_piter.hh: New.
	* oln/core/gen/bkd_piter.hh: New.
	* oln/core/gen/bbox.hh: New.
	* oln/core/2d/point2d.hh (point2d_): New ctor.
	(point2d, dpoint2d, point2df, dpoint2df): Move typedefs to...
	* oln/basics2d.hh: ...this new file.
	* oln/core/typedefs.hh (oln_type_of_): New macro.
	(include): Update.
	(fwd_piter_type, bkd_piter_type): New decls.
	* oln/core/abstract/point.hh (include): Update.
	(vtypes_): New specialization.
	* oln/core/abstract/dpoint.hh: Likewise.
	* oln/core/abstract/point_nd.hh (include): Update.
	(set_super_type): New specialization.
	* oln/core/abstract/dpoint_nd.hh: Likewise.

2006-08-31  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add dpoint, oln traits, and operators on point/dpoint.
	
	* oln/core/type.hh: New.
	* oln/core/traits_id.hh: New.
	* oln/core/abstract/dpoint.hh: New.
	* oln/core/abstract/dpoint_nd.hh: New.
	* oln/core/traits.hh: New.
	* oln/core/2d/dpoint2d.hh: New.
	* oln/core/abstract/point.hh (point): Add inheritance to
	oln::type.
	(operators): New.
	* oln/core/abstract/point_nd.hh (point_): New meta-function.
	(impl_eq): Rename as...
	(impl_equal): ...this.
	(coord): Rename as...
	(coord_t): ...this.
	(impl_less): New.
	(impl_plus_equal, impl_plus): New.
	(impl_minus_equal, impl_minus, impl_minus): New.
	(vec): New.
	(case_): New specializations.
	(point_nd): New ctor.
	* oln/core/2d/point2d.hh: Update forward declarations.
	(point_, dpoint_): New specializations.
	(point2d): New ctor.
	(coord): Rename as...
	(coord_t): ...this.
	
2006-08-30  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Start point hierarchy.
	
	* oln/core/typedefs.hh (oln_type_of): New macro.
	(dim_type): New typedef decl.
	* oln/core/abstract/point.hh: New.
	* oln/core/abstract/point_nd.hh: New.
	* oln/core/2d/point2d.hh: New.

2006-06-05  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with Static's support for multiple inheritance.

	* oln/core/1d/grid1d.hh, oln/core/2d/grid2d.hh,
	* oln/core/3d/grid3d.hh: s/stc_super_/stc_get_supers/.
	* tests/image_entry.cc: Add a missing `public' qualifier for
	exported types.

2006-05-02  Roland Levillain  <roland@lrde.epita.fr>

	Fix a duplicate where-clause and perform some aesthetic changes in
	image abstractions.

	* oln/core/abstract/image_dimension.hh: Move the static switch
	statement before the cases.
	Aesthetic changes.
	* olena/oln/core/abstract/image_typeness.hh: Likewise.
	(case_<value_type_tag, value_type, 2>): Fix a copy-and-paste bug:
	remove a duplicate `unsigned char' type in the where-clause and
	replace it with `signed char'.
	* oln/core/abstract/image_typeness_integre.hh,
	* tests/image_entry.cc: Aesthetic changes.

2006-04-27  Roland Levillain  <roland@lrde.epita.fr>

	Add image ``typeness'' abstraction hierarchy.

	* tests/image_entry.cc (my): Check image_typeness_type vtype and
	inheritance.
	* oln/core/typedefs.hh (value_type, image_typeness_type): Enable
	typedef.
	* oln/core/abstract/image.hh (vtypes::value_type): Enable typedef.
	(packed_vtypes::value_type): New typedef.
	(packed_vtypes::echo): Print value_type and image_typeness_type.
	(packed_vtypes::ensure): Check value_type and image_typeness_type.
	(image::value_type): Enable typedef.
	* oln/core/abstract/image_entry.hh: Include images abstractions
	headers.
	Don't include mlc/case.hh nor oln/core/abstract/image.hh.
	(mlc_case_equipment_for_namespace(oln))
	(abstraction_tags): Move...
	* oln/core/abstract/image_abstractions.hh: ...here (new file).
	* oln/core/abstract/image_dimension.hh: Include it.
	Include stc/entry.hh.
	Aesthetic changes.
	* oln/core/abstract/image_typeness.hh: New file (imported from
	Olena proto-1.0, and modified).
	* oln/core/abstract/image_typeness_integre.hh: New file
	* oln/Makefile.am (nobase_oln_HEADERS): Add
	core/abstract/image_abstractions.hh,
	core/abstract/image_typeness.hh and
	core/abstract/image_typeness_integre.hh.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	* oln/core/abstract/image_dimension.hh: Add some more
	documentation.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	Re-enable exact_type vtype.

	* oln/core/typedefs.hh (oln_super_of_, oln_super2_of_)
	(oln_super3_of_, oln_super_of): Remove macros.
	(exact_type): Enable this typedef.
	* oln/core/abstract/image.hh (packed_vtypes::exact_type): New
	typedef.
	(packed_vtypes::echo): Print exact_type.
	(packed_vtypes::ensure): Check exact_type.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	* oln/core/typedefs.hh: s/properties/vtypes/.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with the latest name changes in Static.

	* oln/core/abstract/image_dimension.hh
	(case_<grid_dim_tag, grid_type, 1>)
	(case_<grid_dim_tag, grid_type, 2>)
	(case_<grid_dim_tag, grid_type, 3>):
	s/stc::is_a/stc::abstraction_as_type/.
	* oln/core/abstract/macros.hh (oln_type_of, oln_type_of_)
	* oln/core/abstract/grid.hh (oln_grd_type_of, oln_grd_type_of_):
	Catch up with the new names of Static macros.
	* tests/image_entry.cc: Adjust test.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	Plug image_entry's inheritance to the right image dimension
	abstraction according to the grid type of the exact image type.

	* oln/core/abstract/image_entry.hh: Add switch/case equipment in
	the oln namespace.
	* oln/core/abstract/image_dimension.hh
	(grid_dim_tag)
	(case_<grid_dim_tag, grid_type, 1>)
	(case_<grid_dim_tag, grid_type, 2>)
	(case_<grid_dim_tag, grid_type, 3>)
	(default_case_<grid_dim_tag, grid_type>): New Metalic switch/case
	on grid type, returning the corresponding image dimension type.
	(set_entry_node<I, oln::abstract::dimension_tag>): Use this Metalic
	switch/case to choose the dimension abstraction in the inheritance
	tree.
	* oln/core/abstract/image.hh (vtypes): Don't define
	image_dimension_type as an internal vtype, instead...
	* oln/core/abstract/image_dimension.hh
	(oln::ext_vtype<category::image, abstract::image<I>,
	typedef_::image_dimension_type>): ...define it externally, using
	the switch used inheritance-plugging mechanism based on the grid
	type.
	* tests/image_entry.cc (oln): Adjust.
	Check my::image's virtual types.
	Print my::image's vtypes on the standard output.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	Add grids.

	* oln/core/abstract/grid.hh,
	* oln/core/1d/grid1d.hh,
	* oln/core/2d/grid2d.hh,
	* oln/core/3d/grid3d.hh: New files (imported from Olena proto-1.0,
	and modified).
	* oln/core/typedefs.hh (grid_type, point_type, dpoint_type)
	(size_type, dimvalue_type, coord_type): Enable these types.
	* oln/core/abstract/image.hh (grid_type): Don't mlc-declare this
	typedef, since oln/core/typedefs.hh already takes care of it.
	(vtypes< category::image, abstract::image<I> >): Enable	grid_type.
	(packed_vtypes): Likewise.
	* oln/core/abstract/internal/image_impl.hh: Improve comment.
	* tests/grid.cc: New test.
	* tests/image_entry.cc: Update this test.
	* oln/Makefile.am (nobase_oln_HEADERS): Add core/abstract/grid.hh,
	core/1d/grid1d.hh, core/2d/grid2d.hh and core/3d/grid3d.hh.
	* tests/Makefile.am (check_PROGRAMS): Add grid.
	(grid_SOURCES): New.

2006-04-22  Roland Levillain  <roland@lrde.epita.fr>

	Fix packed_vtypes<category::image, I>.

	* oln/core/abstract/image.hh (packed_vtypes): Remove.
	(packed_vtypes<category::image, I>): Use mlc::assert to test the
	virtual types.
	Aesthetic changes.
	(image::~image): Check the vtypes thanks to
	packed_vtypes<category::image, I>.

2006-04-21  Roland Levillain  <roland@lrde.epita.fr>

	Lay the foundation stone of abstract::image.

	* oln/core/abstract/any.hh, oln/core/typedefs.hh,
	* oln/core/abstract/image.hh,
	* oln/core/abstract/internal/image_impl.hh
	* oln/core/abstract/image_entry.hh
	* oln/core/abstract/image_dimension.hh: New files (imported from
	Olena proto-1.0, and modified).
	* oln/core/abstract/macros.hh: New file.
	* tests/image_entry.cc: New test.
	* Makefile.am, oln/Makefile.am, tests/Makefile.am: New files.

