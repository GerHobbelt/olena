2007-04-04  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Fix pnm.hh : image loading (pbm, pgm ...).

	* oln/morpho/reconstruction.hh: Up.
	* oln/io/pnm.hh: Fixed.

2007-04-03  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add the explicit 'inplace' mechanism.

	* oln/core/internal/op_image_plus_nbh.hh: Rename as...
	* oln/core/internal/op_image_extended_by_nbh.hh: ...this.
	* oln/core/gen/inplace.hh: New.
	* oln/debug/fill.hh,
	* oln/debug/iota.hh,
	* oln/level/paste.hh,
	* oln/level/apply_inplace.hh,
	* oln/core/gen/safe_image.hh: Update.
	* oln/core/gen/op.hh (plus): Rename as...
	(extended_by): ...this; less ambiguous.
	(oln_decl_inplace_image_op): New.
	* oln/core/internal/op_image_such_as_fp2b.hh: Fix temp hack;
	precisely, replace inheritance by delegation.
	* oln/core/internal/image_base.hh (oln_possible_lvalue): New.
	(possible_lvalue_from_): New.
	* oln/core/gen/neighb.hh,
	* oln/core/internal/image_ops.hh,
	* oln/core/internal/op_image_restricted_to_pset.hh,
	* oln/draw/bresenham.hh: Update.
	* TODO: Update.

2007-04-02  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Add local_sup/inf. Fix clone. Update Reconstruction.

	* oln/morpho/reconstruction.hh,
	* oln/morpho/cc_tarjan.hh: Updated.
	* oln/level/local_sup.hh: New.
	* oln/level/local_inf.hh: New.
	* oln/level/clone.hh: Fixed.

2007-04-02  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add some 2d window types and refactor window impl hierarchy.

	* oln/core/2d/vline2d.hh,
	* oln/core/2d/hline2d.hh,
	* oln/core/2d/rectangle2d.hh,
	* oln/core/internal/window.hh: New.
	* oln/core/concept/window.hh (op_unary_minus_): New.
	* oln/core/gen/dpoints_piter.hh: Cosmetic change.
	* oln/core/gen/window.hh (window_): Rename as...
	(gen_window): ...this and inherit from internal::window_.
	(fwd_qiter, bkd_qiter, take, impl_op_unary_minus_): Move to...
	(internal::window_): ...here.
	* oln/core/2d/window2d.hh (window2d): Replace window_ by
	gen_window.
	* oln/core/internal/window_base.hh (point): New.
	* oln/morpho/closing.hh,
	* oln/morpho/opening.hh: Fix.
	* oln/morpho/erosion.hh (erosion_on_function_): New version on
	rectangle2d.

2007-04-02  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add the type of stack of images.

	* tests/core/stack.cc,
	* oln/core/gen/image_stack.hh,
	* oln/core/internal/value_proxy.hh: New.
	* tests/core/Makefile.am (check_PROGRAMS): Add stack.
	* oln/core/concept/image.hh (inplace): New.
	* oln/core/equipment.hh (oln_psite): New.
	* oln/core/internal/instant_value.hh: Cosmetic change.
	* oln/stc/scoop.hh (stc_is_found_type): New.

2007-04-02  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add plus and minus with explicit cast.

	* TODO: Extend.
	* oln/core/gen/pw_value.hh (image): New method.
	* oln/core/gen/value_cast.hh: New.
	* oln/arith/plus.hh (plus): New.
	* oln/arith/minus.hh (minus): New.
	* oln/morpho/elementary_gradient.hh,
	* oln/morpho/elementary_gradient_external.hh,
	* oln/morpho/elementary_laplace.hh,
	* oln/morpho/gradient_internal.hh,
	* oln/morpho/top_hat_black.hh,
	* oln/morpho/gradient.hh,
	* oln/morpho/top_hat_white.hh,
	* oln/morpho/closing.hh,
	* oln/morpho/opening.hh,
	* oln/morpho/gradient_external.hh,
	* oln/morpho/laplace.hh,
	* oln/morpho/elementary_gradient_internal.hh: Update.
	* oln/level/compare.hh: Add FIXME.

2007-03-30  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add postconditions to morphology.

	* oln/value/builtin.hh: Move traits in...
	* oln/value/builtin_traits.hh: ...this new file.
	* tests/core/Makefile.am (check_PROGRAMS): Remove iter_point3d.
	* tests/algorithms/fill.cc: Update.
	* TODO: Extend.
	* oln/core/concept/function.hh: Remove stupid fwd decl.
	* oln/core/concept/operators.hh (operator>=): Rely now on <=.
	* oln/core/gen/pset_compare.hh (operator>, operator>=): Remove;
	obsolete.
	* oln/core/gen/literal.hh (operator T),
	(operator U): New conversions.
	* oln/core/gen/traits.hh (set_trait_): Add default relying on Any.
	* oln/core/internal/image_ops.hh: Add FIXME.
	* oln/core/internal/op_fp2v_over_pset.hh (fun): New method.
	* oln/morpho/reconstruction.hh (include): Fix missing.
	* oln/morpho/cc_tarjan.hh: Likewise.
	* oln/morpho/elementary_gradient.hh,
	* oln/morpho/elementary_closing.hh,
	* oln/morpho/elementary_gradient_external.hh,
	* oln/morpho/elementary_opening.hh,
	* oln/morpho/elementary_laplace.hh,
	* oln/morpho/elementary_dilation.hh,
	* oln/morpho/gradient_internal.hh,
	* oln/morpho/top_hat_black.hh,
	* oln/morpho/gradient.hh,
	* oln/morpho/top_hat_white.hh,
	* oln/morpho/closing.hh,
	* oln/morpho/opening.hh,
	* oln/morpho/gradient_external.hh,
	* oln/morpho/laplace.hh,
	* oln/morpho/dilation.hh,
	* oln/morpho/elementary_erosion.hh,
	* oln/morpho/erosion.hh,
	* oln/morpho/elementary_gradient_internal.hh: Add postconditions.
	Introduce explicit temporary variables.
	Various clean-ups.
	* oln/arith/minus.hh: Remove obsolete inactivated line.
	* oln/level/compare.hh (operator==, operator<, operator<=): New
	versions with a literal.
	* oln/core/gen/pw_value.hh (pw_value_, pw_value): Weaken sig and
	add static check.
	* oln/level/local.hh (local): Likewise.
	* oln/level/apply_local.hh (apply_local): Likewise.

2007-03-29  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add the image type ''function: p -> v over a point set''.

	* oln/core/gen/image_pset_piter.hh: Remove; obsolete.
	* oln/core/internal/image_base.hh: Move end of file to...
	* oln/core/internal/image_ops.hh: ...this new file.
	(operator/): New.
	* oln/core/internal/op_fp2v_over_pset.hh: New.
	* oln/core/gen/op.hh (oln_decl_op_over, over): New.
	* oln/core/gen/single_value_image.hh,
	* oln/core/internal/op_image_plus_nbh.hh: Cosmetic changes.
	* oln/core/internal/f_pset_to_plain_image.hh
	(pset_to_plain_image__): Fix version op_<S, such_as, F_p2b>.

2007-03-29  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add infinite point set type.

	* oln/core/internal/f_pset_plain.hh: Rename as...
	* oln/core/internal/f_pset_to_plain_image.hh: ...this.
	(include): Add f_grid_to_plain_image.hh.
	(f_pset_plain_, oln_f_pset_plain): Rename as...
	(f_pset_to_plain_image_, oln_f_pset_to_plain_image): ...these.
	(pset_to_plain_image__): New versions to handle op_<S, such_as, F>
	and gen_box<P>.
	* oln/core/gen/single_value_image.hh: Update.
	* oln/core/gen/infty_pset.hh,
	* oln/core/internal/f_grid_to_plain_image.hh,
	* oln/core/internal/f_grid_to_box.hh: New.
	* oln/core/internal/iterator_on_points_base.hh
	(iterator_on_points_base): Rename as...
	(iterator_on_points_base_): ...this.
	* oln/core/rle/rle_pset.hh,
	* oln/core/gen/dpoints_piter.hh,
	* oln/core/gen/image_pset_piter.hh,
	* oln/core/internal/box.hh,
	* oln/core/internal/point_set_std_based.hh,
	* oln/core/internal/piter_adaptor.hh: Update.
	* oln/draw/bresenham.hh (bresenham_): Rely on level::paste.
	(input): Rename as...
	(in_out): ...this.
	* oln/core/equipment.hh (oln_deduce): New.
	* oln/core/gen/pset_compare.hh (intersects): New.
	(op_leq_, op_less_): Rename as...
	(op_subset_, op_strict_subset_): ...these.
	(op_eq_, op_subset_, op_strict_subset_): New versions
	for infty_pset.
	(operator>=, operator>): Rely on op_subset_ and op_strict_subset_.
	* oln/core/gen/pset.hh: Cosmetic changes.
	* oln/core/gen/safe_image.hh (pset): Use infty_pset.
	(impl_points): New.
	* oln/core/internal/image_base.hh: Cosmetic change.
	* oln/core/internal/point_base.hh (set_all): New.

2007-03-28  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Enforce impl check in concepts.

	* oln/core/rle/rle_pset.hh (box, impl_bbox): Fix.
	* oln/core/concept/iterator_on_points.hh,
	* oln/core/concept/generator.hh,
	* oln/core/concept/point.hh,
	* oln/core/concept/iterator.hh,
	* oln/core/concept/dpoint.hh,
	* oln/core/concept/point_set.hh (check__): New.
	* oln/core/gen/literal.hh (operator()): Use typedefs.
	* oln/core/internal/f_pset_plain.hh (box2d) : Fix.
	* oln/draw/bresenham.hh (fill): Move overload with values to...
	* oln/level/fill.hh: ...this new file.
	* oln/debug/fill.hh: New; extracted from oln/level/fill.hh.
	* oln/level/paste.hh; New.

2007-03-28  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Fix CC_tarjan + test, sequential reconstruction.

	* tests/algorithms/cc_tarjan.cc: .
	* oln/morpho/reconstruction.hh: New.
	* oln/morpho/cc_tarjan.hh: .
	* oln/io/pnm.hh: .

2007-03-28  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add line2d, bresenham, the safe_image morpher, and underlying types.

	* oln/core/2d/line2d.hh,
	* oln/core/gen/safe_image.hh,
	* oln/core/internal/pset_adaptor.hh,
	* oln/draw,
	* oln/draw/bresenham.hh: New.
	* TODO: Augment.
	* oln/core/concept/image.hh (read_, write_): New.
	* oln/core/concept/image_identity.hh: Update.
	* oln/core/concept/generalised_point.hh (include): Fix.
	* oln/core/concept/point_set.hh (~Point_Set): New.
	* oln/core/concept/value.hh: Cosmetic changes.
	* oln/core/1d/array1d.hh (operator()): Remove.
	(array1d_): Fix.
	* oln/core/1d/image1d.hh,
	* oln/core/1d/image1d_b.hh: Update.
	* oln/core/1d/box1d.hh,
	* oln/core/1d/point1d.hh,
	* oln/core/2d/box2d.hh,
	* oln/core/2d/point2d.hh,
	* oln/core/gen/box.hh: Clean up.
	* oln/core/2d/image2d.hh,
	* oln/core/2d/image2d_b.hh (impl_write): New.
	* oln/core/gen/pset_compare.hh (op_leq_): New.
	* oln/core/gen/fbbox.hh (fbbox_): Fix.
	(box_t): New.
	(include): Add point_set_base.
	* oln/core/gen/single_value_image.hh,
	* oln/core/internal/box.hh: Cosmetic changes.
	* oln/core/internal/point_set_base.hh (f_box_from_point_): New.
	* oln/core/internal/op_image_restricted_to_pset.hh (impl_owns_): New.
	* oln/core/internal/point_set_std_based.hh (box): New in vtypes.
	(pset_std_based_fwd_piter_): Change inheritance to internal::iterator_on_points_base.
	Make the constructor argument type more general.
	(pset_std_based_bkd_piter_): Likewise.
	* oln/core/internal/image_base.hh (operator |): Add non-const versions.
	* oln/core/internal/iterator_on_points_base.hh: Add a FIXME.
	* oln/value/builtin.hh: Fix.

2007-03-28  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Update cc_tarjan impl + facade.

	* oln/morpho/cc_tarjan.hh: Up (shape).

2007-03-27  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Add elementary cc_tarjan on Binary image.

	* tests/algorithms/cc_tarjan.cc: New.
	* tests/algorithms/Makefile.am: Updated for check.
	* oln/morpho/cc_tarjan.hh: New.
	* oln/morpho/cc_tarjan.cc: Remove.
	* oln/level/apply.hh: .

2007-03-27  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add traits and fix compile errors.

	* oln/core/gen/traits.hh,
	* oln/value/builtin.hh: New.
	* oln/arith/plus.hh (include): Fix.
	(set_trait_): New.
	(operator +): Update sig and use 'prepare'.
	* oln/arith/minus.hh: Likewise.
	* oln/core/concept/image.hh (Fast_Image): Fix.
	* oln/core/concept/point.hh (set_trait_): New.
	(assert_same_point_): New.
	* oln/core/concept/generalised_point.hh: Fix.
	* oln/core/concept/dpoint.hh (set_trait_): New.
	* oln/core/concept/operators.hh (include): Add
	oln/core/gen/traits.hh.
	* oln/core/init.hh: Cosmetic change.
	* oln/core/2d/image2d_b.hh (prepare): Fix.
	* oln/core/2d/box2d.hh (box2d): Fix.
	* oln/core/gen/fun.hh (fun_p2b_, fun_v2v_): Add & to ctor arg.
	(fun_p2v_, functorize_p2v): New.
	* oln/core/internal/box.hh: Cosmetic changes.
	* oln/core/internal/image_base.hh (operator |): Activate test.
	* oln/core/internal/iterator_on_points_base.hh: Fix.
	* oln/morpher/add_isubset.hh,
	* oln/morpher/add_isubset.hxx,
	* oln/morpher/add_neighborhood.hxx: Remove; obsolete.
	* oln/level/fill.hh (include): Update.
	(fill): Rename the internal routines as...
	(fill_from_value_, fill_from_values_): ...these...
	(fill_from_image_, fill_from_function_): ...and these.
	(fill_): Activate.
	(fill): Activate version for Function_p2v.
	(fill): New version for Image.

2007-03-26  Nicolas Ballas  <ballas@lrde.epita.fr>

	Add generalised_point concept.

	* tests/core/sparse_image.cc,
	* tests/core/rle_image.cc: remove print from tests.
	* oln/core/rle/rle_pset.hh, oln/core/concept/iterator_on_points.hh,
	* oln/core/gen/dpoints_piter.hh, oln/core/internal/box.hh,
	* oln/core/internal/piter_adaptor.hh: there are now derived from iterator_on_point_base class.
	* oln/core/concept/iterator.hh: add virtual for diamond inheritance.
	* oln/core/concept/point.hh: remove useless traits declarations. 
	(there are now declare in generalised_point_class). 
	* oln/core/concept/generalised_point.hh: New, generalised_point class.
	* oln/core/internal/image_base.hh: remove dead code.
	* oln/core/internal/iterator_on_points_base.hh: New iterator_on_point_base class for
	factorize some code on point iterators.

2007-03-24  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Update point set hierarchy with Box.

	* oln/level/apply_inplace.hh: Fix.
	* oln/core/concept/point_set.hh (include): Update.
	(operator<<): Add decl.
	* oln/core/gen/pset_compare.hh (operator<=, op_leq_),
	(operator>=, op_geq_, operator>, op_greater_): New.
	* oln/core/internal/op_pset_such_as_fp2b.hh (box): New.
	* oln/core/internal/box.hh (include): Update.
	(pmin, pmax): Rename as...
	(impl_pmin, impl_pmax): ...these.
	(set_box): Remove; move code into...
	(box): ...this ctor.
	(box_fwd_piter_, box_bkd_piter_): Strengthen sigs;
	Remove version without arg.
	(b_): Add &.
	* oln/core/internal/point_set_base.hh (point_set_selector_):
	Simplify.
	(super_trait_): Update.
	(point_set_base_): Change inheritance to point_set_selector_.
	* oln/core/internal/utils.hh (pair): New overload.
	* oln/core/internal/op_image_restricted_to_pset.hh: Add
	precondition and postconditions.

2007-03-24  Nicolas Ballas  <ballas@lrde.epita.fr>

	Adapt gen_box and point1d class to the new box hierarchy.

	* tests/core/image1d.cc, oln/core/rle/rle_pset.hh,
	* core/internal/point_set_base.hh: change vtypes.
	* oln/core/1d/box1d.hh: box1d is know a real class.
	* oln/core/2d/box2d.hh: add a constructor.
	* oln/core/gen/box.hh: adapt gen_box.
	* oln/core/internal/box.hh: fix a bug.

2007-03-24  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add image level comparisons and better point set ones.

	* oln/level/compare.hh: New.
	* TODO: New "Rough list" and "Tiny improvements" sections.
	* oln/core/concept/grid.hh 
	(both_types_should_have_the_same_grid_),
	(assert_same_grid_): New.
	* oln/core/concept/operators.hh: Separate defs from decls.
	Fix dispatch using 'exact'.
	* oln/core/gen/pset_compare.hh (guards): Remove.
	(operator<=, impl_leq_): Replace by...
	(operator<, impl_less_): ...these.

2007-03-23  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Morpho : Elementary versions.

	* oln/morpho/elementary_gradient.hh: New.
	* oln/morpho/elementary_gradient_external.hh: New.
	* oln/morpho/elementary_laplace.hh: New.
	* oln/morpho/gradient_internal.hh: .
	* oln/morpho/gradient.hh: .
	* oln/morpho/gradient_external.hh: .
	* oln/morpho/laplace.hh: .
	* oln/morpho/erosion.hh: .
	* oln/morpho/elementary_gradient_internal.hh: New.
	* oln/core/2d/image2d.hh: .

2007-03-23  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add Box and comparison operators between point sets.

	* oln/core/gen/pset_compare.hh: New.
	* oln/core/concept/point_set.hh (Box): New.
	* oln/core/2d/box2d.hh (include): Remove gen/box.hh.
	* oln/core/internal/point_set_base.hh
	(point_set_selector_): New.
	* oln/stc/scoop.hxx (super_trait_): Change dummy code.

2007-03-23  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Mopho : Top_hat_white, top_hat_black, Fix Opening, Renaming.

	* oln/morpho/inside_gradient.hh: Remove.
	* oln/morpho/gradient_internal.hh: New.
	* oln/morpho/top_hat_black.hh: New.
	* oln/morpho/closing.hh: Fixed.
	* oln/morpho/top_hat_white.hh: New.
	* oln/morpho/opening.hh: Fixed.
	* oln/morpho/external_gradient.hh: Remove.
	* oln/morpho/gradient_external.hh: New.
	* oln/morpho/laplace.hh: .

2007-03-23  Nicolas Ballas  <ballas@lrde.epita.fr>

	Add internal::box_ and box2d classes.

	* oln/core/rle/rle_image.hh, oln/core/sparse/sparse_image.hh
	* oln/core/encode/sparse_encode.hh, oln/core/encode/rle_encode.hh: change licence and header name
	* oln/core/1d/box1d.hh: move box_ to gen_box
	* oln/core/2d/box2d.hh: box2d is know a real class
	* oln/core/gen/box.hh: rename box_ class as gen_box
	* oln/core/gen/fbbox.hh: move box_ to gen_box
	* oln/core/internal/box.hh: New class internal::box_
	* oln/core/internal/point_set_base.hh, oln/core/internal/image_base.hh: .
	* oln/core/internal/point_set_std_based.hh: Change vtypes

2007-03-23  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Morpho : Gradient, gradient+ gradient-, Laplace. Arith : +, -.

	* oln/morpho/laplace.hh: New.
	* oln/morpho/inside_gradient.hh: New.
	* oln/morpho/gradient.hh: New.
	* oln/morpho/external_gradient.hh: New.
	* oln/arith: New.
	* oln/arith/plus.hh: New.
	* oln/arith/minus.hh: New.
	* oln/core/concept/operators.hh: .
	* oln/core/2d/image2d.hh: .

2007-03-23  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add pw_value and operators on functions.

	* oln/core/concept/generator.hh,
	* oln/core/gen/literal.hh,
	* oln/core/gen/fun_ops.hh: New.
	* tests/core/image1d.cc,
	* tests/core/pw_value.cc: Update.
	* tests/core/Makefile.am (check_PROGRAMS): Clean.
	Add image1d and pw_value.
	* oln/level/fill.hh: Remove too restrictive const&.
	* oln/core/equipment.hh (result, oln_result, oln_rvalue): New.
	* oln/core/gen/pw_value.hh: Update.
	* oln/core/gen/fun.hh (fun_p2b_): New specialization for binary
	images.
	* oln/core/internal/image_base.hh (operator|): Likewise.
	Add a FIXME as a reminder.

2007-03-23  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Optimize the return of Image::points().

	* oln/debug/iota.hh: Update.
	* oln/core/rle/rle_image.hh,
	* oln/core/sparse/sparse_image.hh: Add assertions; Fix include.
	* oln/core/gen/niter_has.hh (pset_): Add &.
	* oln/core/concept/image.hh (bbox, points, impl_points): Add &.
	* oln/core/concept/image_identity.hh,
	* oln/core/rle/rle_image.hh,
	* oln/core/sparse/sparse_image.hh,
	* oln/core/1d/image1d.hh,
	* oln/core/1d/image1d_b.hh,
	* oln/core/2d/image2d.hh,
	* oln/core/2d/image2d_b.hh,
	* oln/core/internal/op_image_restricted_to_pset.hh (impl_points):
	Update.
	* oln/basics1d.hh,
	* oln/basics2d.hh: Remove; obsolete.
	* oln/core/internal/utils.hh (pair, triplet): New specializations.
	* oln/core/1d/array1d.hh,
	* oln/core/2d/array2d.hh: Add method decls without impl.
	* oln/core/1d/image1d.hh,
	* oln/core/1d/image1d_b.hh,
	* oln/core/2d/image2d.hh,
	* oln/core/2d/image2d_b.hh: Make use of pair and triplet.

2007-03-22  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add type of 'image such_as f:b->p' and factor Image::has as final.

	* tests/core/neighb2d.cc: Fix.
	* oln/core/internal/op_image_such_as_fp2b.hh: New.
	* oln/core/gen/pset_such_as.hh: Remove; obsolete.
	* oln/core/concept/image.hh (has): New final impl.
	(Point_Wise_Accessible_Image): Remove get_impl inheritance.
	* oln/core/concept/image_identity.hh: Update.
	* oln/core/rle/rle_image.hh,
	* oln/core/sparse/sparse_image.hh,
	* oln/core/1d/image1d.hh,
	* oln/core/1d/image1d_b.hh,
	* oln/core/2d/image2d.hh,
	* oln/core/2d/image2d_b.hh,
	* oln/core/gen/single_value_image.hh (impl_has): Remove.
	* oln/core/internal/op_pset_such_as_fp2b.hh (point): New vtype.
	(point): Remove this vtype from iterators.
	* oln/core/internal/point_set_base.hh: Cosmetic.
	* oln/core/internal/op_image_restricted_to_pset.hh: Cosmetic.
	* oln/core/internal/image_base.hh (oln_decl_op_such_as): New version
	for "Image such_as Function_p2b".
	(operator |): New specialization for C functions.

2007-03-22  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Basic Morpho : Tested OK.

	* oln/core/2d/image2d.hh: .
	* oln/morpho/elementary_erosion.hh: .
	* oln/morpho/elementary_closing.hh: .
	* oln/morpho/elementary_opening.hh: .
	* oln/morpho/erosion.hh: .
	* oln/morpho/closing.hh: .
	* oln/morpho/opening.hh: .
	* oln/level/local.hh: .
	* oln/level/apply_local.hh: .

2007-03-22  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Provide more suitable niter classes.

	* oln/core/gen/niter_has.hh: New.
	* oln/debug/print_nbh.hh (impl): Remove; useless.
	* oln/core/concept/image.hh (Image_with_Nbh): Overload nbhood
	access.
	* oln/core/concept/image_identity.hh: Update.
	* oln/core/equipment.hh (oln_pset): New.
	* oln/core/internal/piter_adaptor.hh (point): Set final.
	* oln/core/internal/op_pset_such_as_fp2b.hh (point): Remove.
	* oln/core/internal/op_image_plus_nbh.hh (include): Update.
	(fwd_niter, bkd_niter): Update.

2007-03-22  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Fix : Opening, Closing, erosion, dilation.

	* oln/morpho/elementary_erosion.hh: .
	* oln/morpho/dilation.hh: .
	* oln/morpho/elementary_closing.hh: .
	* oln/morpho/elementary_opening.hh: .
	* oln/morpho/erosion.hh: .
	* oln/morpho/closing.hh: New.
	* oln/morpho/opening.hh: .
	* oln/level/local.hh: .

2007-03-22  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Factor code for iterators on dpoints and update.

	* oln/core/internal/dpoints_piter_impl.hh: New; copy of...
	* oln/core/internal/dpoints_piter.hh: ...this. 
	* oln/debug/print_nbh.hh: Update.
	* oln/core/gen/dpoints_piter.hh (dpoints_fwd_piter_): Overload.
	Update inheritance.
	(dpoints_bkd_piter_): Update.
	(include): Update.
	* oln/core/internal/image_selectors.hh (Image_mutability): Add
	FIXME.
	* oln/core/internal/op_image_plus_nbh.hh: Better commentary.

	Minor fixes.

	* oln/accumulator/and.hh (include): Remove max_value.hh.
	(init): Use 'true'.
	(operator()): Use 'and'.
	* oln/accumulator/or.hh (include): Remove max_value.hh.
	(ultimate): Remove.
	(init): Use 'false'.
	(operator()): Use 'or'.
	* oln/core/concept/accumulator.hh: Add FIXME.
	* oln/core/internal/max_value.hh (oln_min): Remove.
	* oln/core/internal/min_value.hh: Add FIXME.
	* oln/morpho/dilation.hh: Fix.
	* oln/level/local.hh (local_): Update 'or on nbh' version.
	(local_): Inactivate other optimized versions.

2007-03-21  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Algo MorphoMath : and, or, opening, closing, elementary algo.

	* oln/accumulator/and.hh: New.
	* oln/accumulator/or.hh: New.
	* oln/core/internal/max_value.hh,
	* oln/core/internal/op_image_plus_nbh.hh,
	* oln/morpho/elementary_erosion.hh,
	* oln/morpho/dilation.hh: Update.
	* oln/morpho/elementary_closing.hh,
	* oln/morpho/elementary_opening.hh: New.
	* oln/morpho/elementary_dilation.hh: Update.
	* oln/morpho/erosion.hh: New.
	* oln/morpho/opening.hh: New.
	* oln/level/local.hh: .

2007-03-21  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add image selection about different kinds of values and update.

	* oln/core/concept/image.hh (Gray_Level_Image, Color_Image)
	(Label_Image, Binary_Image, String_Image)
	(Deformation_Field_Image, Data_Image): New.
	* oln/core/internal/max_value.hh: Fix.
	* oln/core/internal/image_selectors.hh (Image_value_kind): New. 
	* oln/morpho/dilation.hh: Fix.
	* oln/morpho/elementary_erosion.hh (elementary_erosion_): Rename as...
	(elementary_erosion_on_function_): ...this.
	(elementary_erosion_on_set_): New.
	(elementary_erosion_): Dispatch over function/set.
	(elementary_erosion): Update.
	* oln/level/local.hh (A): Rename as...
	(F): ...this.
	* oln/accumulator/max.hh,
	* oln/core/internal/min_value.hh,
	* oln/morpho/elementary_dilation.hh: New.
	* oln/value/greylevel.hh: Rename as...
	* oln/value/graylevel.hh: ...this.
	(greylevel_, greylevel): Rename as...
	(graylevel_, graylevel): ...these.
	* oln/value/default.hh (greylevel): Rename as...
	(graylevel): ...this.
	* oln/value/all.hh (include): Update.
	* oln/value/bin.hh (bin): Change from greylevel_<1> to
	graylevel_<1>.
	* oln/value/tags.hh (is_grey_level): Rename as...
	(is_gray_level): ...this.

2007-03-21  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Handle virtual borders.

	* oln/morpher/add_neighborhood.hh: Remove; obsolete.
	* oln/border/fill.hh: New.
	* oln/accumulator/min.hh (operator()): Untemplate.
	* oln/debug/print_nbh.hh: Use macros.
	* oln/debug/println.hh (println): Remove unuseful exact.
	* oln/core/concept/image.hh (Image_with_Border): New.
	* oln/core/concept/image_identity.hh (set_impl): New version.
	* oln/core/concept/accumulator.hh (init_with): New.
	* oln/core/1d/image1d_b.hh (vborder): New.
	(border): Rename as...
	(impl_border): ...this.
	* oln/core/2d/image2d_b.hh: Likewise.
	* oln/core/2d/array2d.hh (row_pad): New.
	* oln/core/equipment.hh (vborder): New.
	* oln/core/internal/image_selectors.hh (Image_border): New.
	* oln/morpho/elementary_erosion.hh (elementary_erosion_): Handle border.
	(elementary_erosion_): New version; fast, to be activated.
	(include): Add border/fill.hh.
	* oln/level/local.hh (init): Replace this call by...
	(init_with): ...this.

2007-03-20  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Introduce 'prepare' to initialize image structures.

	* oln/core/concept/image.hh (Image_2D): Add min_row, max_row,
	min_col, and max_col.
	* oln/debug/print.hh: Update.
	* oln/level/apply_local.hh (init): Replace by prepare.
	* oln/core/init.hh: Fix.
	* oln/core/equipment.hh (oln_box): New.
	* oln/core/2d/neighb2d.hh: Unconst objects.
	* oln/core/2d/image2d.hh (init_): Rename as...
	(prepare): ...this.
	* oln/core/2d/image2d_b.hh: Likewise.
	* oln/core/internal/op_image_restricted_to_pset.hh: Likewise.
	* oln/core/internal/op_image_plus_nbh.hh: Likewise.
	* oln/core/internal/image_base.hh (init_): New overload.

2007-03-19  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Clean-up morpho, accumulators, and vtypes in base classes.

	* oln/morpho/erosion.hh: Rename as...
	* oln/morpho/elementary_erosion.hh: ...this.
	(erosion): Rename as...
	(elementary_erosion): ...this and update.
	* oln/core/concept/function.hh (Accumulator): Move to...
	* oln/core/concept/accumulator.hh: ...this new file.
	* oln/accumulator/: New.
	* oln/function/min.hh: Rename as...
	* oln/accumulator/min.hh: ...this.
	Split decls and defs.
	* oln/core/internal/dpoint_nd.hh: Remove; obsolete.
	* oln/level/apply.hh (apply_local): Uncomment and move to...
	* oln/level/apply_local.hh: ...this new file.
	* oln/level/apply.hh (apply_inplace): Uncomment and move to...
	* oln/level/apply_inplace.hh: ...this new file.
	* oln/level/local.hh: Fix sigs.
	* oln/core/init.hh (init): Strengthen sigs with Any.
	* oln/core/equipment.hh (argument, oln_argument): New.
	(oln_dim, oln_dpoint, oln_grid): New.
	(include): Reject init.hh to end of file.
	* oln/core/gen/fun.hh (fun_v2v_, functorize_v2v): New.
	* oln/core/internal/point_base.hh,
	* oln/core/internal/dpoint_base.hh,
	* oln/core/internal/point_set_base.hh,
	* oln/core/internal/window_base.hh,
	* oln/core/internal/neighborhood_base.hh,
	* oln/core/internal/image_base.hh: Simplify type deductions.

2007-03-19  Nicolas Ballas  <ballas@lrde.epita.fr>

	Clean code.

	* oln/core/rle/rle_image.hh, oln/core/rle/rle_psite.hh,
	* oln/core/rle/rle_pset.hh, oln/core/encode/sparse_encode.hh: .
	* oln/core/encode/rle_encode.hh: clean code, add comments, change comments form...

2007-03-19  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add the type of 'point set such as f : point -> bool.

	* oln/core/concept/functions.hh: Rename as...
	* oln/core/concept/function.hh: ...this.
	* oln/core/gen/piter_isubset.hh: Rename as...
	* oln/core/internal/piter_adaptor.hh: ...this.
	* oln/core/gen/fun.hh: New.
	* oln/core/internal/op_pset_such_as_fp2b.hh: New.
	* oln/core/concept/value.hh (Boolean): New.
	* oln/core/2d/grid2d.hh (grid2d_rec): Rename as...
	(grid2d): ...this.
	(grid2d): Rename as...
	(grid2d_rec): ...this.
	* oln/core/2d/point2d.hh: Cosmetic change.
	* oln/core/equipment.hh (adapted): New.
	* oln/core/gen/op.hh (category_of_): Move to...
	* oln/core/internal/category_of.hh: ...this new file.
	* oln/core/internal/point_base.hh: Add commentary.
	* oln/core/internal/dpoint_base.hh (vtypes): Add category.
	* oln/core/internal/point_set_base.hh (operator|): New.
	(include): Update.
	* oln/core/internal/op_image_plus_nbh.hh: Cosmetic change.
	* oln/core/internal/special_op.hh (include): Remove image_base.hh.

2007-03-16  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Update : erosion (bring some error to light).

	* oln/morpho,
	* oln/morpho/dilation.hh: New.
	* oln/morpho/dilatation.hh: Remove.
	* oln/morpho/erosion.hh: .
	* oln/function/min.hh: .
	* oln/level/apply.hh: .
	* oln/level/local.hh: .
	* oln/core/concept/functions.hh: .
	* oln/core/internal/op_image_plus_nbh.hh: .
	* oln/morphomath,
	* oln/morphomath/dilatation.hh,
	* oln/morphomath/erosion.hh: Remove.

2007-03-16  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Update : Norme, Sanity, apply of user functors. erosion not yet usable.

	* oln/function/min.hh: .
	* oln/level/apply.hh: .
	* oln/level/local.hh: .
	* oln/core/concept/functions.hh: .
	* oln/core/internal/max_value.hh: .
	* oln/morphomath/erosion.hh: .

2007-03-16  Roland Levillain  <roland@lrde.epita.fr>

	* oln/Makefile.am (nobase_oln_HEADERS): Remove obsolete files.

2007-03-16  Roland Levillain  <roland@lrde.epita.fr>

	Allow Olena to use the SCOOP Alternative implementation (back).

	* oln/core/equipment.hh [OLENA_USE_SCOOP_ALT]: Include
	stc/scoop-alt.hh and stc/scoop-alt.inc instead of
	oln/stc/scoop.hh and oln/stc/scoop.hxx.
	* oln/stc/scoop.hh (stc::is): Name the template parameter for a
	better understanding.

2007-03-16  Nicolas Ballas  <ballas@lrde.epita.fr>

	New test for rle_class and sparse_image class.

	* tests/core/sparse_image.cc: New.
	* tests/core/rle_image.cc: New.
	* tests/core/Makefile.am: Update

2007-03-16  Nicolas Ballas  <ballas@lrde.epita.fr>

	sparse_encode working.

	* oln/core/encode/sparse_encode.hh: Update

2007-03-15  Nicolas Ballas  <ballas@lrde.epita.fr>

	Fix bug on sparse image.

	* oln/core/encode/sparse_encode.hh: New.
	* oln/core/sparse/sparse_image.hh: sparse_image class working now

2007-03-15  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add type of ''image restricted_to a subset''.

	* tests/core/subset.cc: New.
	* tests/core/Makefile.am: Update.
	* oln/debug/println.hh: New.
	* oln/core/internal/op_image_restricted_to_pset.hh: New.
	* oln/debug/print.hh: Fix copyright.
	* oln/core/concept/image.hh (bbox): Provide a final impl.
	* oln/core/rle/rle_image.hh,
	* oln/core/concept/image_identity.hh,
	* oln/core/sparse/sparse_image.hh,
	* oln/core/1d/image1d.hh
	* oln/core/1d/image1d_b.hh
	* oln/core/2d/image2d.hh
	* oln/core/2d/image2d_b.hh: Update.
	* oln/core/concept/neighborhood.hh (oln_decl_op_plus): Move to...
	* oln/core/gen/neighb.hh: ...this file.
	* oln/core/gen/op.hh (oln_decl_op_restricted_to, restricted_to):
	New.
	* oln/core/internal/point_set_base.hh (category): New.
	* oln/core/internal/op_image_plus_nbh.hh: Add static assert.
	* oln/core/internal/image_base.hh (include): Add
	op_image_restricted_to_pset.hh.

2007-03-15  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add external initialization through ''init(target, with, data)''.

	* oln/core/internal/utils.hh (value1, value2, value3, value4):
	Rename as...
	(first, second, third, fourth): ...these.	
	* oln/core/init.hh (init): New version.
	(with_t, with, init_): New.
	* oln/core/1d/image1d.hh (plain, skeleton): New.
	* oln/core/1d/image1d_b.hh: Likewise and update.
	* oln/core/2d/neighb2d.hh (OLN_ENABLE_DEFAULT): New.
	(init_): New.
	* oln/core/2d/array2d.hh: Add FIXMEs.
	* oln/core/2d/image2d.hh (init_): New.
	* oln/core/2d/image2d_b.hh: Likewise.
	* oln/core/2d/box2d.hh (init__): Change sig.
	* oln/core/2d/point2d.hh (init__): Replace by...
	(point2d): ...this new ctor.
	* oln/core/gen/box.hh: Likewise.
	* oln/core/equipment.hh (include): Add init.hh.
	* oln/core/gen/op.hh (op_): New ctor.
	* oln/core/gen/single_value_image.hh: Update.
	* oln/core/concept/point_set.hh (box): New instant value.
	* oln/core/concept/grid.hh (include): Remove.
	* oln/core/concept/point.hh (include): Add grid.hh.
	(point): New instant value.
	* oln/core/concept/value.hh: Fix.
	* oln/core/internal/initializer.hh (operator*): Rename as...
	(value): ...this.
	(init__): Secure.
	* oln/core/internal/op_image_plus_nbh.hh (current): Move.
	(init_): New.
	Update.
	* oln/core/internal/instant_value.hh (oln_decl_instant_value):
	Move type definitions into internal.
	(operator M<W>): Add FIXME.
	* oln/core/internal/image_base.hh (ima): New instant value.
	(data__): New method.
	(init_): New.

2007-03-14  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Update and add : apply, local canvas.

	* tests/core/Makefile.am: .
	* oln/function: New.
	* oln/function/min.hh: New.
	* oln/level/apply.hh: .
	* oln/level/local.hh: New.
	* oln/core/concept/image.hh: .
	* oln/core/concept/functions.hh: .
	* oln/core/internal/max_value.hh: New.
	* oln/morphomath: New.
	* oln/morphomath/dilatation.hh: New.
	* oln/morphomath/erosion.hh: New.

2007-03-14  Nicolas Ballas  <ballas@lrde.epita.fr>

	New sparse_image class, not working yet.

	* oln/core/sparse: New.
	* oln/core/sparse/sparse_image.hh: New.

2007-03-14  Nicolas Ballas  <ballas@lrde.epita.fr>

	New rle_encode function.

	* oln/core/encode,
	* oln/core/encode/rle_encode.hh: New

2007-03-14  Nicolas Ballas  <ballas@bosc-guerard.lrde.epita.fr>

	Fix memory bug on rle image
	Add several assert

	* oln/core/rle/rle_image.hh,
	* oln/core/rle/rle_pset.hh: Update

2007-03-14  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Remove dead code.

	* oln/core/abstract/image/hybrid/classical.hh,
	* oln/core/abstract/image/type/binary.hh,
	* oln/core/abstract/image/type/data.hh,
	* oln/core/abstract/image/type/grey_level.hh,
	* oln/core/abstract/image/type/integre.hh,
	* oln/core/abstract/image/type/color.hh,
	* oln/core/abstract/image/type/hierarchy.hh,
	* oln/core/abstract/image/type/label.hh,
	* oln/core/abstract/image/mutability/hierarchy.hh,
	* oln/core/abstract/image/hierarchies.hh,
	* oln/core/abstract/image/computability/hierarchy.hh,
	* oln/core/abstract/image/dimension/1d.hh,
	* oln/core/abstract/image/dimension/2d.hh,
	* oln/core/abstract/image/dimension/3d.hh,
	* oln/core/abstract/image/dimension/hierarchy.hh,
	* oln/core/abstract/image/all.hh,
	* oln/core/abstract/image/neighborhood/hierarchy.hh,
	* oln/core/abstract/image/point_wise_accessibility/hierarchy.hh,
	* oln/core/abstract/image/bbox/hierarchy.hh,
	* oln/core/abstract/image/value_wise_accessibility/hierarchy.hh,
	* oln/core/abstract/fwd_decls.hh,
	* oln/core/abstract/array.hh,
	* oln/core/abstract/internal/image_impl.hh,
	* oln/core/automatic/image/image.hh,
	* oln/core/automatic/image/image1d.hh,
	* oln/core/automatic/image/image2d.hh,
	* oln/core/automatic/image/image3d.hh,
	* oln/core/automatic/image/image_being_point_wise_random_accessible.hh,
	* oln/core/automatic/image/image_being_value_wise_random_accessible.hh,
	* oln/core/automatic/image/image_having_neighborhood.hh,
	* oln/core/automatic/image/mutable_image.hh,
	* oln/core/automatic/image/mutable_image1d.hh,
	* oln/core/automatic/image/mutable_image2d.hh,
	* oln/core/automatic/image/mutable_image3d.hh,
	* oln/core/automatic/impl.hh,
	* oln/core/automatic/topology/topology_being_random_accessible.hh,
	* oln/core/automatic/topology/topology_having_bbox.hh,
	* oln/core/automatic/topology/topology_having_neighborhood.hh,
	* oln/core/automatic/topology/topology_having_subset.hh,
	* oln/core/iterator_vtypes.hh,
	* oln/core/spe/row.hh,
	* oln/core/spe/col.hh,
	* oln/core/spe/slice.hh,
	* oln/core/type_fun/plain.hh,
	* oln/core/type_fun/ch_value.hh,
	* oln/core/type_fun/slice.hh: Remove files.

	* oln/core/abstract/functions.hh: Rename as...
	* oln/core/concept/functions.hh: ...this and update.
	* oln/core/concept/image.hh: Add doc.

	* oln/core/abstract/image/hybrid,
	* oln/core/abstract/image/type,
	* oln/core/abstract/image/mutability,
	* oln/core/abstract/image/computability,
	* oln/core/abstract/image/dimension,
	* oln/core/abstract/image/neighborhood,
	* oln/core/abstract/image/point_wise_accessibility,
	* oln/core/abstract/image/bbox,
	* oln/core/abstract/image/value_wise_accessibility,
	* oln/core/abstract/image,
	* oln/core/abstract/internal,
	* oln/core/abstract,
	* oln/core/automatic/image,
	* oln/core/automatic/topology,
	* oln/core/spe,
	* oln/core/type_fun: Remove directories.

2007-03-13  Nicolas Ballas  <ballas@lrde.epita.fr>

        Change rle_image/rle_pset storage structure(map<point, value>/ map<point/unsigned>).
	Note that rle_image know bugs (memory problem).

	* oln/core/rle/rle_image.hh Update
	* oln/core/rle/rle_pset.hh Update
	* oln/core/rle/rle_psite.hh Adapte rle_psite class to rle_image and rle_pset changement

2007-03-13  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add oln_plain_value, update level::apply, and provide a sample test code.

	* oln/core/internal/f_ch_value.hh (oln_plain_value): New.
	* oln/core/internal/image_base.hh (include): Add f_ch_value.
	* oln/level/apply.hh: Inactivate almost the whole code.
	(apply): Update a single version.
	* tests/core/apply.cc: New.
	* tests/core/Makefile.am: Update.

2007-03-13  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add plain and ch_value functions on images.

	* oln/core/internal/f_ch_value.hh,
	* oln/core/internal/f_pset_plain.hh: New.
	* tests/core/neighb2d.cc: Fix.
	* tests/core/Makefile.am: Fix.
	* oln/core/concept/image.hh (plain): New.
	* oln/core/equipment.hh (plain, skeleton): New.
	(oln_plain): New.
	* oln/core/2d/image2d.hh: Update.
	* oln/core/2d/image2d_b.hh: Update.
	* oln/core/gen/op.hh (op_): New ctor.
	* oln/core/gen/single_value_image.hh: Update.
	* oln/core/internal/op_image_plus_nbh.hh: Separate decl and impl.
	(special_op_): New ctor.
	* oln/core/internal/instant_value.hh: Inactivate code that does not
	compile with g++-3.
	* oln/core/internal/image_base.hh (pl::value, pl::rec): New.
	(image_base_): Update.
	* oln/stc/scoop.hh (stc_type_in_, stc_type_in): New.

2007-03-13  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add initialization material; extend point2d and box2d with it.

	* oln/core/init.hh,
	* oln/core/internal/initializer.hh,
	* oln/core/internal/instant_value.hh: New.
	* oln/core/concept/grid.hh (from, to): New.
	* oln/core/2d/grid2d.hh (row, col),
	(drow, dcol, nrows, ncols): New.
	* oln/core/2d/box2d.hh (init__): New.
	* oln/core/2d/point2d.hh (init__): New.
	* oln/core/gen/box.hh (init__): New.
	(operator<<): New.
	* oln/core/internal/utils.hh: Add FIXME.

2007-03-13  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add 1D classes and remove some dead code.

	* oln/core/internal/utils.hh (triplet): New.
	* oln/core/1d/image1d_b.hh,
	* oln/core/1d/grid1d.hh,
	* oln/core/1d/box1d.hh,
	* oln/core/internal/dpoint1d.hh,
	* oln/core/internal/point1d.hh: New.
	* tests/core/grid.cc,
	* oln/core/1d/neighb1d.hh,
	* oln/core/1d/dpoint1d.hh,
	* oln/core/1d/array1d.hh,
	* oln/core/1d/image1d.hh,
	* oln/core/1d/window1d.hh,
	* oln/core/1d/point1d.hh: Update.

	* oln/core/aliases.hh,
	* oln/core/fwd_decls.hh,
	* oln/core/1d/aliases.hh,
	* oln/core/1d/topo1d.hh,
	* oln/core/1d/fwd_decls.hh,
	* oln/core/2d/aliases.hh,
	* oln/core/2d/topo2d.hh,
	* oln/core/2d/fwd_decls.hh,
	* oln/core/3d/aliases.hh,
	* oln/core/3d/topo3d.hh,
	* oln/core/3d/fwd_decls.hh,
	* oln/core/gen/fwd_decls.hh: Remove.
	* oln/core/2d/box2d.hh,
	* oln/core/2d/neighb2d.hh,
	* oln/core/2d/window2d.hh (include): Remove aliases.
	* oln/core/internal/point2d.hh (grid_): Remove fwd decl.

2007-03-12  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add type of 2d images with border.

	* tests/core/Makefile.am (check_PROGRAMS): Add neighb2d.
	* oln/debug/print.hh: Update.
	* oln/core/2d/array2d.hh (operator[], blen_): New.
	* oln/core/2d/image2d.hh (npoints): Fix; rename as...
	(impl_npoints): ...this.
	(operator[]): Update.
	* oln/core/2d/image2d_b.hh: Update.
	* oln/core/2d/grid2d.hh (OLN_ENV_2D): New.
	* oln/core/equipment.hh (oln_coord): New.
	* oln/core/gen/dpoints_piter.hh (dps_): Change type.
	* oln/core/internal/image_base.hh (impl_npoints): New; default impl.
	* oln/core/internal/point_set_std_based.hh: Fix.

2007-03-11  Nicolas Ballas  <ballas@lrde.epita.fr>

	Add rle_class, not finish yet.

	* oln/core/rle: New.
	* oln/core/rle/rle_image.hh: New.
	* oln/core/rle/rle_psite.hh: New.
	* oln/core/rle/rle_pset.hh: New.

2007-03-11  Nicolas Ballas  <ballas@bosc-guerard.lrde.epita.fr>

         Add rle_image class, not finish yet.
	 rle_image class depends on rle_psite class and rle_pset class.

	* oln/core/rle/rle_image.hh: New
	* oln/core/rle/rle_psite.hh: .
	* oln/core/rle/rle_pset.hh: .

2007-03-09  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Add test for neighborhood.

	* tests/core/neighb2d.cc: New.
	* tests/core/Makefile.am: .
	* oln/core/automatic/impl.hh: .
	* oln/core/abstract/internal/image_impl.hh: .

2007-03-09  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Update tests.

	* tests/core/image_entry.cc: Remove; obsolete.
	* tests/core/window2d.cc,
	* tests/core/point2d.cc,
	* tests/core/dpoint2d.cc,
	* tests/core/at.cc,
	* tests/core/Makefile.am,
	* tests/core/grid.cc,
	* tests/core/image2d.cc,
	* tests/core/npoints.cc,
	* oln/debug/print_nbh.hh,
	* oln/level/fill.hh: Update.

2007-03-08  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Add the notion of image plus neighborhood and the underlying
	mechanism.

	* oln/debug/print_nbh.hh,
	* oln/debug/iota.hh,
	* oln/core/concept/image_identity.hh,
	* oln/core/gen/op.hh,
	* oln/core/internal/op_image_plus_nbh.hh,
	* oln/core/internal/special_op.hh: New.
	* oln/core/concept/image.hh (fwd_niter, bkd_niter, niter): New.
	* oln/core/concept/neighborhood.hh (category): New.
	(include): Add op_image_plus_nbh.hh.
	(oln_decl_op_plus): New.  Handle "Image + Neighborhood".
	* oln/core/equipment.hh (left, right, oper, tag): New.
	* oln/core/gen/single_value_image.hh: Fix.
	* oln/core/internal/neighborhood_base.hh (category): New.
	(neighborhood_base_): Fix inheritance.
	* oln/core/internal/image_base.hh (image_extension_): New.
	(image_base_): Add dpoint.
	* oln/stc/scoop.hxx (vtypes, super_trait_): Add specialization
	for const types.
	(super_trait_): Handle error when not user-defined.

2007-03-08  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Move the responsibility of iteration on window points from
	images to windows.

	* ChangeLog: Add missing former entry.
	* core/concept/image.hh (value): Add missing code.
	(qiter, fwd_qiter, bkd_qiter): Move to...
	* core/concept/window.hh: ...here.
	(point): New virtual type.
	* core/concept/neighborhood.hh (point): Likewise.
	* core/2d/aliases.hh,
	* core/2d/neighb2d.hh,
	* core/2d/dpoint2d.hh,
	* core/2d/window2d.hh,
	* core/2d/box2d.hh: Update.
	* core/gen/dpoints_piter.hh (include): Remove useless ones.
	* oln/core/internal/neighborhood_base.hh: New.
	* core/gen/neighb.hh: Update inheritance.
	* oln/core/internal/window_base.hh: New.
	* core/gen/window.hh: Update inheritance.
	(vtypes): Update.
	* core/internal/point_set_std_based.hh: Fix missing return.
	* core/internal/image_base.hh: Update.
	* core/internal/point2d.hh: Fix wrong visibility.

2007-03-07  Ugo Jardonnet  <ugo.jardonnet@lrde.epita.fr>

	Fix name lookup for attribute of super classes.

	* olena/oln/core/concept/image.hh,
	* olena/oln/core/gen/dpoints_piter.hh,
	* olena/oln/core/internal/point_base.hh,
	* olena/oln/core/internal/dpoint_base.hh: Fix name lookup
	for attribute of super classes.

2007-03-06  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Update windows and neighborhoods + remove obsolete files.

	* oln/core/abstract/window.hh: Rename as...
	* oln/core/concept/window.hh: ...this and update.
	* oln/core/abstract/neighborhood.hh: Rename as...
	* oln/core/concept/neighborhood.hh: ...this and update.
	* oln/core/gen/fwd_qiter_win.hh: Rename as...
	* oln/core/gen/dpoints_piter.hh: ...this and update.
	* oln/core/internal/dpoints_impl.hh: New.
	* oln/core/2d/neighb2d.hh: Update.
	* oln/core/internal/image_base.hh (plain_primitive_image_): New.
	* oln/core/2d/image2d.hh (image2d): Inherit from plain_primitive_image_.
	* oln/core/2d/window2d.hh: Update
	(mk_square): New.
	* oln/core/gen/neighb.hh: Update.
	* oln/core/internal/image_selectors.hh: Fix.
	* oln/core/internal/dpoint_base.hh (include): Fix.

	* oln/core/type.hh,
	* oln/core/typedefs.hh,
	* oln/core/macros.hh,
	* oln/core/neighborhood_entry.hh,
	* oln/core/gen/bkd_qiter_win.hh,
	* oln/core/gen/grid.hh,
	* oln/core/gen/topo_add_isubset.hh,
	* oln/core/gen/topo_bbox.hh,
	* oln/core/gen/fwd_niter_neighb.hh,
	* oln/core/gen/topo_lbbox.hh,
	* oln/core/gen/bkd_niter_neighb.hh,
	* oln/core/gen/topo_add_nbh.hh,
	* oln/core/internal/topology_morpher.hh: Remove.

2007-03-06  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Extend image selectors and add image2d type.

	* core/concept/image.hh (doc): New.
	(Fast_Image): New.
	(Random_Accessible_Image, Random_Mutable_Image): Merge into
	Fast_Image.
	* core/concept/point_set.hh (include): Update.
	* core/concept/point.hh: Likewise.
	* core/2d/array2d.hh (include): Remove abstract/array.
	(array2d): Rename as...
	(array2d_): ...this.
	(imin, jmin, imax, jmax, buffer, ncells): New methods.
	* core/2d/image2d.hh: Update.
	* core/2d/image2d_b.hh: New.
	* core/2d/grid2d.hh (Grid_2D): New.
	(grid2d_rec, grid2d_hex, grid2d_tri): New.
	* core/equipment.hh (ch_value, output): New.
	* core/gen/box.hh: Fix.
	* core/internal/image_selectors.hh: Update.
	* core/internal/image_base.hh (qiter, fwd_qiter, bkd_qiter): New.
	* stc/scoop.hh (stc_get_type_, stc_get_type, stc_is_a): New.

2007-03-05  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Update image concepts and add single_value_image.

	* core/abstract/image.hh: Rename as...
	* core/concept/image.hh: ...this.
	Update.
	Add some code from files in core/abstract/image/.
	* core/image_entry.hh: Rename as...
	* core/internal/image_base.hh: ...this.
	Update.
	Add some code from files in core/internal/.
	* core/gen/image_pset_piter.hh,
	* core/gen/single_value_image.hh,
	* core/internal/utils.hh,
	* core/internal/image_selectors.hh: New.
	* core/topology_entry.hh: Remove this residue.
	* core/concept/point_set.hh (has): Fix typo.
	* core/concept/point.hh (oln/core/concept/operators):
	Include.
	* core/equipment.hh: Update.
	* stc/scoop.hxx (internal::top): Rename as...
	(internal::top__): ...this to disambiguate.

2007-03-05  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Update some abstractions and remove topology-related classes.

	* oln/core/abstract/value.hh: Rename as...
	* oln/core/concept/value.hh: ...this and update.
	* oln/core/abstract/iterator_on_values.hh: Rename as...
	* oln/core/concept/iterator_on_values.hh: ...this and update.
	* oln/core/abstract/topology/topology_having_bbox.hh,
	* oln/core/abstract/topology/hierarchies.hh,
	* oln/core/abstract/topology/all.hh,
	* oln/core/abstract/topology/topology_being_random_accessible.hh,
	* oln/core/abstract/topology/topology_having_subset.hh,
	* oln/core/abstract/topology/topology_having_neighborhood.hh:
	Remove.

2007-03-05  Thierry Geraud  <thierry.geraud@lrde.epita.fr>

	Cleaning point set classes.

	* oln/core/point_set_entry.hh: Rename as...
	* oln/core/internal/point_set_base.hh: ...this and update.
	* oln/core/abstract/point_set.hh: Rename as...
	* oln/core/concept/point_set.hh: ...this and update.
	* oln/core/abstract/iterator.hh: Rename as...
	* oln/core/concept/iterator.hh: ...this and update.
	* oln/core/abstract/iterator_on_points.hh: Rename as...
	* oln/core/concept/iterator_on_points.hh: ...this and update.
	* oln/core/abstract/point_set/point_set_being_random_accessible.hh,
	* oln/core/abstract/point_set/point_set_having_known_size.hh,
	* oln/core/abstract/point_set/hierarchies.hh,
	* oln/core/abstract/point_set/all.hh,
	* oln/core/abstract/point_set/point_set_being_connected.hh,
	* oln/core/abstract/point_set/point_set_having_bbox.hh: Remove.
	* oln/core/gen/bbox.hh: Split and rename as...
	* oln/core/gen/box.hh: ...this and update...
	* oln/core/gen/fbbox.hh: ...and this and update.
	* oln/core/gen/bbox_fwd_piter.hh,
	* oln/core/gen/bbox_bkd_piter.hh: Remove because merge with...
	* oln/core/gen/box.hh: ...this.
	* oln/core/gen/pset_.hh: Rename as...
	* oln/core/gen/pset.hh: ...this and update.
	* oln/core/gen/pset_list.hh: Rename as...
	* oln/core/gen/plist.hh: ...this and update.
	* oln/core/gen/pset_vec.hh: Rename as...
	* oln/core/gen/pvec.hh: ...this and update.
	* oln/core/gen/piter_on_std_based_pset.hh: Rename as...
	* oln/core/internal/point_set_std_based.hh: ...this and update.
	* oln/core/2d/aliases.hh: Update.
	* oln/core/equipment.hh: Update.
	* oln/core/2d/box2d.hh: New.

2007-03-02  Thierry Geraud  <theo@lrde.epita.fr>

	Start cleaning so the trunk is BROKEN for several weeks.

	Add a temporary SCOOP equipment.

	* oln/stc/scoop.hh: New.
	* oln/stc/scoop.hxx: New.
	* oln/core/equipment.hh: New.

	Define some concepts.

	* oln/core/abstract/grid.hh: Rename as...
	* oln/core/concept/grid.hh: ...this and update.
	* oln/core/abstract/point.hh: Rename as...
	* oln/core/concept/point.hh: ...this and update.
	* oln/core/abstract/dpoint.hh: Rename as...
	* oln/core/concept/dpoint.hh: ...this and update.
	* oln/core/concept/operators.hh: New.

	Update implementation classes.

	* oln/core/2d/grid2d.hh: New.
	* oln/core/2d/dpoint2d.hh: Update.
	* oln/core/2d/point2d.hh: Update.
	* oln/core/internal/point_nd.hh: Rename as...
	* oln/core/internal/point_base.hh: ...this and update.
	* oln/core/internal/dpoint_base.hh: New.
	* oln/core/internal/dpoint2d.hh: New.
	* oln/core/internal/point2d.hh: New.

	Last.

	* oln/core/internal/tracked_ptr.hh (mlc/contract.hh): Include it.

2007-03-02  Roland Levillain  <roland@lrde.epita.fr>

	Improve sanity checks.

	* tests/sanity/Makefile.am (CPPFLAGS): Rename as...
	(AM_CPPFLAGS): ...this.
	(check): Rename as...
	(check-local): ...this.
	Pass CXX and CXXFLAGS variables to includes.test through the
	environment.
	Protect RHS in shell variable assignments.

2007-01-30  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with Static.

	* oln/core/typedefs.hh: Catch up with stc/scoop-alt.hh.
	* oln/core/abstract/image/bbox/hierarchy.hh,
	* oln/core/abstract/image/dimension/hierarchy.hh,
	* oln/core/abstract/image/hybrid/classical.hh,
	* oln/core/abstract/image/mutability/hierarchy.hh,
	* oln/core/abstract/image/neighborhood/hierarchy.hh,
	* oln/core/abstract/image/value_wise_accessibility/hierarchy.hh,
	* oln/core/abstract/iterator_on_points.hh,
	* oln/core/abstract/point.hh,
	* oln/core/internal/dpoint_nd.hh,
	* oln/core/image_entry.hh:
	s/OLENA_USE_NEW_SCOOP2/OLENA_USE_SCOOP_ALT/g.

2007-01-26  Roland Levillain  <roland@lrde.epita.fr>

	Add temporary helpers to support the new SCOOP 2 implementation.
	The macro OLENA_USE_NEW_SCOOP2 is used to tag the places where
	support code is introduced.

	* oln/core/typedefs.hh (stc/scoop2.hh) [OLENA_USE_NEW_SCOOP2]:
	Include it.
	(stc/scoop.hh) [!OLENA_USE_NEW_SCOOP2]: Include it.
	Invoke stc_scoop_equipment_for_namespace(oln).


	Temporary hack: define deferred virtual types as single_vtypes
	when using new SCOOP 2 implementation.

	* oln/core/image_entry.hh
	(vtypes< image_entry<E> >::rvalue_type)
	[!OLENA_USE_NEW_SCOOP2]: Define it.
	(single_vtype<image_entry<E>, typedef_::rvalue_type>
	[!OLENA_USE_NEW_SCOOP2]: Define it.
	* oln/core/abstract/iterator_on_points.hh
	(vtypes< abstract::iterator_on_points<E> >)
	[!OLENA_USE_NEW_SCOOP2]: Define it.
	(single_vtype<abstract::iterator_on_points<E>, typedef_::coord_type>)
	[OLENA_USE_NEW_SCOOP2]: Define it.
	* oln/core/abstract/point.hh (oln, oln):
	(vtypes< abstract::point<E> >::coord_type)
	(vtypes< abstract::point<E> >::vec_type)
	[!OLENA_USE_NEW_SCOOP2]: Define them.
	(single_vtype< abstract::point<E>, typedef_::coord_type>)
	(single_vtype< abstract::point<E>, typedef_::vec_type>)
	[OLENA_USE_NEW_SCOOP2]: Define them.
	* oln/core/internal/point_nd.hh (vtypes< internal::point_nd<E> >):
	Disable it (duplicate with vtypes< abstract::point<E> >).
	* oln/core/internal/dpoint_nd.hh
	(vtypes< internal::dpoint_nd<E> >::vec_type)
	[!OLENA_USE_NEW_SCOOP2]: Define it.
	(single_vtype< internal::dpoint_nd<E>, typedef_::vec_type >)
	[OLENA_USE_NEW_SCOOP2]: Define it.


	Fix the usage of stc::not_found and stc::is_found_.

	* oln/core/abstract/image/dimension/hierarchy.hh
	(case_<image_hierarchy_wrt_dimension, E, 1>)
	(case_<image_hierarchy_wrt_dimension, E, 3>)
	(case_<image_hierarchy_wrt_dimension, E, 5>)
	[OLENA_USE_NEW_SCOOP2]: Use stc::is_found_ to check for the
	existence of an lvalue.
	[!OLENA_USE_NEW_SCOOP2]: Use mlc::is_found_ to check for the
	existence of an lvalue.
	* oln/core/abstract/image/mutability/hierarchy.hh
	(case_<image_hierarchy_wrt_mutability, E, 1>)
	[OLENA_USE_NEW_SCOOP2]: Use stc::is_found_ to check for the
	existence of an lvalue.
	[!OLENA_USE_NEW_SCOOP2]: Use mlc::is_found_ to check for the
	existence of an lvalue.
	* oln/core/abstract/image/bbox/hierarchy.hh
	(case_<image_hierarchy_wrt_bbox, E, 1>)
	[OLENA_USE_NEW_SCOOP2]: Use stc::is_found_ to check for the
	existence of a bounding box.
	[!OLENA_USE_NEW_SCOOP2]: Use mlc::is_found_ to check for the
	existence of a bounding box.
	* oln/core/abstract/image/hybrid/classical.hh
	(case_<image_hybrid_hierarchy_wrt_classical, E, 1>)
	(case_<image_hybrid_hierarchy_wrt_classical, E, 2>)
	(case_<image_hybrid_hierarchy_wrt_classical, E, 3>)
	(case_<image_hybrid_hierarchy_wrt_classical, E, 4>)
	[OLENA_USE_NEW_SCOOP2]: Use stc::not_found to check for the
	existence of a bounding box.
	(case_<image_hybrid_hierarchy_wrt_classical, E, 1>)
	(case_<image_hybrid_hierarchy_wrt_classical, E, 2>)
	(case_<image_hybrid_hierarchy_wrt_classical, E, 3>)
	(case_<image_hybrid_hierarchy_wrt_classical, E, 4>)
	[!OLENA_USE_NEW_SCOOP2]: Use mlc::not_found to check for the
	existence of a bounding box.
	* oln/core/abstract/image/value_wise_accessibility/hierarchy.hh
	(case_<image_hierarchy_wrt_value_wise_accessibility, E, 1>):
	(case_<image_hierarchy_wrt_value_wise_accessibility, E, 2>):
	[OLENA_USE_NEW_SCOOP2]: Use stc::is_found_ to check for the
	existence of a value iterator (and a value proxy).
	[!OLENA_USE_NEW_SCOOP2]: Use mlc::is_found_ to check for the
	existence of a value iterator (and a value proxy).
	* oln/core/abstract/image/neighborhood/hierarchy.hh
	(case_<image_hierarchy_wrt_neighborhood, E, 1>)
	[OLENA_USE_NEW_SCOOP2]: Use stc::is_found_ to check for the
	existence of a neighborhood.
	[!OLENA_USE_NEW_SCOOP2]: Use mlc::is_found_ to check for the
	existence of a neighborhood.


	* oln/core/abstract/grid.hh (set_super_type<abstract::grid<E>>):
	New.  Fix abstract::grid not having a super type.
	* oln/morpher/thru_mfun.hxx: Move all implementations of methods
	into...
	(oln::morpher): ...this namespace.

	* oln/core/gen/fwd_viter_lut.hh, oln/core/gen/bkd_viter_lut.hh,
	* oln/core/gen/topo_bbox.hh, oln/core/gen/topo_lbbox.hh,
	* oln/core/gen/topo_add_isubset.hh, oln/core/gen/topo_add_nbh.hh,
	* oln/core/internal/bbox_fwd_piter.hh: Fix comments.
	* oln/core/2d/point2d.hh (oln): Aesthetic changes.

	* tests/core/point2d.cc: Fix inter-dependent headers.
	* tests/core/dpoint2d.cc: Add a static assertion.
	* tests/algorithms/fill.cc:
	s/oln_type_of_(image_t, piter)/oln_piter_(image_t)/

2007-01-19  Thomas Moulard  <thomas.moulard@lrde.epita.fr>

	Split morphers' interface and implementation.
	* oln/morpher/add_isubset.hh: Split into...
	* oln/morpher/add_isubset.hxx: ...this new file.
	* oln/morpher/add_neighborhood.hh: Split into...
	* oln/morpher/add_neighborhood.hxx: : ...this new file.
	* oln/morpher/count_rw.hh: Split into...
	* oln/morpher/count_rw.hxx: : ...this new file.
	* oln/morpher/identity.hh: Split into...
	* oln/morpher/identity.hxx: : ...this new file.
	* oln/morpher/stack.hh: Split into...
	* oln/morpher/stack.hxx: : ...this new file.
	* oln/morpher/stack_rw.hh: Split into...
	* oln/morpher/stack_rw.hxx: : ...this new file.
	* oln/morpher/thru_fun.hh: Split into...
	* oln/morpher/thru_mfun.hh: Split into...
	* oln/morpher/thru_mfun.hxx: : ...this new file.
	* oln/morpher/two_way.hh: Split into...
	* oln/morpher/two_way.hxx: : ...this new file.
	* oln/morpher/two_way_rw.hh: Split into...
	* oln/morpher/two_way_rw.hxx: : ...this new file.
	* oln/morpher/value_cast.hh: Split into...
	* oln/morpher/value_cast.hxx: : ...this new file.
	* oln/morpher/with_lut.hh: Split into...
	* oln/morpher/with_lut.hxx: : ...this new file.

2006-12-04  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Propagate scoop update to oln.

	* oln/core/macros.hh
	(oln_type_of_, oln_type_of, oln_deduce_type_of): Update and rename
	as...
	(oln_vtype_, oln_vtype, oln_deduce_vtype): ...these.
	(oln_deferred_vtype, oln_deduce_deferred_vtype): New.
	(oln_find_vtype, oln_find_deferred_vtype): New.
	* tests/morphers/add_neighborhood_morpher.cc: Update.
	* tests/morphers/morphers.cc: Likewise.
	* tests/core/image_entry.cc: Likewise.
	* tests/core/grid.cc: Likewise.
	* tests/core/image1d.cc: Likewise.
	* tests/core/image2d.cc: Likewise.
	* tests/core/image3d.cc: Likewise.
	* tests/core/npoints.cc: Likewise.
	* oln/debug/print.hh: Likewise.
	* oln/core/typedefs.hh: Likewise.
	* oln/core/automatic/impl.hh: Likewise.
	* oln/core/automatic/image/image.hh: Likewise.
	* oln/core/automatic/image/image_being_point_wise_random_accessible.hh:
	Likewise.
	* oln/core/automatic/image/image_having_neighborhood.hh: Likewise.
	* oln/core/automatic/image/image_being_value_wise_random_accessible.hh:
	Likewise.
	* oln/core/automatic/topology/topology_having_bbox.hh: Likewise.
	* oln/core/automatic/topology/topology_having_subset.hh: Likewise.
	* oln/core/automatic/topology/topology_being_random_accessible.hh:
	Likewise.
	* oln/core/automatic/topology/topology_having_neighborhood.hh:
	Likewise.
	* oln/core/spe/row.hh: Likewise.
	* oln/core/spe/col.hh: Likewise.
	* oln/core/spe/slice.hh: Likewise.
	* oln/core/iterator_vtypes.hh: Likewise.
	* oln/core/abstract/iterator_on_points.hh: Likewise.
	* oln/core/abstract/image/hybrid/classical.hh: Likewise.
	* oln/core/abstract/image/type/integre.hh: Likewise.
	* oln/core/abstract/image/type/hierarchy.hh: Likewise.
	* oln/core/abstract/image/computability/hierarchy.hh: Likewise.
	* oln/core/abstract/image/dimension/1d.hh: Likewise.
	* oln/core/abstract/image/dimension/2d.hh: Likewise.
	* oln/core/abstract/image/dimension/3d.hh: Likewise.
	* oln/core/abstract/image/point_wise_accessibility/hierarchy.hh:
	Likewise.
	* oln/core/abstract/point_set/point_set_being_random_accessible.hh:
	Likewise.
	* oln/core/abstract/point_set/point_set_having_known_size.hh: Likewise.
	* oln/core/abstract/point_set/point_set_being_connected.hh: Likewise.
	* oln/core/abstract/point_set/point_set_having_bbox.hh: Likewise.
	* oln/core/abstract/topology/topology_having_bbox.hh: Likewise.
	* oln/core/abstract/topology/topology_being_random_accessible.hh:
	Likewise.
	* oln/core/abstract/topology/topology_having_subset.hh: Likewise.
	* oln/core/abstract/topology/topology_having_neighborhood.hh: Likewise.
	* oln/core/abstract/internal/image_impl.hh: Likewise.
	* oln/core/gen/piter_isubset.hh: Likewise.
	* oln/core/gen/topo_add_isubset.hh: Likewise.
	* oln/core/gen/bbox.hh: Likewise.
	* oln/core/gen/topo_bbox.hh: Likewise.
	* oln/core/gen/neighb.hh: Likewise.
	* oln/core/gen/bkd_viter_lut.hh: Likewise.
	* oln/core/gen/pset_list.hh: Likewise.
	* oln/core/gen/window.hh: Likewise.
	* oln/core/gen/topo_lbbox.hh: Likewise.
	* oln/core/gen/pset_vec.hh: Likewise.
	* oln/core/gen/pset_.hh: Likewise.
	* oln/core/gen/fwd_viter_lut.hh: Likewise.
	* oln/core/gen/mapimage.hh: Likewise.
	* oln/core/gen/topo_add_nbh.hh: Likewise.
	* oln/core/internal/topology_morpher.hh: Likewise.
	* oln/core/internal/point_nd.hh: Likewise.
	* oln/core/internal/bbox_bkd_piter.hh: Likewise.
	* oln/core/internal/bbox_fwd_piter.hh: Likewise.
	* oln/core/internal/dpoint_nd.hh: Likewise.
	* oln/morpher/add_isubset.hh: Likewise.
	* oln/morpher/value_cast.hh: Likewise.
	* oln/morpher/thru_fun.hh: Likewise.
	* oln/morpher/slice.hh: Likewise.
	* oln/morpher/with_lut.hh: Likewise.
	* oln/morpher/thru_mfun.hh: Likewise.
	* oln/morpher/internal/image_value_morpher.hh: Likewise.
	* oln/morpher/internal/image_extension.hh: Likewise.
	* oln/morpher/add_neighborhood.hh: Likewise.

	Entry classes now use:
	- stc::abstract instead of mlc::undefined;
	- stc::final when possible;
	- 'deferred' versions of vtype access when required.

	* oln/core/point_set_entry.hh: Update.
	(set_super_type): New.
	(vtypes): Update.
	* oln/core/neighborhood_entry.hh: Likewise.
	* oln/core/topology_entry.hh: Likewise.
	* oln/core/image_entry.hh: Likewise.
	* oln/core/abstract/grid.hh: Likewise.
	* oln/core/abstract/image.hh: Likewise.
	(decl): Re-activate static checks.
	* oln/core/abstract/iterator.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/dpoint.hh: Likewise.
	* oln/core/abstract/iterator_on_values.hh: Likewise.
	* oln/core/abstract/window.hh: Likewise.

	Remove obsolete definitions of now final vtypes.

	* tests/core/image_entry.cc: Update.
	* oln/core/1d/image1d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.

	Update tests with the 'find' version of vtype access.

	* oln/core/abstract/image/mutability/hierarchy.hh: Update.
	* oln/core/abstract/image/dimension/hierarchy.hh: Likewise.
	* oln/core/abstract/image/neighborhood/hierarchy.hh: Likewise.
	* oln/core/abstract/image/bbox/hierarchy.hh: Likewise.
	* oln/core/abstract/image/value_wise_accessibility/hierarchy.hh:
	Likewise.

	Update from 'delegated' to 'delegatee'.

	* oln/core/abstract/internal/image_impl.hh: Update.
	* oln/core/gen/topo_add_nbh.hh: Likewise.
	* oln/core/internal/topology_morpher.hh: Likewise.
	* oln/morpher/internal/image_value_morpher.hh: Likewise.
	* oln/morpher/internal/image_extension.hh: Likewise.
	* oln/core/typedefs.hh (delegated_type): Add commentary.

	Misc.

	* tests/core/at.cc: Cosmetic change.
	* oln/core/gen/bbox.hh (vtypes): Fix typo.
	* oln/core/gen/pset_list.hh: Likewise.
	* oln/core/gen/pset_vec.hh: Likewise.
	* oln/core/gen/pset_.hh: Likewise.
	* tests/core/image_entry.cc (is_computed_type): Fix missing.

2006-11-15  Roland Levillain  <roland@lrde.epita.fr>

	Add a specialization of level::fill for value-wise random-accessible
	images.

	* tests/morphers/with_lut.cc (main): More static checking of
	the interface of an image with LUT.
	Test oln::level::fill on an image with LUT.
	* oln/level/fill.hh
	(level::fill(abstract::
	 mutable_image_being_value_wise_random_accessible<I>&))
	(level::impl::
	 fill(abstract::mutable_image_being_value_wise_random_accessible<I>&)):
	 New.
	* oln/core/typedefs.hh (oln_fwd_viter, oln_fwd_viter_)
	(oln_bkd_viter, oln_bkd_viter_, oln_viter, oln_viter_): New macros.
	* oln/core/gen/bkd_viter_lut.hh
	(bkd_viter_lut::bkd_viter_lut(const morpher::with_lut<Image, Lut>&))
	* oln/core/gen/fwd_viter_lut.hh
	(fwd_viter_lut::fwd_viter_lut(const morpher::with_lut<Image, Lut>&))
	New ctors.

2006-11-15  Roland Levillain  <roland@lrde.epita.fr>

	Fix virtual types of oln::internal::point_nd and
	oln::internal::dpoint_nd.

	* oln/core/internal/point_nd.hh
	(oln::vtypes< internal::point_nd<E> >::vec_t)
	(oln::vtypes< internal::point_nd<E> >::psite_type): Remove
	typedefs.
	(oln::vtypes< internal::point_nd<E> >::vec_type): Fix typedef.
	* oln/core/internal/point_nd.hh
	(oln::vtypes< internal::point_nd<E> >::vec_t): Remove typedef.
	(oln::vtypes< internal::point_nd<E> >::vec_type): Fix typedef.

2006-11-14  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Now call simplified scoop macros.

	* oln/core/macros.hh
	(oln_deduce_direct_type_of_, oln_deduce_direct_type_of): Remove.
	(oln_check_type_of, oln_check_type_of_): Remove.
	(oln_check_direct_type_of, oln_check_direct_type_of_): Remove.
	(oln_deduce): New; shortcut to oln_deduce_type_of.

	Add missing shortcuts.

	* oln/core/typedefs.hh (oln_dim, oln_dim_): New.
	(oln_vec, oln_vec_): New.
	(oln_bbox, oln_bbox_): New.
	(include): Fix and add fwd decls.

	Move single_vtype definitions into vtypes structures.

	* oln/core/point_set_entry.hh: Update.
	(single_vtype): Move into...
	(vtypes): ...this.
	* oln/core/neighborhood_entry.hh: Likewise.
	* oln/core/topology_entry.hh: Likewise.
	* oln/core/image_entry.hh: Likewise.
	* oln/core/abstract/iterator_on_points.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/gen/topo_add_nbh.hh: Likewise.
	* oln/core/internal/topology_morpher.hh: Likewise.
	* oln/morpher/value_cast.hh: Likewise.
	* oln/morpher/two_way.hh: Likewise.
	* oln/morpher/thru_fun.hh: Likewise.
	* oln/morpher/slice.hh: Likewise.
	* oln/morpher/with_lut.hh: Likewise.
	* oln/morpher/count_rw.hh: Likewise.
	* oln/morpher/two_way_rw.hh: Likewise.
	* oln/morpher/stack.hh: Likewise.
	* oln/morpher/thru_mfun.hh: Likewise.
	* oln/morpher/stack_rw.hh: Likewise.
	* oln/morpher/internal/image_value_morpher.hh: Likewise.

	Prevent problems due to mutual recursion (thru inheritance
	and dependent types).

	* oln/core/abstract/image.hh (decl): Disable static checks.
	* oln/core/abstract/image/bbox/hierarchy.hh: Update.
	(decl): Disable static check.
	* oln/core/abstract/point_set.hh (~point_set): Fix code.
	(decl): Disable static check.
	* oln/core/gen/fwd_piter_bbox.hh: Update.
	Disable static check.
	* oln/core/gen/bkd_piter_bbox.hh: Update.
	Disable static check.

	For safety purpose.

	* oln/basics2d.hh (include): Move iterator_vtypes up.

	Decouple some files from specific code.

	* oln/core/automatic/image/mutable_image1d.hh
	(include): Remove dependency to specific point header.
	(tmp): Update.
	* oln/core/automatic/image/mutable_image2d.hh: Likewise.
	* oln/core/automatic/image/mutable_image3d.hh: Likewise.
	* oln/core/automatic/image/image1d.hh: Likewise.
	* oln/core/automatic/image/image2d.hh: Likewise.
	* oln/core/automatic/image/image3d.hh: Likewise.
	* oln/core/1d/dpoint1d.hh: Add fwd decls and/or aliases.
	(include): Remove aliases header.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/3d/dpoint3d.hh: Likewise.
	* oln/core/1d/point1d.hh: Add fwd decls and/or aliases.
	(include): Remove aliases header.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.
	* oln/core/1d/neighb1d.hh: Add alias.
	* oln/core/2d/neighb2d.hh: Likewise.
	* oln/core/3d/neighb3d.hh: Likewise.
	* tests/core/point2d.cc (include): Solve FIXME.
	(main): Change test.
	* tests/core/dpoint2d.cc: Likewise.

	Update.

	* tests/morphers/with_lut.cc: Cosmetics.
	* tests/core/image_entry.cc: Update.
	* oln/io/pnm.hh: Use shortcuts.
	(include): Update.
	* oln/core/abstract/point_set/point_set_having_bbox.hh: Update.
	* oln/core/gen/bkd_qiter_win.hh: Update.
	* oln/core/gen/grid.hh: Update.
	* oln/core/gen/bkd_viter_lut.hh: Update.
	* oln/core/gen/bbox_fwd_piter.hh: Update.
	* oln/core/gen/fwd_niter_neighb.hh: Update.
	* oln/core/gen/fwd_qiter_win.hh: Update.
	* oln/core/gen/bbox_bkd_piter.hh: Update.
	* oln/core/gen/bkd_niter_neighb.hh: Update.
	* oln/core/gen/fwd_viter_lut.hh: Update.
	* oln/core/internal/point_nd.hh: Update.
	(vtypes): New.
	* oln/core/internal/dpoint_nd.hh: Update.
	(vtypes): New.
	* oln/morpher/add_isubset.hh: Update.
	Remove dead code.
	* oln/morpher/identity.hh: Update.
	* oln/morpher/add_neighborhood.hh: Update.

2006-11-13  Roland Levillain  <roland@lrde.epita.fr>

	Add backward value iterators on look-up tables.

	* oln/core/lookup_table.hh (oln::lookup_table::reverse_iterator)
	(oln::lookup_table::const_reverse_iterator): New typedefs.
	(oln::lookup_table::rbegin, oln::lookup_table::rend): New methods.
	* oln/core/typedefs.hh (bkd_viter_type): New virtual type
	declaration.
	* oln/core/gen/bkd_viter_lut.hh: New.
	* oln/core/gen/fwd_viter_lut.hh: Typos.
	* oln/morpher/with_lut.hh
	(single_vtype<morpher::with_lut<Image,Lut>, typedef_::bkd_viter_type>):
	New.
	* tests/morphers/with_lut.cc (main): Test backward value iterator
	on look-up table.
	* oln/Makefile.am (nobase_oln_HEADERS): Add
	core/gen/bkd_viter_lut.hh.

2006-11-13  Roland Levillain  <roland@lrde.epita.fr>

	Merge oln::internal::fwd_viter_lut and oln::fwd_viter_lut.

	* oln/core/internal/fwd_viter_lut.hh: Remove this file, and
	merge...
	(oln::internal::fwd_viter_lut): ...this class with...
	* oln/core/gen/fwd_viter_lut.hh (oln::fwd_viter_lut): ...this one.
	* oln/Makefile.am (nobase_oln_HEADERS): Remove
	core/internal/fwd_viter_lut.hh.

2006-11-13  Roland Levillain  <roland@lrde.epita.fr>

	Remove virtual type `is_value_wise_mutable'.

	* oln/core/typedefs.hh (is_value_wise_mutable): Remove virtual
	type declaration.
	* oln/core/abstract/image/value_wise_accessibility/hierarchy.hh:
	(case_<image_hierarchy_wrt_value_wise_accessibility, E, 1>): No
	longer use the virtual type `is_value_wise_mutable' in the
	static switch condition; query `mutable_value_proxy' instead.
	* oln/morpher/with_lut.hh
	(vtypes< morpher::with_lut<Image, Lut> >::is_value_wise_mutable_type):
	Remove typedef.

2006-11-10  Roland Levillain  <roland@lrde.epita.fr>

	Introduce oln::value::lut_value_proxy.

	* oln/value/lut_value_proxy.hh: New.
	* oln/core/typedefs.hh (mutable_fwd_viter_type): Remove virtual
	type declaration.
	(value_proxy_type, mutable_value_proxy_type): New virtual types
	declarations.
	Aesthetic changes.
	* oln/core/abstract/image/value_wise_accessibility/hierarchy.hh
	(image_being_value_wise_random_accessible::fwd_viter_t): Remove
	typedef.
	(image_being_value_wise_random_accessible::value_proxy_t): New
	typedef.
	(image_being_value_wise_random_accessible::value): Return a value
	proxy instead of a value iterator.
	(mutable_image_being_value_wise_random_accessible::fwd_viter_t):
	Remove typedef.
	(mutable_image_being_value_wise_random_accessible::value_proxy_t):
	New typedef.
	(mutable_image_being_value_wise_random_accessible::value)): Return
	a value proxy instead of a value iterator.
	* oln/morpher/with_lut.hh (oln/value/lut_value_proxy.hh): Include
	it.
	(vtypes< morpher::with_lut<Image, Lut> >::value_proxy_type)
	(vtypes< morpher::with_lut<Image, Lut> >::mutable_value_proxy_type):
	New typedefs.
	(single_vtype<morpher::with_lut<Image, Lut>,
	 typedef_::mutable_fwd_viter_type>): Remove single virtual type.
	(oln::morpher::with_lut::fwd_viter_type)
	(oln::morpher::with_lut::mutable_fwd_viter_type): Remove.
	(oln::morpher::with_lut::value_proxy_type)
	(oln::morpher::with_lut::mutable_value_proxy_type): New typedefs.
	(oln::morpher::with_lut::impl_value): Have these methods return
	value proxies instead of value iterators.
	* oln/Makefile.am (nobase_oln_HEADERS): Add
	value/lut_value_proxy.hh.


	Remove oln::mutable_fwd_viter_lut and clean up oln::fwd_viter_lut.

	* oln/core/abstract/iterator_on_values.hh: New.
	* oln/core/internal/fwd_viter_lut.hh:
	(oln::internal::fwd_viter_lut<Exact>): Inherit from
	oln::abstract::iterator_on_values<Exact>.
	s/rvalue_type/value_type/g.
	(oln::internal::fwd_viter_lut(lut_type&, const value_type&)):
	Remove ctor.
	(oln::internal::fwd_viter_lut::start)
	(oln::internal::fwd_viter_lut::next)
	(oln::internal::fwd_viter_lut::invalidate)
	(oln::internal::fwd_viter_lut::is_valid): Rename methods as...
	(oln::internal::fwd_viter_lut::impl_start)
	(oln::internal::fwd_viter_lut::impl_next)
	(oln::internal::fwd_viter_lut::impl_invalidate)
	(oln::internal::fwd_viter_lut::impl_is_valid): ...these.
	* oln/core/gen/fwd_viter_lut.hh (oln::fwd_viter_lut<Lut>):
	s/rvalue_type/value_type/g.
	(oln::fwd_viter_lut::fwd_viter_lut(const Lut&, const rvalue_type&)):
	Remove ctor.
	(oln::fwd_viter_lut::operator rvalue_type): Turn this operator
	into...
	(oln::fwd_viter_lut::impl_to_value): ...this method.
	(oln::mutable_fwd_viter_lut): Remove this class and it virtual
	types.
	(operator<<(std::ostream&, const mutable_fwd_viter_lut<Lut>&)):
	Remove.
	* oln/Makefile.am (nobase_oln_HEADERS): Add
	core/abstract/iterator_on_values.hh

2006-11-08  Roland Levillain  <roland@lrde.epita.fr>

	Fix fwd_viter_lut and rgb8.

	* oln/value/color/rgb.hh (rgb_<T>::operator==): Make it const.
	* oln/core/gen/fwd_viter_lut.hh (operator rvalue_type, print): Fix
	these methods.
	* tests/morphers/with_lut.cc: Test oln::fwd_viter_lut.

2006-11-07  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add point-set types based on std containers.

	* oln/core/gen/piter_on_std_based_pset.hh: New.
	* oln/core/gen/pset_list.hh: New.
	* oln/core/gen/pset_vec.hh: New.
	* oln/core/gen/pset_.hh: New.
	* oln/Makefile.am: Update.

2006-11-07  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* TODO: Add description of primary image types.

2006-11-06  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add oln::morpher::two_way_rw.

	* ChangeLog: Fix file dir in previous entry.
	* tests/morphers/two_way_rw_morpher.cc: New.
	* tests/morphers/Makefile.am: Update.
	* oln/morpher/two_way_rw.hh: New.
	* oln/Makefile.am: Update.
	* oln/morpher/two_way.hh (value::two_way): Move impl into...
	* oln/value/two_way.hxx: ...this new file.
	* oln/core/abstract/functions.hh (fun_rw): Update.
	* oln/morpher/count_rw.hh (count_rw): Move impl into guards.
	* oln/morpher/stack_rw.hh (include): Update.

2006-11-06  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add morpher::stack_rw.

	* tests/morphers/stack_rw_morpher.cc: New.
	* tests/morphers/Makefile.am: Update.
	* oln/morpher/stack_rw.hh: New.
	* oln/Makefile.am: Update.
	* oln/debug/print.hh (print): Store loop 2D bounds.
	* oln/core/abstract/functions.hh (fun_rw): New.
	* oln/morpher/two_way.hh (ima_): Change type to pointer.
	(two_way): New ctor for class value::two_way.
	(read_, write_): New methods.
	(operator, value): Call read_.
	(operator=): Call write_.
	* oln/morpher/stack.hh (N): New.
	* oln/value/two_way.hh (two_way): New ctor decl.
	(ima_): Change type to pointer.
	(read_, write_): New method decls.

2006-10-31  Roland Levillain  <roland@lrde.epita.fr>

	Clean up virtual types declarations.

	* oln/core/typedefs.hh (size_type): Remove virtual type
	declaration.
	Clean up.

2006-10-31  Roland Levillain  <roland@lrde.epita.fr>

	Rename the ``accessibility'' hierarchy as ``point_wise_accessibility''.

	* oln/core/abstract/image/accessibility/hierarchy.hh:
	Rename as...
	* oln/core/abstract/image/point_wise_accessibility/hierarchy.hh:
	...this.
	Adjust header guards.
	(oln::abstract::image_being_random_accessible): Rename as...
	(oln::abstract::image_being_point_wise_random_accessible): ...this.
	Adjust.
	(oln::case_<image_hierarchy_wrt_accessibility, E, 1>): Rename as...
	(oln::case_<image_hierarchy_wrt_point_wise_accessibility, E, 1>):
	...this.
	Adjust.
	* oln/core/abstract/image/hierarchies.hh,
	* oln/core/abstract/image/all.hh,
	* oln/core/abstract/image/hybrid/classical.hh: Adjust.
	* oln/core/automatic/image/image_being_random_accessible.hh:
	Adjust.
	Rename as...
	* oln/core/automatic/image/image_being_point_wise_random_accessible.hh:
	...this.
	Adjust header guards.
	* oln/Makefile.am (nobase_oln_HEADERS): Remove
	core/abstract/image/accessibility/hierarchy.hh and
	core/automatic/image/image_being_random_accessible.hh.
	Add core/abstract/image/point_wise_accessibility/hierarchy.hh
	and core/automatic/image/image_being_point_wise_random_accessible.hh.
	Remove duplicate core/automatic/image/image_having_neighborhood.hh

2006-10-31  Roland Levillain  <roland@lrde.epita.fr>

	Fix the mutability of value-wise random accessible images.

	* oln/core/typedefs.hh (is_value_wise_mutable_type): New virtual
	type declaration.
	* oln/core/abstract/image/value_wise_accessibility/hierarchy.hh
	(struct case_<image_hierarchy_wrt_value_wise_accessibility, E, 2>):
	Re-enable.
	Swap with...
	(struct case_<image_hierarchy_wrt_value_wise_accessibility, E, 1>):
	...this case.
	* oln/morpher/with_lut.hh
	(vtypes< morpher::with_lut<Image, Lut> >::is_value_wise_mutable_type):
	New virtual type.
	Set to mlc::true_.

2006-10-31  Roland Levillain  <roland@lrde.epita.fr>

	* tests/algorithms/Makefile.am, tests/core/Makefile.am,
	* tests/io/Makefile.am, tests/morphers/Makefile.am,
	* tests/value/Makefile.am, tests/value/Makefile.am:
	Alter AM_CXXFLAGS instead of CXXFLAGS.

2006-10-27  Roland Levillain  <roland@lrde.epita.fr>

	Various fixes.

	* oln/core/automatic/image/mutable_image1d.hh: Fix header guards,
	(were the same as oln/core/automatic/image/image1d.hh's).
	(oln::abstract::mutable_image1d): Forward-declare it.
	s/abstract::image1d/abstract::mutable_image1d/g.
	* oln/core/abstract/image/dimension/1d.hh (mutable_image1d)
	* oln/core/abstract/image/dimension/2d.hh (mutable_image2d)
	* oln/core/abstract/image/dimension/3d.hh (mutable_image3d): Fix
	the lookup of impl_at().
	* oln/core/type_fun/slice.hh: Remove unnecessary headers.
	* oln/core/abstract/array.hh, oln/core/abstract/functions.hh,
	* oln/core/internal/point_nd.hh, oln/morpher/thru_mfun.hh: Add
	missing headers.
	* oln/morpher/thru_fun.hh (xtd/mexpr.hh): Include it.
	(struct case_<tag::fun_operator_1, mlc::pair_<Fun, A>, 1>): Turn
	into...
	(struct case_<tag::fun_operator_1, mlc::pair_<Fun, A>, 2>):
	...this.
	* oln/value/proxy.hh: Fix header guards.
	(oln/core/typedefs.hh): Include it.
	* oln/Makefile.am (nobase_oln_HEADERS): Add
	core/abstract/image/computability/hierarchy.hh,
	core/abstract/image/value_wise_accessibility/hierarchy.hh,
	core/automatic/image/image_being_value_wise_random_accessible.hh,
	core/gen/topo_add_isubset.hh, core/gen/fwd_viter_lut.hh,
	core/internal/fwd_viter_lut.hh and value/two_way.hh.

2006-10-26  Roland Levillain  <roland@lrde.epita.fr>

	Extend morpher adding a look-up table (oln::morpher::with_lut).

	* oln/core/abstract/image/hierarchies.hh
	(image_hierarchy_wrt_value_wise_accessibility): New hierarchy.
	(image_hybrid_hierarchy_wrt_classical)
	(image_hierarchy_wrt_value, image_hierarchy_wrt_data_retrieval):
	Adjust numbers.
	* oln/core/abstract/image/all.hh
	(oln/core/abstract/image/value_wise_accessibility/hierarchy.hh):
	Include it.
	Adjust.
	* oln/core/abstract/image/value_wise_accessibility/hierarchy.hh: New.
	* oln/core/automatic/image/image_being_value_wise_random_accessible.hh:
	New.
	* oln/core/internal/fwd_viter_lut.hh,
	* oln/core/gen/fwd_viter_lut.hh: New.
	* oln/core/typedefs.hh (fwd_viter_type, mutable_fwd_viter_type)
	(lut_type, lut_iter_type): New virtual types declarations.
	* oln/core/lookup_table.hh (lookup_table): Rename the first two
	parameters to Orig_Value and New_Value.
	Add two parameters Orig_Value_Compare and New_Value_Compare,
	defaulting to std::less<Orig_Value> and std::less<New_Value>
	respectively.
	(lookup_table::key_type, lookup_table::data_type): Rename typedefs
	as...
	(lookup_table::orig_value_type, lookup_table::new_value_type):
	...these.
	(lookup_table::map_type): Remove typedef.
	(lookup_table::orig_value_type, lookup_table::new_value_type)
	(lookup_table::const_iterator, lookup_table::iterator): New
	typedefs.
	Adjust signatures of methods.
	(lookup_table::map): Remove method.
	(lookup_table::begin, lookup_table::end, lookup_table::find)
	(lookup_table::orig_to_new_map, lookup_table::new_to_orig_map):
	New methods.
	(lookup_table::map_): Remove attributes.
	(lookup_table::orig_to_new_map_, lookup_table::new_to_orig_map_):
	New attributes.
	(lookup_table::add): Adjust method.
	* oln/morpher/with_lut.hh: Adjust.
	(single_vtype<morpher::with_lut<Image, Lut>, typedef_::fwd_viter_type>)
	(single_vtype<morpher::with_lut<Image ,Lut>,
	 typedef_::mutable_fwd_viter_type>):
	New.
	(with_lut::lut_t, with_lut::value_t, with_lut::rvalue_t)
	(with_lut::psite_t): Rename typedefs as...
	(with_lut::lut_type, with_lut::value_type, with_lut::rvalue_type)
	(with_lut::psite_type):	...these.
	Adjust.
	(with_lut::fwd_viter_type, with_lut::mutable_fwd_viter_type):
	New typedefs.
	(with_lut::impl_value): New methods.
	(operator+ (const abstract::image<I>&, const lookup_table<K, D>&)):
	Turn into...
	(operator+ (const abstract::image<I>&, lookup_table<K, D>&)):
	...this.
	Adjust.
	* tests/morphers/with_lut.cc: Augment this test.

	* oln/value/color/rgb.hh
	(rgb_<T>::operator==(const rgb_<U>&)): New operator.
	* TODO: New.

2006-10-25  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Oops.

	* oln/value/two_way.hh: New.

2006-10-25  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Tiny fix just before pastis.

	* oln/basics1d.hh (include): Add missing headers.
	* oln/basics2d.hh: Likewise.
	* oln/basics3d.hh: Likewise.

2006-10-25  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add two-way morpher.

	* tests/morphers/two_way_morpher.cc: New.
	* tests/morphers/Makefile.am: Update.
	* oln/morpher/two_way.hh: New.
	* oln/Makefile.am: Update.
	* oln/core/abstract/image.hh (id_): Unconst.
	* oln/core/abstract/functions.hh (fun_v2w2v): New.
	* oln/core/traits.hh (oln_xtd_case_op_id): Fix number.
	(include): Add commentary.

2006-10-25  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add oln::level::apply_inplace.

	* tests/level/apply_inplace.cc: New.
	* oln/level/assign.hh: Typo.
	* oln/level/apply.hh (apply_inplace): New.
	* oln/level/fill.hh (include): Fix.
	* oln/core/traits.hh (include): Add xtd/math/ops.hh.

2006-10-25  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add oln abstract functions + move slice vtype definitions.

	* oln/level/assign.hh: New.
	* oln/level/apply.hh: New.
	* oln/level/clone.hh: New.
	* oln/core/abstract/functions.hh: New.
	* oln/debug/track.hh (dummy): Add code to remove warning.
	* oln/debug/print.hh (OLN_ENV_2D): Guard specific code.
	* oln/level/fill.hh (fill): New couple of versions.
	* oln/basics1d.hh (OLN_ENV_1D): New.
	* oln/core/typedefs.hh (oln_plain_value, oln_plain_value_): New.
	* oln/core/iterator_vtypes.hh (slice): Move type definitions to...
	* oln/morpher/slice.hh: ...here.
	* oln/basics2d.hh (OLN_ENV_2D): New.
	* oln/basics3d.hh (OLN_ENV_3D): New.
	* oln/Makefile.am: Update.

2006-10-25  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Introduce ids for images and better oln::morpher::count_rw_.

	* tests/morphers/count_rw_morpher.cc: Add sample code in comments.
	* oln/core/abstract/iterator_on_points.hh (operator<<): New.
	* oln/core/abstract/image.hh (image, operator=): New.
	(id_, id): New.
	* oln/core/gen/piter_isubset.hh (isubset_): Remove &.
	* oln/core/gen/pw_value.hh (ima_): Remove &.
	(impl_calc): Fix static check.
	* oln/core/gen/topo_add_isubset.hh (isubset_): Add comment.
	* oln/core/gen/fwd_piter_bbox.hh (operator<<): Remove; obsolete.
	* oln/core/gen/bkd_piter_bbox.hh: Likewise.
	* oln/morpher/add_isubset.hh (operator|): New overloading.
	(add_isubset): Relax static check.
	* oln/morpher/internal/image_value_morpher.hh (image_): Remove &.
	* oln/morpher/internal/image_extension.hh (image_): Remove &.
	(image_extension): New cpy ctor.
	* oln/morpher/count_rw.hh (count_rw): Rename the class as...
	(count_rw_): ...this.
	(count_rw): New overloading.
	* oln/value/rw_counter.hh (counter_rw): Rewrite.
	(rw_counter): Remove & from ima_ type.
	(ro_counter): Likewise.

2006-10-24  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add point-wise values.

	* tests/core/pw_value.cc: New.
	* tests/core/Makefile.am: Update.
	* oln/core/gen/pw_value.hh: New.
	* oln/Makefile.am: Update.

2006-10-24  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add a morpher to count read-write ops.

	* tests/morphers/count_rw_morpher.cc: New.
	* tests/morphers/Makefile.am: Update.
	* oln/morpher/count_rw.hh: New.
	* oln/value/proxy.hh: New.
	* oln/value/rw_counter.hh: New.
	* oln/Makefile.am: Update.
	* oln/core/traits_id.hh (unop_vproxy, binop_vproxy): New.
	(others): Update.
	* oln/core/typedefs.hh
	(oln_is_computed, oln_is_computed_): New.
	* oln/morpher/internal/image_value_morpher.hh
	(image_value_morpher): New overloading for ctor.
	(image_): Add & to its type.

2006-10-24  Roland Levillain  <roland@lrde.epita.fr>

	Add a morpher adding a look-up table to an image.

	* oln/core/lookup_table.hh: New.
	* oln/morpher/with_lut.hh: New morpher.
	* oln/Makefile.am (nobase_oln_HEADERS): Add core/lookup_table.hh
	and morpher/with_lut.hh.
	* tests/morphers/with_lut.cc: New test.
	* tests/morphers/Makefile.am (check_PROGRAMS): Add with_lut.
	(with_lut_SOURCES): New.

2006-10-24  Roland Levillain  <roland@lrde.epita.fr>

	Partial clean up of oln::morpher::add_neighborhood.

	* oln/morpher/add_neighborhood.hh: Fix header guards.
	(oln::morpher::add_neighborhood): Use the macro stc_get_supers to
	set the super class.
	(oln::morpher::add_neighborhood::super_t): Use the macro
	stc_get_super to define it.

2006-10-24  Roland Levillain  <roland@lrde.epita.fr>

	Move oln::color to oln::value::color.

	* oln/color/rgb.hh: Move...
	* oln/value/color/rgb.hh: ...here.
	(oln::color): Move the contents of this namespace...
	(oln::value::color): ...into this one.
	* oln/value/all.hh: Adjust.
	* oln/Makefile.am (nobase_oln_HEADERS):
	s|color/rgb.hh|value/color/rgb.hh|.

2006-10-23  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Fix debug track and disambiguate the 'at' method overloading
	in const and mutable nD images.

	* oln/core/abstract/array.hh: New.
	* oln/debug/track.hh (n_arrays): New.
	(include): Fix.
	* oln/core/abstract/image.hh (image): New cpy ctor so fix
	n_images tracking.
	* oln/core/abstract/image/dimension/1d.hh: Disambiguate by
	changing inheritance to virtual + inserting a using directive.
	* oln/core/abstract/image/dimension/2d.hh: Likewise.
	* oln/core/abstract/image/dimension/3d.hh: Likewise.
	* oln/core/1d/array1d.hh (array1d): Add inheritance.
	* oln/core/2d/array2d.hh: Likewise.
	* oln/core/3d/array3d.hh: Likewise.
	* oln/Makefile.am: Update.

2006-10-23  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add stack morpher and remove the hack related to indexed mutable
	access.

	* tests/morphers/stack_morpher.cc: New.
	* tests/morphers/Makefile.am: Update.
	* oln/debug/track.hh: New.
	* oln/core/automatic/image/mutable_image2d.hh: New.
	* oln/core/automatic/image/mutable_image3d.hh: New.
	* oln/core/automatic/image/mutable_image1d.hh: New.
	* oln/morpher/stack.hh: New.
	* oln/Makefile.am: Update.
	* oln/debug/print.hh (println): Remove; too dummy.
	(operator): New.
	* oln/level/fill.hh (fill): New specialization for C arrays.
	* oln/core/automatic/image/image1d.hh: Remove hack of 'at'.
	* oln/core/automatic/image/image2d.hh: Likewise.
	* oln/core/automatic/image/image3d.hh: Likewise.
	* oln/core/abstract/image.hh (image, ~image): Add counting.
	(include): Update.
	* oln/core/abstract/image/dimension/1d.hh
	(image1d): Split partially into...
	(mutable_image1d): ...this new class.
	(include): Update.
	* oln/core/abstract/image/dimension/2d.hh: Likewise.
	* oln/core/abstract/image/dimension/3d.hh: Likewise.
	* oln/core/abstract/image/dimension/hierarchy.hh
	(case_): Update.
	* oln/core/2d/array2d.hh (memsize): Better sig.
	(include): Update.
	* oln/core/2d/image2d.hh (image2d): New overloading for no arg.

2006-10-23  Roland Levillain  <roland@lrde.epita.fr>

	Add files for oln::window[123]d.

	* oln/core/1d/window1d.hh: New file.
	* oln/basics1d.hh: Include it.
	* oln/core/2d/window2d.hh: New file.
	* oln/basics2d.hh: Include it.
	* oln/core/3d/window3d.hh: New file.
	* oln/basics3d.hh: Include it.
	* oln/Makefile.am (nobase_oln_HEADERS): Add core/1d/window1d.hh,
	core/2d/window2d.hh and core/3d/window3d.hh
	* tests/morphers/slice_morpher.cc: Remove FIXME.

2006-10-23  Roland Levillain  <roland@lrde.epita.fr>

	Add qiters for oln::morpher::slice.

	* oln/core/type_fun/slice.hh
	(TYPE_FUNCTION_slice_piter_NOT_DEFINED_FOR_THIS_PARAMETER): Rename
	as...
	(TYPE_FUNCTION_slice_iterator_NOT_DEFINED_FOR_THIS_PARAMETER):
	...this.
	Adjust.
	(oln::type_fun::slice_piter): Rename as...
	(oln::type_fun::slice_iterator): ...this.
	(oln::type_fun::slice_iterator<fwd_qiter2d>)
	(oln::type_fun::slice_iterator<bkd_qiter2d>)
	(oln::type_fun::slice_iterator<fwd_qiter3d>)
	(oln::type_fun::slice_iterator<bkd_qiter3d>)
	* oln/core/iterator_vtypes.hh: s/slice_piter/slice_iterator/g.
	(oln::single_vtype<morpher::slice<Image>, typedef_::fwd_qiter_type>)
	(oln::single_vtype<morpher::slice<Image>, typedef_::bkd_qiter_type>)
	* oln/morpher/slice.hh: Adjust comments.
	* tests/morphers/slice_morpher.cc: s/ima_with_nbh/slice/g
	Test fwd_qiter on oln::morpher::slice.

2006-10-20  Roland Levillain  <roland@lrde.epita.fr>

	Simplfy header inclusions of oln::image[123]d.

	* oln/core/1d/image1d.hh (oln/core/1d/topo1d.hh): Include it.
	(oln/core/gen/topo_lbbox.hh, oln/core/1d/aliases.hh): No longer
	include them.
	* oln/core/2d/image2d.hh (oln/core/2d/topo2d.hh): Include it.
	(oln/core/gen/topo_lbbox.hh, oln/core/2d/aliases.hh): No longer
	include them.
	* oln/core/3d/image3d.hh (oln/core/3d/topo3d.hh): Include it.
	(oln/core/gen/topo_lbbox.hh, oln/core/3d/aliases.hh): No longer
	include them.

2006-10-20  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add morpher based on mutators.

	* tests/value/accessor.cc: New.
	* tests/value/Makefile.am: Update.
	* oln/morpher/thru_mfun.hh: New.
	* oln/value/accessor.hh: New.
	* oln/Makefile.am: Update.
	* oln/morpher/thru_fun.hh: Use shortcuts.

2006-10-20  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution.

	* oln/Makefile.am (nobase_oln_HEADERS): Remove
	core/gen/topo_slice.hh.
	s|core/type_fun/slice_piter\.hh|core/type_fun/slice\.hh|.

2006-10-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix virtual types definitions in tests/core/image_entry.

	* tests/core/image_entry.cc
	(oln::vtypes<my::image>::fwd_piter_type)
	(oln::vtypes<my::image>::bkd_piter_type): Remove typedefs.
	(oln::single_vtype<my::image, typedef_::fwd_piter_type>)
	(oln::single_vtype<my::image, typedef_::bkd_piter_type>): New

2006-10-19  Roland Levillain  <roland@lrde.epita.fr>

	Add a slice morpher.

	* oln/morpher/tags.hh (oln::morpher::tag::slice): New tag.
	* oln/morpher/slice.hh: New file (new morpher).
	* oln/core/type_fun/slice.hh: New.
	* oln/core/iterator_vtypes.hh: Include it.
	(oln::single_vtype<morpher::slice<Image>, typedef_::fwd_piter_type>)
	(oln::single_vtype<morpher::slice<Image>, typedef_::bkd_piter_type>):
	New.
	* oln/core/1d/topo1d.hh, oln/core/2d/topo2d.hh,
	* oln/core/3d/topo3d.hh: New (shortcuts).
	* oln/core/gen/topo_lbbox.hh (oln::vtypes< topo_lbbox_<point> >:
	Reduce the explanation to a reference to the virtual types of
	oln::topo_bbox_.
	(topo_lbbox::topo_lbbox_(const point&, const point&, unsigned)):
	New ctor.
	(topo_lbbox::border): New method.
	* oln/core/gen/topo_bbox.hh
	(topo_bbox::topo_bbox_(const point&, const point&)): New ctor.
	* oln/Makefile.am (nobase_oln_HEADERS): Add
	core/1d/topo1d.hh, core/2d/topo2d.hh, core/3d/topo3d.hh,
	core/gen/piter_isubset.hh, core/type_fun/slice_piter.hh and
	morpher/slice.hh.
	* tests/morphers/slice_morpher.cc: New test.
	* tests/morphers/Makefile.am (check_PROGRAMS): Add slice_morpher.
	(slice_morpher_SOURCES): New.
	* oln/core/gen/bbox_fwd_piter.hh, oln/core/gen/bbox_bkd_piter.hh,
	* tests/morphers/add_neighborhood_morpher.cc: Fix a comment.

2006-10-19  Roland Levillain  <roland@lrde.epita.fr>

	More sanity checks.

	* tests/sanity/includes.test: Also check headers whose path
	contains a directory named ``obsolete'' or ``internal''.
	* oln/core/internal/dpoint_nd.hh (oln/core/traits_id.hh): Include
	it.
	* oln/core/internal/tracked_ptr.hh (ostream): Likewise.

2006-10-17  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add forward declaration files.

	* oln/core/aliases.hh: New.
	* oln/core/fwd_decls.hh: New.
	* oln/core/1d/fwd_decls.hh: New.
	* oln/core/2d/fwd_decls.hh: New.
	* oln/core/3d/fwd_decls.hh: New.
	* oln/core/gen/fwd_decls.hh: New.
	* oln/morpher/fwd_decls.hh: New.
	* oln/debug/typename.hh: New.
	* oln/Makefile.am: Update.

	Sketch the mechanism for 'plain' and 'ch_value'.

	* oln/core/type_fun/plain.hh: New.
	* oln/core/type_fun/ch_value.hh: New.
	* oln/core/typedefs.hh (oln_plain, oln_plain_): New.
	* oln/core/image_entry.hh (concrete_type): Remove; obsolete.
	* oln/core/abstract/image.hh
	(topo, operator): Change sigs.
	(topo_t, psite_t, rvalue_t): Remove; now unused.
	(decl): Uncomment static checks.
	* oln/core/abstract/image/computability/hierarchy.hh
	(plain): New.
	* oln/core/1d/image1d.hh (real_type): Remove; obsolete.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/morpher/value_cast.hh (class): Change into struct
	for homogeneity for other morphers.

2006-10-17  Roland Levillain  <roland@lrde.epita.fr>

	Organize the tests into a hierarchy.

	* tests/fill.cc: Move file...
	* tests/algorithms/fill.cc: ...here.
	* tests/at.cc, tests/dpoint2d.cc, tests/grid.cc, tests/image1d.cc,
	* tests/image2d.cc, tests/image3d.cc, tests/image_entry.cc,
	* tests/npoints.cc, tests/point2d.cc, tests/window2d.cc: Move
	files...
	* tests/core/at.cc, tests/core/dpoint2d.cc, tests/core/grid.cc,
	* tests/core/image1d.cc, tests/core/image2d.cc,
	* tests/core/image3d.cc, tests/core/image_entry.cc,
	* tests/core/npoints.cc, tests/core/point2d.cc,
	* tests/core/window2d.cc: ...here.
	* tests/io_pnm.cc: Move file...
	* tests/io/io_pnm.cc: ...here.
	* tests/add_neighborhood_morpher.cc, tests/identity_morpher.cc,
	* tests/morphers.cc, tests/value_cast.cc: Move files...
	* tests/morphers/add_neighborhood_morpher.cc,
	* tests/morphers/identity_morpher.cc, tests/morphers/morphers.cc,
	* tests/morphers/value_cast.cc:: ...here.
	* tests/grey.cc: Move file...
	* tests/value/grey.cc: ...here.
	* tests/algorithms/Makefile.am, tests/core/Makefile.am,
	* tests/io/Makefile.am, tests/morphers/Makefile.am,
	* tests/value/Makefile.am: New.
	* tests/Makefile.am: Adjust.
	* tests/sanity/Makefile.am (CPPFLAGS): Add `-I$(srcdir)/..'.

	* oln/Makefile.am: Remove
	core/automatic/image/image_being_mutable.hh.
	Add core/automatic/image/mutable_image.hh.

2006-10-17  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Replace the 'is_mutable' property by checking the 'lvalue' type.

	* oln/core/automatic/image/image_being_mutable.hh: Rename as...
	* oln/core/automatic/image/mutable_image.hh: ...this.
	(image_being_mutable): Rename as...
	(mutable_image): ...this.
	* oln/level/fill.hh: Update.
	* oln/core/typedefs.hh (is_mutable_type): Remove; obsolete.
	* oln/core/abstract/image/mutability/hierarchy.hh
	(include) : Update.
	(image_being_mutable): Rename as...
	(mutable_image): ...this.
	(case_): Rely now on mlc_is_ok(oln_lvalue(E)).
	* oln/core/1d/image1d.hh: Update.
	* oln/core/2d/image2d.hh: Update.
	* oln/core/3d/image3d.hh: Update.
	* oln/core/gen/mapimage.hh: Update.
	* oln/morpher/value_cast.hh: Update.
	* oln/morpher/thru_fun.hh: Update.
	* oln/morpher/internal/image_value_morpher.hh: Update.

2006-10-17  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add computability image hierarchy.

	* oln/core/abstract/image/computability: New.
	* oln/core/abstract/image/computability/hierarchy.hh: New.
	* oln/core/typedefs.hh (is_computed_type): New.
	* oln/core/image_entry.hh (is_computed_type): New in vtypes.
	* oln/core/abstract/image.hh (decl): Update.
	* oln/core/abstract/image/hierarchies.hh
	(image_hierarchy_wrt_computability): New.
	(hierarchy): Update ids.
	* oln/core/abstract/image/all.hh
	(include): Add computability/hierarchy.hh.
	* oln/core/1d/image1d.hh: Update.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/core/gen/mapimage.hh: Likewise.
	* oln/morpher/value_cast.hh: Likewise.
	* oln/morpher/thru_fun.hh: Likewise.
	* oln/morpher/internal/image_value_morpher.hh: Likewise.

2006-10-17  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Adjust lvalue so that it handles a '&' when needed.

	* oln/core/automatic/image/image1d.hh (impl_at): Adjust.
	* oln/core/automatic/image/image2d.hh: Likewise.
	* oln/core/automatic/image/image3d.hh: Likewise.
	* oln/core/automatic/image/image_being_mutable.hh: Likewise.
	* oln/core/abstract/image/mutability/hierarchy.hh: Likewise.
	* oln/core/abstract/image/dimension/1d.hh: Likewise.
	* oln/core/abstract/image/dimension/2d.hh: Likewise.
	* oln/core/abstract/image/dimension/3d.hh: Likewise.
	* oln/core/1d/image1d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/core/gen/mapimage.hh: Likewise.
	* oln/core/abstract/image/type/integre.hh: Fix case number wrt
	those defined in hierarchy.hh.

2006-10-16  Roland Levillain  <roland@lrde.epita.fr>

	Adjust tests.

	* tests/window2d.cc: Disable display.
	* tests/image_entry.cc, tests/identity_morpher.cc,
	* tests/add_neighborhood_morpher.cc, tests/morphers.cc:
	Remove mlc_is_a tests w.r.t to oln::abstract::grey_level_image,
	since its definition has changed.

2006-10-16  Roland Levillain  <roland@lrde.epita.fr>

	Polish the accesses to bbox_<point> as a virtual type.

	* oln/core/gen/bbox.hh (oln::bbox_::self_t): Rename as...
	(oln::bbox_::self_type): ...this.
	Make it public.
	(oln::bbox_::super_t): Adjust.
	* oln/core/gen/topo_lbbox.hh
	(vtypes< topo_lbbox_<point> >::bbox_type): Adjust.
	* oln/core/gen/topo_bbox.hh (oln::vtypes< topo_lbbox_<point> >):
	Define this virtul type using `bbox_<point>::self_t' instead of
	just `bbox_<point>' to force the instiantiation of
	oln::bbox_<point> at this point.
	(oln::topo_bbox_<point>::bbox_t): Use oln_type_of to define it.

2006-10-16  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add value cast image morpher.

	* tests/value_cast.cc: New.
	* tests/Makefile.am: Update.
	* oln/morpher/value_cast.hh: New.
	* oln/Makefile.am: Update.
	* oln/morpher/internal/image_value_morpher.hh (lvalue): Change
	definition mode from single_vtype to vtypes.

2006-10-16  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add binary value type plus update image hierarchy plugs.

	* oln/value/tags.hh: New.
	* oln/value/bin.hh: New.
	* oln/value/all.hh: New.
	* oln/core/abstract/image/type/hierarchy.hh (case_): Rely on value
	tags.
	(case_): Overload to handle other value types.
	(include): Update.
	* oln/value/greylevel.hh (greylevel_): New conversion operator.
	(gl1): Remove; now replaced by value::bin.
	* oln/Makefile.am: Update.

2006-10-16  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add grey-level types.

	* tests/grey.cc: New.
	* tests/Makefile.am: Update.
	* oln/value/default.hh: New.
	* oln/value/greylevel.hh: New.
	* oln/Makefile.am: Update.
	* oln/core/abstract/value.hh (value): Remove inheritance
	so that a value type is not a regular oln type.

2006-10-16  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution.

	* oln/Makefile.am (nobase_oln_HEADERS): Remove core/1d/bbox1d.hh,
	core/2d/bbox2d.hh and core/3d/bbox3d.hh.

2006-10-16  Roland Levillain  <roland@lrde.epita.fr>

	Get rid of the explicit instantiations of oln::bbox<>.

	* oln/core/gen/topo_lbbox.hh (oln::vtypes< topo_lbbox_<point> >):
	Define this virtul type using `bbox_<point>::self_t' instead of
	just `bbox_<point>' to force the instiantiation of
	oln::bbox_<point> at this point.
	(oln::topo_lbbox_<point>::bbox_t): Use oln_type_of to define it
	(more of an aesthetic change than a functional change).
	* oln/core/1d/bbox1d.hh, oln/core/2d/bbox2d.hh,
	* oln/core/3d/bbox3d.hh: Remove.
	* oln/basics1d.hh, oln/basics2d.hh, oln/basics3d.hh,
	* oln/core/1d/image1d.hh, oln/core/2d/image2d.hh,
	* oln/core/3d/image3d.hh: Remove their inclusions.

2006-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Fix oln/core/iterator_vtypes.hh w.r.t. backward niters.

	* oln/core/iterator_vtypes.hh (oln::bkd_niter_neighb_): New
	forward declaration.
	(single_vtype<morpher::add_neighborhood<Image, Neighb>,
	 typedef_::bkd_niter_type >): Fix ret.
	Add comments.
	Aesthetic changes.
	* oln/morpher/add_neighborhood.hh
	(oln/core/gen/bkd_niter_neighb.hh): Include it.

2006-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Add backward iterators on neighborhoods and windows.

	* oln/core/gen/bkd_niter_neighb.hh,
	* oln/core/gen/bkd_qiter_win.hh: New.
	* oln/core/gen/fwd_niter_neighb.hh
	(oln::fwd_niter_neighb_<point_t>::fwd_niter_neighb_)
	(oln::fwd_niter_neighb_<point_t>::impl_next)
	* oln/core/gen/fwd_qiter_win.hh
	(oln::fwd_qiter_win_<point_t>::fwd_qiter_win_)
	(oln::fwd_qiter_win_<point_t>::impl_next): Initialize i_
	using this->invalidate().
	* oln/core/1d/aliases.hh (oln::bkd_qiter_win_): New forward
	declaration.
	(oln::bkd_qiter1d): New typedef.
	* oln/core/2d/aliases.hh (oln::bkd_qiter_win_): New forward
	declaration.
	(oln::bkd_qiter2d): New typedef.
	* oln/core/3d/aliases.hh (oln::bkd_qiter_win_): New forward
	declaration.
	(oln::bkd_qiter3d): New typedef.
	* oln/core/iterator_vtypes.hh
	(oln::single_vtype<image1d<T>, typedef_::bkd_qiter_type>)
	(oln::single_vtype<image2d<T>, typedef_::bkd_qiter_type>)
	(oln::single_vtype<image3d<T>, typedef_::bkd_qiter_type>): New
	vtypes.
	* oln/basics1d.hh (oln/core/gen/window.hh)
	(oln/core/gen/fwd_qiter_win.hh, oln/core/gen/bkd_qiter_win.hh):
	* oln/basics2d.hh (oln/core/gen/bkd_qiter_win.hh)
	* oln/basics3d.hh (oln/core/gen/window.hh)
	(oln/core/gen/fwd_qiter_win.hh, oln/core/gen/bkd_qiter_win.hh):
	Include them.
	* oln/Makefile.am (nobase_oln_HEADERS): Add
	core/gen/bkd_niter_neighb.hh and core/gen/bkd_qiter_win.hh.

2006-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Add some documentation to image abstractions.

	* oln/core/abstract/image/hybrid/classical.hh: Add documentation.
	* oln/core/abstract/image/dimension/hierarchy.hh,
	* oln/core/abstract/image/type/hierarchy.hh: Update documentation.
	* oln/core/abstract/image/neighborhood/hierarchy.hh: Remove dead
	comments.

2006-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Factor oln::grid1d, oln::grid2d and oln::grid3d into oln::grid_<>.

	* oln/core/1d/grid1d.hh, oln/core/2d/grid2d.hh,
	* oln/core/3d/grid3d.hh: Remove.
	* oln/core/gen/grid.hh: New file.
	* oln/core/1d/image1d.hh, oln/core/2d/image2d.hh,
	* oln/core/3d/image3d.hh: Include it.
	* oln/core/1d/aliases.hh (oln::grid_): Declare it.
	(oln::grid1d): Adjust definition.
	* oln/core/2d/aliases.hh (oln::grid_): Declare it.
	(oln::grid2d): Adjust definition.
	* oln/core/3d/aliases.hh (oln::grid_): Declare it.
	(oln::grid3d): Adjust definition.
	* oln/basics1d.hh, oln/basics2d.hh, oln/basics3d.hh,
	* oln/core/abstract/image/dimension/hierarchy.hh,
	* oln/core/abstract/image/hybrid/classical.hh,
	* oln/core/abstract/point_set/point_set_being_connected.hh,
	* oln/Makefile.am,
	* tests/grid.cc: Adjust.

2006-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Add a Makefile to img/ and fix the previous patch.

	* img/Makefile.am: New.
	* Makefile.am (SUBDIRS): Add img.
	* oln/Makefile.am (nobase_oln_HEADERS):
	Remove core/automatic/image_having_neighborhood.hh.
	Add core/automatic/image/image_having_neighborhood.hh.

2006-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Reorganize oln/core/automatic like oln/core/abstract.

	* oln/core/automatic/image.hh,
	* oln/core/automatic/image1d.hh,
	* oln/core/automatic/image2d.hh,
	* oln/core/automatic/image3d.hh,
	* oln/core/automatic/image_being_mutable.hh,
	* oln/core/automatic/image_being_random_accessible.hh,
	* oln/core/automatic/image_having_neighborhood.hh,
	* oln/core/automatic/topology_being_random_accessible.hh,
	* oln/core/automatic/topology_having_bbox.hh,
	* oln/core/automatic/topology_having_neighborhood.hh,
	* oln/core/automatic/topology_having_subset.hh: Move...
	* oln/core/automatic/image/image.hh,
	* oln/core/automatic/image/image1d.hh,
	* oln/core/automatic/image/image2d.hh,
	* oln/core/automatic/image/image3d.hh,
	* oln/core/automatic/image/image_being_mutable.hh,
	* oln/core/automatic/image/image_being_random_accessible.hh,
	* oln/core/automatic/image/image_having_neighborhood.hh,
	* oln/core/automatic/topology/topology_being_random_accessible.hh,
	* oln/core/automatic/topology/topology_having_bbox.hh,
	* oln/core/automatic/topology/topology_having_neighborhood.hh
	* oln/core/automatic/topology/topology_having_subset.hh: ...here.
	* oln/core/abstract/image.hh,
	* oln/core/abstract/image/accessibility/hierarchy.hh,
	* oln/core/abstract/image/dimension/1d.hh,
	* oln/core/abstract/image/dimension/2d.hh,
	* oln/core/abstract/image/dimension/3d.hh,
	* oln/core/abstract/image/mutability/hierarchy.hh,
	* oln/core/abstract/image/neighborhood/hierarchy.hh,
	* oln/core/abstract/topology/topology_being_random_accessible.hh,
	* oln/core/abstract/topology/topology_having_bbox.hh,
	* oln/core/abstract/topology/topology_having_neighborhood.hh,
	* oln/core/abstract/topology/topology_having_subset.hh,
	* oln/level/fill.hh, oln/Makefile.am: Adjust paths.

2006-10-13  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution.

	* oln/Makefile.am (nobase_oln_HEADERS): Remove core/fwd_piter.hh.
	Add core/iterator_vtypes.hh.

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	Fix tests/window2d.

	* oln/core/image_entry.hh
	(oln::single_vtype<image_entry<E>, typedef_::bkd_qiter_type>):
	New.
	* oln/core/iterator_vtypes.hh
	(oln::single_vtype<image1d<T>, typedef_::fwd_qiter_type>)
	(oln::single_vtype<image2d<T>, typedef_::fwd_qiter_type>)
	(oln::single_vtype<image3d<T>, typedef_::fwd_qiter_type>): New.
	Aesthetic changes.
	* oln/core/1d/aliases.hh (oln::window_)
	(oln::fwd_qiter_win_, oln::bkd_qiter_win_): New forward
	declarations.
	(oln::window1d, oln::fwd_qiter1d): New typedefs.
	* oln/core/3d/aliases.hh (oln::window_)
	(oln::fwd_qiter_win_, oln::bkd_qiter_win_): New forward
	declarations.
	(oln::window3d, oln::fwd_qiter3d): New typedefs.

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	Fix access to images in tests.

	* tests/data.hh: New file.
	* tests/io_pnm: Include it.
	(main): Use rdata to compute the path to loaded images.
	* tests/window2d.cc: Likewise.
	Add copyright header.
	* tests/Makefile.am (AM_CPPFLAGS): Add -I$(srcdir)/check and
	-DOLN_IMG_DIR=\"$(top_srcdir)/olena/img\".
	(noinst_HEADERS): New.
	Add data.hh
	* tests/check/Makefile.am (EXTRA_DIST): Add Makefile.flags.

2006-10-12  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add image accessors with indices.

	* tests/at.cc: New.
	* oln/core/automatic/image1d.hh: New.
	* oln/core/automatic/image2d.hh: New.
	* oln/core/automatic/image3d.hh: New.
	* tests/Makefile.am (check_PROGRAMS): Add 'at'.
	Move io_pnm to get consistent with SOURCES list.
	(at_SOURCES): New.
	* oln/core/typedefs.hh (oln_psite, oln_psite_): New.
	* oln/core/automatic/image_being_mutable.hh
	(lvalue_t, psite_t): Remove; use oln_lvalue and oln_psite instead.
	(impl_op_readwrite): Update sig.
	* oln/core/abstract/image/dimension/1d.hh (at): New const method.
	(at, has_at): New methods that should be elsewhere; this is a hack.
	(image1d): Move ctor impl inside guards.
	* oln/core/abstract/image/dimension/2d.hh (at): New const method.
	(at, has_at): New methods that should be elsewhere; this is a hack.
	(image2d): Move ctor impl inside guards.
	* oln/core/abstract/image/dimension/3d.hh (at): New const method.
	(at, has_at): New methods that should be elsewhere; this is a hack.
	(image3d): Move ctor impl inside guards.
	* oln/core/abstract/point.hh (include): Add xtd/vec.hh.
	* oln/core/1d/neighb1d.hh (mk_c2): Update to mimic neighb2d.
	* oln/core/2d/image2d.hh (impl_at): New.
	* oln/core/3d/image3d.hh (impl_at): New.
	* oln/Makefile.am (nobase_oln_HEADERS): Update.
	* oln/morpher/internal/image_extension.hh (delegate): New mutable
	version.

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	Fix sanity tests.

	* oln/core/spe/row.hh, oln/core/spe/col.hh, oln/core/spe/slice.hh
	(oln/core/abstract/point_set/point_set_having_bbox.hh)
	(oln/core/abstract/image/bbox/hierarchy.hh): Include them.

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	* oln/core/fwd_piter.hh: Rename as....
	* oln/core/iterator_vtypes.hh: ...this.
	Adjust header guards.
	* oln/basics1d.hh, oln/basics2d.hh, oln/basics3d.hh,
	* oln/core/1d/image1d.hh, oln/core/2d/image2d.hh,
	* oln/core/3d/image3d.hh, oln/core/internal/bbox_bkd_piter.hh,
	* oln/core/internal/bbox_fwd_piter.hh, oln/io/pnm.hh,
	* oln/morpher/add_neighborhood.hh: Adjust.

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	Reorganize and fix oln/core/3d/.

	* oln/core/3d/aliases.hh (oln::fwd_piter3d, oln::bkd_piter3d): Fix
	their definitions.
	* oln/core/3d/neighb3d.hh (c6, c18, c26)
	(c4_slice, c8_slice, c4_row, c8_row, c4_col, c8_col): Rename as...
	(mk_c6, mk_c18, mk_c26, mk_c4_slice, mk_c8_slice)
	(mk_c4_row, mk_c8_row, mk_c4_col, mk_c8_col): ...these.
	(c6, c18, c26, c4_slice, c8_slice, c4_row, c8_row)
	(c4_col, c8_col): New objects.
	* oln/core/3d/array3d.hh, oln/core/3d/dpoint3d.hh,
	* oln/core/3d/image3d.hh, oln/core/3d/neighb3d.hh,
	* oln/core/3d/point3d.hh: Separate the interface of the methods
	and functions from their implementation.
	* oln/core/3d/image3d.hh (oln::vtypes< image3d<T> >): Set
	topo_type to topo3d.
	(bbox_<point3d>): Move explicit	instantiation...
	* oln/basics3d.hh: ...here
	(oln/core/fwd_piter.hh): Include it.
	* oln/core/3d/image3d.hh: Move the definition of the virtual types
	fwd_piter and bkd_piter of oln::image3d...
	* oln/core/fwd_piter.hh: ...here.
	* oln/core/abstract/image/hybrid/classical.hh
	(oln::abstract:classical_3d_image): New.
	(oln::case_<image_hybrid_hierarchy_wrt_classical, E, 3>): Rename
	as...
	(oln::case_<image_hybrid_hierarchy_wrt_classical, E, 4>): ...this.
	(oln::case_<image_hybrid_hierarchy_wrt_classical, E, 3>): New.
	Handle 3D case.

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	Fix explicit instantiations of oln::bbox_.

	* oln/basics1d.hh (bbox_<point1d>): Move explicit
	instantiation...
	* oln/core/1d/bbox1d.hh: ...here (new file).
	* oln/core/1d/image1d.hh: Include it.
	* oln/basics2d.hh (bbox_<point2d>): Move explicit
	instantiation...
	* oln/core/2d/bbox2d.hh: ...here (new file).
	* oln/core/2d/image2d.hh: Include it.
	* oln/core/3d/bbox3d.hh: New file.
	* oln/basics3d.hh, oln/core/3d/image3d.hh: Include it.
	* oln/Makefile.am (nobase_oln_HEADERS): Add core/1d/bbox1d.hh,
	core/2d/bbox2d.hh and core/3d/bbox3d.hh.

	* oln/core/2d/array2d.hh: Aesthetic changes.

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	Move explicit instantiation of bbox_<point2d> to basics2d.hh.

	* oln/core/2d/image2d.hh (oln::vtypes< image2d<T> >): Set
	topo_type to topo2d.
	* oln/core/2d/image2d.hh (bbox_<point2d>): Move explicit
	instantiation...
	* oln/basics2d.hh: ...here

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	Reorganize and fix oln/core/1d/.

	* oln/core/1d/aliases.hh (oln::fwd_piter1d, oln::bkd_piter1d): Fix
	their definitions.
	* oln/core/1d/neighb1d.hh (oln::c2): Rename as...
	(oln::mk_c2): ...this.
	(c2): New object.
	* oln/core/1d/array1d.hh, oln/core/1d/dpoint1d.hh,
	* oln/core/1d/image1d.hh, oln/core/1d/neighb1d.hh,
	* oln/core/1d/point1d.hh: Separate the interface of the methods
	and functions from their implementation.
	* oln/core/1d/image1d.hh (oln::vtypes< image1d<T> >): Set
	topo_type to topo1d.
	(bbox_<point1d>): Move explicit	instantiation...
	* oln/basics1d.hh: ...here
	(oln/core/fwd_piter.hh): Include it.
	* oln/core/1d/image1d.hh:
	Move the definition of the virtual types fwd_piter and bkd_piter
	of oln::image1d...
	* oln/core/fwd_piter.hh: ...here.
	* oln/core/abstract/image/hybrid/classical.hh
	(oln::abstract:classical_1d_image): New.
	(oln::case_<image_hybrid_hierarchy_wrt_classical, E, 1>)
	(oln::case_<image_hybrid_hierarchy_wrt_classical, E, 2>): Rename
	as...
	(oln::case_<image_hybrid_hierarchy_wrt_classical, E, 2>)
	(oln::case_<image_hybrid_hierarchy_wrt_classical, E, 3>):
	...these.
	(oln::case_<image_hybrid_hierarchy_wrt_classical, E, 1>): New.
	Handle 1D case.

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	* oln/core/abstract/image/dimension/1d.hh
	* oln/core/abstract/image/dimension/2d.hh
	* oln/core/abstract/image/dimension/3d.hh
	* oln/core/abstract/image/dimension/hierarchy.hh
	* oln/core/1d/grid1d.hh, oln/core/2d/grid2d.hh,
	* oln/core/3d/grid3d.hh, oln/core/2d/array2d.hh,
	* oln/core/2d/dpoint2d.hh, oln/core/2d/point2d.hh,
	* tests/image1d.cc, tests/image2d.cc, tests/image3d.cc,
	* tests/image_entry.cc, tests/io_pnm.cc, tests/Makefile.am:
	Aesthetic changes.

2006-10-12  Roland Levillain  <roland@lrde.epita.fr>

	Add static assertions to oln::topo_bbox_ and oln::topo_lbbox_.

	* oln/core/gen/topo_bbox.hh (oln::topo_bbox_<point>)
	* oln/core/gen/topo_lbbox.hh (oln::topo_lbbox_<point>): Ensure
	parameter point is an oln::abstract::point.

2006-10-11  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* tests/at.cc: New.
	* oln/core/automatic/image1d.hh: New.
	* oln/core/automatic/image2d.hh: New.
	* oln/core/automatic/image3d.hh: New.
	* tests/Makefile.am
	* oln/core/typedefs.hh
	* oln/core/automatic/image_being_mutable.hh
	* oln/core/abstract/image/dimension/1d.hh
	* oln/core/abstract/image/dimension/2d.hh
	* oln/core/abstract/image/dimension/3d.hh
	* oln/core/abstract/point.hh
	* oln/core/1d/neighb1d.hh
	* oln/core/2d/image2d.hh
	* oln/core/3d/image3d.hh
	* oln/Makefile.am
	* oln/morpher/internal/image_extension.hh

2006-10-11  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add new facilities to access to components such as row, col, etc.

	* oln/core/spe/row.hh: New.
	* oln/core/spe/col.hh: New.
	* oln/core/spe/slice.hh: New.
	* oln/debug/print.hh (print): Use min_row, etc.
	(include): Update.
	* oln/core/typedefs.hh (index_comp_type): New.
	(row_comp_type, col_comp_type, slice_comp_type): New.
	(vec_type): New.
	* oln/core/abstract/iterator_on_points.hh (coord_type): New.
	* oln/core/abstract/point.hh (vec_type): New.
	(vec): New.
	* oln/core/1d/dpoint1d.hh (index_comp_type): New.
	* oln/core/1d/point1d.hh (index_comp_type): New.
	* oln/core/2d/dpoint2d.hh (row_comp_type, col_comp_type): New.
	* oln/core/2d/point2d.hh (row_comp_type, col_comp_type): New.
	* oln/core/3d/dpoint3d.hh
	(slice_comp_type, row_comp_type, col_comp_type): New.
	* oln/core/3d/point3d.hh
	(slice_comp_type, row_comp_type, col_comp_type): New.
	* oln/core/internal/point_nd.hh (vec_t): New.
	(vec): Rename as...
	(impl_vec): this.
	* oln/basics2d.hh (include): Update.
	* oln/basics3d.hh (include): Update.
	* oln/Makefile.am (nobase_oln_HEADERS): Update.

2006-10-11  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	New facilities related to windows and q-iterators.

	* tests/window2d.cc: New.
	* tests/Makefile.am (window2d_SOURCES): New.
	* oln/debug/print.hh (format): New.
	(print): Update; use format to correctly print 'unsigned char'.
	* oln/level/fill.hh: Separate header and implementation.
	(fill): Use shortcut.
	* oln/core/typedefs.hh: New shortcuts oln_something(T) for
	oln_type_of(T, something).
	* oln/core/fwd_piter.hh (fwd_qiter_type): New.
	* oln/core/abstract/window.hh: New.
	* oln/core/2d/aliases.hh (window2d, fwd_qiter2d): New.
	* oln/core/gen/fwd_qiter_win.hh (include): Add abstract::window.hh.
	(fwd_qiter_win_): Update ctor signature.
	* oln/core/gen/window.hh (grid_type): New.
	(window_): Add inheritance from abstract::window.
	(impl_is_valid): New.
	(include): Update.
	* oln/basics2d.hh (include): Add window.hh and fwd_qiter_win.hh.
	* oln/Makefile.am (nobase_oln_HEADERS): Update.

2006-10-11  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add some tools related to morphers over image value.

	* oln/core/abstract/value.hh: New.
	* oln/morpher/thru_fun.hh: New.
	* oln/morpher/internal/image_value_morpher.hh: New.
	* oln/color: New.
	* oln/color/rgb.hh: New.
	* tests/Makefile.am (check_PROGRAMS): Reorganize.
	(io_pnm_SOURCES): New.
	* oln/core/abstract/grid.hh (grid): Add inheritance from oln::type.
	* oln/Makefile.am (nobase_oln_HEADERS): Update.

2006-10-10  Roland Levillain  <roland@lrde.epita.fr>

	Fix sanity checks.

	* oln/core/abstract/image/hybrid/classical.hh,
	* oln/core/gen/neighb.hh, oln/core/gen/window.hh,
	* oln/core/gen/fwd_qiter_win.hh, oln/core/gen/piter_isubset.hh,
	* oln/core/gen/mapimage.hh,
	* oln/core/internal/bbox_fwd_piter.hh,
	* oln/core/internal/bbox_bkd_piter.hh,
	* oln/core/fwd_piter.hh, oln/core/1d/point1d.hh,
	* oln/core/1d/dpoint1d.hh, oln/core/2d/point2d.hh,
	* oln/core/2d/dpoint2d.hh, oln/core/2d/neighb2d.hh,
	* oln/core/3d/point3d.hh, oln/core/3d/dpoint3d.hh,
	* oln/core/3d/neighb3d.hh,
	* oln/morpher/add_isubset.hh, oln/morpher/add_neighborhood.hh,
	* oln/debug/print.hh, oln/io/pnm.hh, oln/level/fill.hh:
	Include needed (missing) headers.
	* oln/core/1d/image1d.hh, oln/core/2d/image2d.hh,
	* oln/core/3d/image3d.hh: Likewise.
	Instantiate oln::bbox_ explicitly.
	* oln/core/gen/bbox.hh
	(oln/core/gen/bbox_fwd_piter.hh, oln/core/gen/bbox_bkd_piter.hh):
	Don't include them.
	* oln/core/gen/topo_bbox.hh (impl_has_large): Typo.


	Reorganize the abstract::image hierarchy.

	* oln/core/abstract/image/hierarchies.hh: Move inclusions of point
	set abstractions...
	* oln/core/abstract/image/all.hh: ...here (new file).
	* oln/core/image_entry.hh: Adjust.
	* oln/Makefile.am (nobase_oln_HEADERS): Adjust.
	* oln/basics1d.hh, oln/basics2d.hh, oln/basics3d.hh: Remove
	explicit template instantiations.
	* oln/core/abstract/image.hh
	(oln/core/abstract/image/hierarchies.hh): Don't include it.
	* oln/core/abstract/image/dimension/hierarchy.hh
	* oln/core/abstract/image/type/hierarchy.hh,
	* oln/core/abstract/image/neighborhood/hierarchy.hh
	* oln/core/abstract/image/bbox/hierarchy.hh
	* oln/core/abstract/image/accessibility/hierarchy.hh
	* oln/core/abstract/image/mutability/hierarchy.hh
	* oln/core/abstract/image/hybrid/classical.hh
	(oln/core/abstract/image/hierarchies.hh): Include it.
	* oln/core/abstract/image/type/integre.hh
	(oln::abstract::case_<image_hierarchy_wrt_type, E, 4>)
	(oln::abstract::case_<image_hierarchy_wrt_type, E, 5>)
	(oln::abstract::case_<image_hierarchy_wrt_type, E, 6>): Catch up
	with image type hierarchy.


	Reorganize the abstract::point_set hierarchy.

	* oln/core/abstract/point_set_hierarchies.hh: Rename as...
	* oln/core/abstract/point_set/hierarchies.hh: ...this.
	Move inclusions of point set abstractions...
	* oln/core/abstract/point_set/all.hh: ...here (new file).
	* oln/core/point_set_entry.hh: Adjust.
	* oln/core/abstract/point_set_being_connected.hh,
	* oln/core/abstract/point_set_being_random_accessible.hh,
	* oln/core/abstract/point_set_having_bbox.hh,
	* oln/core/abstract/point_set_having_known_size.hh: Rename as...
	* oln/core/abstract/point_set/point_set_being_connected.hh,
	* oln/core/abstract/point_set/point_set_being_random_accessible.hh,
	* oln/core/abstract/point_set/point_set_having_bbox.hh,
	* oln/core/abstract/point_set/point_set_having_known_size.hh:
	...these.
	Adjust header guards and inclusions.
	* oln/Makefile.am (nobase_oln_HEADERS): Adjust.
	* oln/core/abstract/bbox.hh
	(oln::case_<point_set_hierarchy_wrt_bbox, E, 1>)
	(oln::case_<point_set_hierarchy_wrt_bbox, E, 2>): Move...
	* oln/core/abstract/point_set/point_set_having_bbox.hh: ...here.
	(oln::abstract::point_set_having_bbox):
	s/oln_type_of/oln_check_type_of/g.


	Reorganize the abstract::topology hierarchy.

	* oln/core/abstract/topology_hierarchies.hh: Rename as...
	* oln/core/abstract/topology/hierarchies.hh: ...this.
	Move inclusions of topology abstractions...
	* oln/core/abstract/topology/all.hh: ...here (new file).
	* oln/core/topology_entry.hh: Adjust
	* oln/core/abstract/topology_being_random_accessible.hh,
	* oln/core/abstract/topology_having_bbox.hh,
	* oln/core/abstract/topology_having_neighborhood.hh,
	* oln/core/abstract/topology_having_subset.hh: Rename as...
	* oln/core/abstract/topology/topology_being_random_accessible.hh,
	* oln/core/abstract/topology/topology_having_bbox.hh,
	* oln/core/abstract/topology/topology_having_neighborhood.hh,
	* oln/core/abstract/topology/topology_having_subset.hh: ...these.
	Adjust header guards and inclusions.
	* oln/Makefile.am (nobase_oln_HEADERS): Adjust.

2006-10-10  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add i/o read for pbm and pgm formats.

	* tests/io_pnm.cc: New.
	* tests/Makefile.am (check_PROGRAMS): Update.
	* oln/io: New directory.
	* oln/io/pnm.hh: New.
	* oln/core/image_entry.hh (coord_type): New single_vtype.
	* oln/core/abstract/image.hh (decl): New comment.
	* oln/core/2d/image2d.hh (adr_at): New.
	* oln/basics2d.hh (include): Add fwd_piter.hh.
	* oln/Makefile.am (nobase_oln_HEADERS): Update.
	* img: New directory.
	* img/chien.pbm: New.
	* img/lena32.pgm: New.

2006-10-09  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/internal/tracked_ptr.hh (operator bool):
	Fix signature.
	(operator bool): Add line to remove warning.

2006-10-09  Roland Levillain  <roland@lrde.epita.fr>

	Add sanity check to Olena.

	* tests/sanity/check.in, tests/sanity/Makefile.am,
	* tests/check/defs.in, tests/check/Makefile.flags,
	* tests/check/Makefile.am: New.
	* tests/Makefile.am (SUBDIRS): New.

2006-10-09  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Change stc_virtual_typedef into oln_virtual_typedef.

	* oln/core/macros.hh (oln_virtual_typedef): New macro.
	It replaces stc_virtual_typedef.
	* oln/core/abstract/image.hh: Update.
	* oln/core/abstract/image/mutability/hierarchy.hh: Update.
	* oln/core/abstract/image/neighborhood/hierarchy.hh: Update.
	* oln/core/abstract/image/bbox/hierarchy.hh: Update.
	* oln/core/abstract/point_set.hh: Update.
	* oln/core/abstract/neighborhood.hh: Update.
	* oln/core/abstract/topology.hh: Update.

2006-10-09  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/debug/print.hh: Separate definition from declaration.
	* oln/core/automatic/topology_being_random_accessible.hh
	(impl_has_large): Fix signature.

2006-10-09  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Separate definition code from declaration code in olena.

	* oln/core/type.hh: Split code.
	* oln/core/point_set_entry.hh: Likewise.
	* oln/core/automatic/image.hh: Likewise.
	* oln/core/automatic/topology_having_bbox.hh: Likewise.
	* oln/core/automatic/image_being_random_accessible.hh: Likewise.
	* oln/core/automatic/image_having_neighborhood.hh: Likewise.
	* oln/core/automatic/topology_being_random_accessible.hh: Likewise.
	* oln/core/automatic/topology_having_subset.hh: Likewise.
	* oln/core/automatic/image_being_mutable.hh: Likewise.
	* oln/core/automatic/topology_having_neighborhood.hh: Likewise.
	* oln/core/neighborhood_entry.hh: Likewise.
	* oln/core/topology_entry.hh: Likewise.
	* oln/core/image_entry.hh: Likewise.
	* oln/core/abstract/iterator_on_points.hh: Likewise.
	* oln/core/abstract/topology_having_bbox.hh: Likewise.
	* oln/core/abstract/image.hh: Likewise.
	* oln/core/abstract/image/type/binary.hh: Likewise.
	* oln/core/abstract/image/type/data.hh: Likewise.
	* oln/core/abstract/image/type/grey_level.hh: Likewise.
	* oln/core/abstract/image/type/color.hh: Likewise.
	* oln/core/abstract/image/type/label.hh: Likewise.
	* oln/core/abstract/image/hybrid/classical.hh: Likewise.
	* oln/core/abstract/image/mutability/hierarchy.hh: Likewise.
	* oln/core/abstract/image/dimension/2d.hh: Likewise.
	* oln/core/abstract/image/neighborhood/hierarchy.hh: Likewise.
	* oln/core/abstract/image/accessibility/hierarchy.hh: Likewise.
	* oln/core/abstract/image/bbox/hierarchy.hh: Likewise.
	* oln/core/abstract/point_set_being_random_accessible.hh: Likewise.
	* oln/core/abstract/grid.hh: Likewise.
	* oln/core/abstract/iterator.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/bbox.hh: Likewise.
	* oln/core/abstract/point_set_being_connected.hh: Likewise.
	* oln/core/abstract/dpoint.hh: Likewise.
	* oln/core/abstract/topology_being_random_accessible.hh: Likewise.
	* oln/core/abstract/topology_having_subset.hh: Likewise.
	* oln/core/abstract/topology_having_neighborhood.hh: Likewise.
	* oln/core/abstract/entry.hh: Likewise.
	* oln/core/abstract/point_set.hh: Likewise.
	* oln/core/abstract/point_set_having_known_size.hh: Likewise.
	* oln/core/abstract/neighborhood.hh: Likewise.
	* oln/core/abstract/point_set_having_bbox.hh: Likewise.
	* oln/core/abstract/topology.hh: Likewise.
	* oln/core/2d/neighb2d.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/2d/array2d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/gen/piter_isubset.hh: Likewise.
	* oln/core/gen/topo_add_isubset.hh: Likewise.
	* oln/core/gen/bbox.hh: Likewise.
	* oln/core/gen/topo_bbox.hh: Likewise.
	* oln/core/gen/neighb.hh: Likewise.
	* oln/core/gen/fwd_piter_bbox.hh: Likewise.
	* oln/core/gen/bbox_fwd_piter.hh: Likewise.
	* oln/core/gen/fwd_niter_neighb.hh: Likewise.
	* oln/core/gen/fwd_qiter_win.hh: Likewise.
	* oln/core/gen/topo_lbbox.hh: Likewise.
	* oln/core/gen/window.hh: Likewise.
	* oln/core/gen/bbox_bkd_piter.hh: Likewise.
	* oln/core/gen/bkd_piter_bbox.hh: Likewise.
	* oln/core/gen/topo_add_nbh.hh: Likewise.
	* oln/core/gen/mapimage.hh: Likewise.
	* oln/core/internal/tracked_ptr.hh: Likewise.
	* oln/core/internal/topology_morpher.hh: Likewise.
	* oln/core/internal/point_nd.hh: Likewise.
	* oln/core/internal/bbox_bkd_piter.hh: Likewise.
	* oln/core/internal/bbox_fwd_piter.hh: Likewise.
	* oln/core/internal/dpoint_nd.hh: Likewise.
	* oln/basics2d.hh: Likewise.
	* oln/morpher/add_isubset.hh: Likewise.
	* oln/morpher/identity.hh: Likewise.
	* oln/morpher/internal/image_extension.hh: Likewise.
	* oln/morpher/add_neighborhood.hh: Likewise.

2006-10-05  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Decouple iterators from image topology; update neighborhood tools
	and start to add window tools.

	* oln/core/automatic/topology_having_subset.hh: New.
	* oln/core/abstract/topology_having_subset.hh: New.
	* oln/core/gen/fwd_niter_neighb.hh: New.
	* oln/core/gen/fwd_qiter_win.hh: New.
	* oln/core/gen/window.hh: New.
	* oln/core/typedefs.hh
	(qiter_type, fwd_qiter_type, bkd_qiter_type): Uncomment.
	(niter_type, fwd_niter_type, bkd_niter_type): Uncomment.
	(isubset): Rename into...
	(subset_type): ...this.
	* oln/core/macros.hh
	(oln_type_of, oln_deduce_type_of, oln_type_of_): Rely on direct access.
	(oln_check_type_of, oln_check_type_of_): Rely on direct access.
	(oln_deduce_direct_type_of): New.
	* oln/core/topology_entry.hh (subset_type): New.
	* oln/core/image_entry.hh (fwd_piter_type, bkd_piter_type): Move
	from vtypes to single_vtype.
	(fwd_qiter_type): New.
	* oln/core/abstract/topology_hierarchies.hh
	(topology_hierarchy_wrt_subset): New.
	(include): Add topology_having_subset.hh.
	* oln/core/abstract/image/neighborhood/hierarchy.hh
	(niter, fwd_niter, bkd_niter): New in decl.
	* oln/core/2d/aliases.hh
	(fwd_piter_bbox_, bkd_piter_bbox_): Change param letter.
	(fwd_piter2d, bkd_piter2d): Update.
	* oln/core/2d/neighb2d.hh (c4, c8, c2_row, c2_col): Rename into...
	(mk_c4, mk_c8, mk_c2_row, mk_c2_col): ...these in namespace internal.
	(c4, c8, c2r, c2c): New objects.
	* oln/core/gen/piter_isubset.hh (piter_isubset_): New ctor for
	iterators around a point.
	(topo): Return a copy.
	(change_topology_): Remove; obsolete.
	* oln/core/gen/topo_add_isubset.hh (isubset_type): Rename into...
	(subset_type): ...this.
	(isubset): Rename into...
	(impl_subset): ...this.
	* oln/core/gen/topo_bbox.hh (impl_lbbox): New; experimental!
	* oln/core/gen/fwd_piter_bbox.hh (fwd_piter_bbox_): Change parameter
	from topo to point; update.
	(topo): Remove this method; obsolete.
	(change_topology_): Remove; obsolete.
	(topo_): Remove this attribute; obsolete.
	* oln/core/gen/bkd_piter_bbox.hh: Likewise.
	* oln/basics2d.hh: Update.
	* oln/Makefile.am (nobase_oln_HEADERS): Update.
	* oln/core/2d/image2d.hh
	(fwd_piter_type, bkd_piter_type): Move these definitions into...
	* oln/core/fwd_piter.hh: ... this new file.
	* oln/morpher/add_isubset.hh: Likewise.
	* oln/morpher/add_neighborhood.hh: Likewise.
	* oln/morpher/internal/image_extension.hh (image_): Change from
	const& to plain type.

2006-10-03  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution.

	* oln/Makefile.am (nobase_oln_HEADERS): Add core/1d/aliases.hh,
	core/1d/array1d.hh, core/1d/dpoint1d.hh, core/1d/image1d.hh,
	core/1d/neighb1d.hh, core/1d/point1d.hh, core/3d/aliases.hh,
	core/3d/array3d.hh, core/3d/dpoint3d.hh, core/3d/image3d.hh,
	core/3d/neighb3d.hh, core/3d/point3d.hh,
	core/internal/tracked_ptr.hh, basics1d.hh, basics3d.hh.

2006-10-03  Roland Levillain  <roland@lrde.epita.fr>

	Add oln::image3d and associated types.

	* oln/core/3d/image3d.hh, oln/core/3d/array3d.hh,
	* oln/core/3d/point3d.hh, oln/core/3d/dpoint3d.hh,
	* oln/core/3d/neighb3d.hh, oln/core/3d/aliases.hh,
	* oln/basics3d.hh: New.
	* oln/core/abstract/point_set_being_connected.hh
	(oln::abstract::point_set_being_3d_connected): New class.
	(oln::case_<point_set_hierarchy_wrt_connectivity, E, 3>): New
	case.
	* tests/image3d.cc: New test.
	* tests/Makefile.am (check_PROGRAMS): Add image3d.
	(image3d_SOURCES): New.

2006-10-03  Roland Levillain  <roland@lrde.epita.fr>

	Add oln::image1d and associated types.

	* oln/core/1d/image1d.hh, oln/core/1d/array1d.hh,
	* oln/core/1d/point1d.hh, oln/core/1d/dpoint1d.hh,
	* oln/core/1d/neighb1d.hh, oln/core/1d/aliases.hh,
	* oln/basics1d.hh: New.
	* oln/core/abstract/point_set_being_connected.hh
	(oln::abstract::point_set_being_1d_connected): New class.
	(oln::case_<point_set_hierarchy_wrt_connectivity, E, 1>): Handle
	the 1-dimension case, and move the 2-dimension case...
	(oln::case_<point_set_hierarchy_wrt_connectivity, E, 2>): ...here
	(new).
	* tests/image1d.cc: New test.
	* tests/Makefile.am (check_PROGRAMS): Add image1d.
	(image1d_SOURCES): New.

2006-10-03  Roland Levillain  <roland@lrde.epita.fr>

	Clean up morphers.

	* oln/morpher/identity.hh
	(oln::vtypes< morpher::identity<Image> >): Remove (was useless).
	(oln/morpher/tags.hh): Move header inclusion...
	* oln/morpher/internal/image_extension.hh: ...here
	* oln/morpher/add_neighborhood.hh, oln/morpher/add_isubset.hh
	(oln/morpher/tags.hh): No longer include it.
	* oln/morpher/tags.hh (oln::morpher::tag::add_neighborhood):
	Remove (was useless).
	(oln::morpher::tag::identity): Adjust documentation.

2006-10-03  Roland Levillain  <roland@lrde.epita.fr>

	Take borders into account in data allocation of image2d.

	* oln/core/2d/image2d.hh (image2d(unsigned, unsigned, unsigned)):
	Allocate space for the border in the array.
	* oln/core/2d/point2d.hh, oln/core/typedefs.hh: Add FIXMEs.
	* oln/core/2d/neighb2d.hh, oln/core/2d/dpoint2d.hh,
	* oln/core/internal/point_nd.hh: Aesthetic changes.

2006-10-02  Roland Levillain  <roland@lrde.epita.fr>

	Add simple tests for point2d and dpoint2d.

	* tests/dpoint2d.cc, tests/point2d.cc: New tests.
	* tests/image_entry.cc: Fix comments.
	* tests/Makefile.am (check_PROGRAMS): Add dpoint2d and point2d.
	(dpoint2d_SOURCES, point2d_SOURCES): New.

2006-10-02  Roland Levillain  <roland@lrde.epita.fr>

	Separate tracked_ptr from array2d.

	* oln/core/2d/array2d.hh (oln::tracked_ptr): Move...
	* oln/core/internal/tracked_ptr.hh: ...here (new file).
	* oln/core/2d/image2d.hh (oln::image2d::data_): Adjust type.
	(oln::image2d(const topo2d&)): New ctor.
	* tests/image2d.cc: New test.
	* tests/Makefile.am (check_PROGRAMS): Add image2d.
	(image2d_SOURCES): New.

2006-10-02  Roland Levillain  <roland@lrde.epita.fr>

	Fix the inheritance of oln::point2d_ and oln::dpoint2d_.

	* oln/core/2d/point2d.hh (oln::set_super_type< point2d_<C> >):
	New.
	(oln::point2d_): Use stc_get_supers to set the base class.
	(oln::point2d_::super_t): Use stc_get_super to define it.
	(oln::point2d_::point2d_(coord_t, coord_t)): Use xtd::mk_vec
	to initialize the base class.
	* oln/core/2d/dpoint2d.hh (oln::set_super_type< dpoint2d_<C> >):
	Re-enable it.
	(oln::dpoint2d_): Use stc_get_supers to set the base class.
	(oln::dpoint2d_::super_t): Use stc_get_super to define it.

2006-10-02  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add isubset image morpher and subsequent tools.

	* oln/core/gen/piter_isubset.hh: New.
	* oln/core/gen/topo_add_isubset.hh: New.
	* oln/morpher/add_isubset.hh: New.
	* oln/debug/print.hh (println): New.
	* oln/core/typedefs.hh (isubset): New.
	* oln/core/automatic/image_being_random_accessible.hh
	(set_impl): Remove; cause error-prone.
	* oln/core/abstract/image/type/hierarchy.hh
	(where_): Rely on xtd_is_binary instead of an hard-coded test.
	(include): Update.
	* oln/core/gen/fwd_piter_bbox.hh (topo_type): new.
	(topo_): Change ref into plain type so it is more secure.
	* oln/core/gen/bkd_piter_bbox.hh (topo_type): new.
	(topo_): Change ref into plain type so it is more secure.
	* oln/core/gen/topo_add_nbh.hh (operator topo_t): New.
	* oln/core/internal/topology_morpher.hh
	(delegated_type): New.

2006-09-29  Roland Levillain  <roland@lrde.epita.fr>

	Use TESTS_CXXFLAGS in Olena.

	* tests/Makefile.am (TESTS_CXXFLAGS): New.
	Append it to...
	(CXXFLAGS): ...this variable.
	* tests/fill.cc: Typo in comment.

2006-09-28  Roland Levillain  <roland@lrde.epita.fr>

	Add oln::level::fill().

	* oln/level/fill.hh: New.
	* oln/Makefile.am (nobase_oln_HEADERS): Add level/fill.hh.
	* tests/fill.cc: New test.
	* tests/Makefile.am (AM_CXXFLAGS): Rename as...
	(CXXFLAGS): ...this.
	(check_PROGRAMS): Add fill.
	(fill_SOURCES): New.

2006-09-28  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with Static's changes on automatically retrieved
	implementations.

	* oln/core/automatic/impl.hh: New.
	* oln/automatic/image.hh: Move...
	* oln/core/automatic/image.hh: ...here.
	(impl): Rename as...
	(set_impl): ...this.
	* oln/automatic/image_being_mutable.hh: Move...
	* oln/core/automatic/image_being_mutable.hh: ...here.
	(impl): Rename as...
	(set_impl): ...this.
	* oln/automatic/image_being_random_accessible.hh: Move...
	* oln/core/automatic/image_being_random_accessible.hh: ...here.
	(impl): Rename as...
	(set_impl): ...this.
	* oln/automatic/image_having_neighborhood.hh: Move...
	* oln/core/automatic/image_having_neighborhood.hh: ...here.
	(impl): Rename as...
	(set_impl): ...this.
	* oln/automatic/topology_being_random_accessible.hh: Move...
	* oln/core/automatic/topology_being_random_accessible.hh: ...here.
	(impl): Rename as...
	(set_impl): ...this.
	* oln/automatic/topology_having_bbox.hh: Move...
	* oln/core/automatic/topology_having_bbox.hh: ...here.
	(impl): Rename as...
	(set_impl): ...this.
	* oln/automatic/topology_having_neighborhood.hh: Move...
	* oln/core/automatic/topology_having_neighborhood.hh: ...here.
	(impl): Rename as...
	(set_impl): ...this.
	Adjust.
	* oln/core/abstract/image.hh (oln::abstract::image)
	* oln/core/abstract/image/accessibility/hierarchy.hh
	(oln::abstract::image_being_random_accessible)
	* oln/core/abstract/image/bbox/hierarchy.hh
	(oln::abstract::image_having_bbox)
	* oln/core/abstract/image/dimension/1d.hh
	(oln::abstract::image1d)
	* oln/core/abstract/image/dimension/2d.hh
	(oln::abstract::image2d)
	* oln/core/abstract/image/dimension/3d.hh
	(oln::abstract::image3d)
	* oln/core/abstract/image/mutability/hierarchy.hh
	(oln::abstract::image_being_mutable)
	* oln/core/abstract/image/neighborhood/hierarchy.hh
	(oln::abstract::image_having_neighborhood)
	* oln/core/abstract/topology_being_random_accessible.hh
	(oln::abstract::topology_being_random_accessible)
	* oln/core/abstract/topology_having_bbox.hh
	(oln::abstract::topology_having_bbox)
	* oln/core/abstract/topology_having_neighborhood.hh
	(oln::abstract::topology_having_neighborhood): Adjust.
	* oln/Makefile.am (nobase_oln_HEADERS): Adjust.

2006-09-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add oln debug print and a "classical" image abstraction.

	* oln/debug/print.hh: New.
	* oln/core/abstract/image/hybrid/classical.hh: New.
	* oln/core/abstract/image/hierarchies.hh
	(image_hybrid_hierarchy_wrt_classical): New.
	(include): Update.
	* oln/Makefile.am (nobase_oln_HEADERS): Update.

2006-09-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Update grid classes and add static checks for image vtypes.

	* oln/core/abstract/fwd_decls.hh: New.
	* tests/image_entry.cc: Update.
	* oln/core/abstract/image.hh (include): Add fwd_decls.
	(decl): Add static checks.
	* oln/core/abstract/image/mutability/hierarchy.hh
	(lvalue_t, psite_t): Update.  oln_check_type_of is now useless
	cause vtypes are now automatically checked in the decl structure.
	* oln/core/abstract/image/bbox/hierarchy.hh
	(bbox_t, point_t): Likewise.
	(decl): Add static checks.
	* oln/core/abstract/grid.hh (include): Update.
	(point_type, dpoint_type, size_type, coord_type): Remove.
	We have point->grid, not the contrary.
	(grid): Change inheritance to stc::any__simple.
	* oln/core/1d/grid1d.hh: Update.
	* oln/core/2d/grid2d.hh: Update.
	* oln/core/3d/grid3d.hh: Update.
	* oln/basics2d.hh (include): Add grid2d.
	* oln/Makefile.am (nobase_oln_HEADERS): Update.

2006-09-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Adjust guards to directory names.

	* oln/automatic/topology_having_bbox.hh: Adjust guard to directory
	name.
	* oln/automatic/image.hh: Likewise.
	* oln/automatic/image_being_random_accessible.hh: Likewise.
	* oln/automatic/image_having_neighborhood.hh: Likewise.
	* oln/automatic/topology_being_random_accessible.hh: Likewise.
	* oln/automatic/topology_having_neighborhood.hh: Likewise.
	* oln/automatic/image_being_mutable.hh: Likewise.
	* oln/core/type.hh: Likewise.
	* oln/core/traits_id.hh: Likewise.
	* oln/core/typedefs.hh: Likewise.
	* oln/core/macros.hh: Likewise.
	* oln/core/point_set_entry.hh: Likewise.
	* oln/core/neighborhood_entry.hh: Likewise.
	* oln/core/topology_entry.hh: Likewise.
	* oln/core/image_entry.hh: Likewise.
	* oln/core/abstract/iterator_on_points.hh: Likewise.
	* oln/core/abstract/image.hh: Likewise.
	* oln/core/abstract/topology_hierarchies.hh: Likewise.
	* oln/core/abstract/topology_having_bbox.hh: Likewise.
	* oln/core/abstract/image/type/binary.hh: Likewise.
	* oln/core/abstract/image/type/data.hh: Likewise.
	* oln/core/abstract/image/type/integre.hh: Likewise.
	* oln/core/abstract/image/type/grey_level.hh: Likewise.
	* oln/core/abstract/image/type/hierarchy.hh: Likewise.
	* oln/core/abstract/image/type/color.hh: Likewise.
	* oln/core/abstract/image/type/label.hh: Likewise.
	* oln/core/abstract/image/mutability/hierarchy.hh: Likewise.
	* oln/core/abstract/image/hierarchies.hh: Likewise.
	* oln/core/abstract/image/dimension/1d.hh: Likewise.
	* oln/core/abstract/image/dimension/2d.hh: Likewise.
	* oln/core/abstract/image/dimension/3d.hh: Likewise.
	* oln/core/abstract/image/dimension/hierarchy.hh: Likewise.
	* oln/core/abstract/image/neighborhood/hierarchy.hh: Likewise.
	* oln/core/abstract/image/accessibility/hierarchy.hh: Likewise.
	* oln/core/abstract/image/bbox/hierarchy.hh: Likewise.
	* oln/core/abstract/grid.hh: Likewise.
	* oln/core/abstract/point_set_being_random_accessible.hh: Likewise.
	* oln/core/abstract/any.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/iterator.hh: Likewise.
	* oln/core/abstract/point_set_being_connected.hh: Likewise.
	* oln/core/abstract/bbox.hh: Likewise.
	* oln/core/abstract/topology_being_random_accessible.hh: Likewise.
	* oln/core/abstract/dpoint.hh: Likewise.
	* oln/core/abstract/topology_having_neighborhood.hh: Likewise.
	* oln/core/abstract/entry.hh: Likewise.
	* oln/core/abstract/point_set.hh: Likewise.
	* oln/core/abstract/point_set_having_known_size.hh: Likewise.
	* oln/core/abstract/neighborhood.hh: Likewise.
	* oln/core/abstract/point_set_having_bbox.hh: Likewise.
	* oln/core/abstract/point_set_hierarchies.hh: Likewise.
	* oln/core/abstract/topology.hh: Likewise.
	* oln/core/abstract/internal/image_impl.hh: Likewise.
	* oln/core/1d/grid1d.hh: Likewise.
	* oln/core/traits.hh: Likewise.
	* oln/core/2d/aliases.hh: Likewise.
	* oln/core/2d/neighb2d.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/2d/array2d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/2d/grid2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/3d/grid3d.hh: Likewise.
	* oln/core/case.hh: Likewise.
	* oln/core/gen/topo_lbbox.hh: Likewise.
	* oln/core/gen/bbox.hh: Likewise.
	* oln/core/gen/topo_bbox.hh: Likewise.
	* oln/core/gen/neighb.hh: Likewise.
	* oln/core/gen/fwd_piter_bbox.hh: Likewise.
	* oln/core/gen/bbox_fwd_piter.hh: Likewise.
	* oln/core/gen/bbox_bkd_piter.hh: Likewise.
	* oln/core/gen/bkd_piter_bbox.hh: Likewise.
	* oln/core/gen/topo_add_nbh.hh: Likewise.
	* oln/core/gen/mapimage.hh: Likewise.
	* oln/core/internal/topology_morpher.hh: Likewise.
	* oln/core/internal/point_nd.hh: Likewise.
	* oln/core/internal/bbox_bkd_piter.hh: Likewise.
	* oln/core/internal/bbox_fwd_piter.hh: Likewise.
	* oln/core/internal/dpoint_nd.hh: Likewise.
	* oln/basics2d.hh: Likewise.
	* oln/morpher/identity.hh: Likewise.
	* oln/morpher/internal/image_extension.hh: Likewise.
	* oln/morpher/tags.hh: Likewise.
	* oln/morpher/add_neighborhood.hh: Likewise.

2006-09-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add array2d and tracked_ptr.

	* oln/core/2d/array2d.hh: New.
	This file also provides the tracked_ptr class which should be
	moved later in a more appropriate file.
	* oln/core/2d/image2d.hh (lvalue_type, is_mutable_type): Add.
	(data_): New attribute.
	(impl_op_read): Update; code is no more fake.
	(impl_op_readwrite): New.
	(image2d): Update.
	* oln/Makefile.am (nobase_oln_HEADERS): Update; remove
	the core/2d/grid2d.hh duplicate.

2006-09-27  Roland Levillain  <roland@lrde.epita.fr>

	* tests/Makefile.am (AM_CXXFLAGS): Set to -O0 -ggdb.

2006-09-26  Roland Levillain  <roland@lrde.epita.fr>

	Let neighborhood() return a const reference instead of a copy.

	* oln/automatic/image_having_neighborhood.hh (impl_neighborhood)
	* oln/core/abstract/image/neighborhood/hierarchy.hh
	(image_having_neighborhood::neighborhood): Return a const
	reference instead of a copy.

2006-09-26  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add mapimage type and update.

	* oln/core/gen/mapimage.hh: New.
	* oln/automatic/image_being_random_accessible.hh: New.
	* oln/core/abstract/topology_having_bbox.hh
	(bbox): New; mutable version.
	* oln/core/abstract/image.hh (has): Remove; this method
	is now specific to a sub-abstraction.
	* oln/core/abstract/image/mutability/hierarchy.hh
	(lvalue_t, psite_t): Update.
	(~image_being_mutable): Fix typo.
	(using): New; it allows disambiguation of overloading
	thru inheritance.
	* oln/core/abstract/image/accessibility/hierarchy.hh
	(has, has_large): Update.
	(include): Update.
	* oln/core/abstract/image/bbox/hierarchy.hh
	(bbox_t, point_t): Update.
	(bbox): Change return signature.
	(pmin, pmax): New.
	* oln/core/gen/topo_bbox.hh (impl_bbox): New.
	* oln/Makefile.am (nobase_oln_HEADERS): Update.

2006-09-26  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add some abstract image sub-hierarchies.

	* oln/automatic/image_being_mutable.hh: New.
	* oln/core/abstract/image/mutability/hierarchy.hh: New.
	* oln/core/abstract/image/accessibility/hierarchy.hh: New.
	* oln/core/abstract/image/bbox/hierarchy.hh: New.
	* oln/core/typedefs.hh (lvalue_type, is_mutable_type): New.
	* oln/core/macros.hh (oln_deduce_type_of): New.
	* oln/core/abstract/image.hh: Cosmetics.
	* oln/core/abstract/image/hierarchies.hh
	(image_hierarchy_wrt_bbox): New.
	(image_hierarchy_wrt_accessibility): New.
	(image_hierarchy_wrt_mutability): New.
	(include): Update.
	* oln/core/abstract/image/neighborhood/hierarchy.hh (decl): New.
	(~image_having_neighborhood): New.

2006-09-26  Roland Levillain  <roland@lrde.epita.fr>

	* oln/core/typedefs.hh: Catch up with changes in Static's
	stc/scoop.hh.

2006-09-26  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with changes in the image abstractions hierachies.

	* tests/identity_morpher.cc, tests/add_neighborhood_morpher.cc,
	* tests/morphers.cc: Catch up with changes in the image
	abstractions hierachies.

2006-09-26  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Dispatch image abstract classes into subdirs and files.

	* oln/core/abstract/image/type: New directory.
	* oln/core/abstract/image/dimension: New directory.
	* oln/core/abstract/image/neighborhood: New directory.
	* oln/core/abstract/image_type.hh (internal): Remove.
	Rename into...
	* oln/core/abstract/image/type/hierarchy.hh: ...this file.
	* oln/core/abstract/image_dimension.hh: Rename into...
	* oln/core/abstract/image/dimension/hierarchy.hh: ...this file.
	* oln/core/abstract/image_hierarchies.hh: Rename into...
	* oln/core/abstract/image/hierarchies.hh: ...this file.
	* oln/core/abstract/image_type_integre.hh: Rename into...
	* oln/core/abstract/image/type/integre.hh: ...this file.
	* oln/core/abstract/image_having_neighborhood.hh: Rename into...
	* oln/core/abstract/image/neighborhood/hierarchy.hh: ...this file.
	* oln/core/abstract/image.hh (include): Update.
	* Makefile.am: Update.

2006-09-26  Roland Levillain  <roland@lrde.epita.fr>

	Have all classes of oln::automatic inherit from stc::any__simple.

	* oln/automatic/image_having_neighborhood.hh
	(impl<abstract::image_having_neighborhood, morpher::tag::identity, E>):
	Inherit from stc::any__simple<E> instead of abstract::image<E>.

2006-09-25  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Properly define fwd_piter_type and bkd_piter_type for the
	add_neighborhood image morpher.

	* oln/core/abstract/image_hierarchies.hh: Remove end blank line.
	* oln/core/gen/fwd_piter_bbox.hh (change_topology_): New.
	* oln/core/gen/bkd_piter_bbox.hh (change_topology_): New.
	* oln/morpher/add_neighborhood.hh (morpher_type): Remove; obsolete
	cause defined in super class.
	(fwd_piter_type, bkd_piter_type): New definitions.

2006-09-25  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Update image_extension, add_neighborhood, and some related
	classes.

	* oln/automatic/image.hh: New.
	* oln/core/abstract/image.hh: Include oln/automatic/image.hh.
	Inherit from automatic::impl.
	(has): Add FIXME.
	* oln/core/abstract/image_having_neighborhood.hh (neighborhood):
	Change so that it relies on topo().  impl_neighborhood() is now
	obsolete in image classes.
	* oln/core/2d/aliases.hh (topo2d, fwd_piter2d, bkd_piter2d):
	Update aliases.
	* oln/basics2d.hh: Update.
	* oln/core/2d/image2d.hh (topo2d, fwd_piter2d, bkd_piter2d):
	Update and make them explicit.
	(ctor): Add border argument with default.
	(impl_op_read): Change fake code.
	* oln/core/2d/neighb2d.hh: Cosmetics.
	* oln/core/gen/bbox.hh: Include files for piter types.
	* oln/morpher/internal/image_extension.hh (morpher_type): New.
	This class thus factors this definition.
	(impl_topo, impl_op_read, impl_has): Remove.  These methods
	are expected to be automatically fetch from top implementation
	classes.
	(self_t, image_t, topo_t, value_t, point_t): Remove cause obsolete.
	* oln/morpher/add_neighborhood.hh (add_neighborhood): Add second
	parameter Neighb.
	(include, set_super_type): Update.
	(neighborhood_type): Change.
	(ctor): Update.
	(impl_neighborhood): Remove.
	(impl_topo): New.
	(nbh_): Remove.
	(topo_): New.
	* tests/add_neighborhood_morpher.cc: Update.
	* tests/morphers.cc: Update.

2006-09-25  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add morpher capabilities to topology classes.

	* oln/automatic/topology_having_bbox.hh: New.
	* oln/automatic/topology_being_random_accessible.hh: New.
	* oln/automatic/topology_having_neighborhood.hh: New.
	* oln/core/abstract/topology_having_neighborhood.hh: New.
	* oln/core/gen/topo_add_nbh.hh: New.
	* oln/core/internal/topology_morpher.hh: New.
	* oln/automatic/image_having_neighborhood.hh: Fix typo in guards.
	Fix comment.
	Fix delegation code.
	* oln/core/topology_entry.hh (neighborhood_type, morpher_type):
	New.
	* oln/core/abstract/topology_hierarchies.hh
	(topology_hierarchy_wrt_neighborhood): New.
	Update include.
	* oln/core/abstract/topology_having_bbox.hh: Inherit from
	automatic::impl.
	* oln/core/abstract/topology_being_random_accessible.hh: Likewise.
	* oln/core/abstract/topology.hh (neighborhood): New vtype.

2006-09-25  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution (again).

	* oln/Makefile.am (nobase_oln_HEADERS): Add
	core/internal/bbox_bkd_piter.hh and
	core/internal/bbox_fwd_piter.hh.

2006-09-25  Roland Levillain  <roland@lrde.epita.fr>

	Add convenience shortcuts for stc_{direct_,}check_type_of{_,}.

	* oln/core/macros.hh (oln_check_type_of, oln_check_type_of_)
	(oln_check_direct_type_of, oln_check_direct_type_of_): New macros.
	* oln/morpher/internal/image_extension.hh, oln/morpher/identity.hh
	* oln/morpher/add_neighborhood.hh: Remove FIXMEs.

2006-09-25  Roland Levillain  <roland@lrde.epita.fr>

	Fix the distribution.

	* oln/Makefile.am (nobase_oln_HEADERS): Add morpher/tags.hh.

2006-09-24  Roland Levillain  <roland@lrde.epita.fr>

	Restore the compatibility of morphers with G++ 4.0.

	* oln/core/macros.hh (oln_direct_type_of, oln_direct_type_of_):
	New macros.
	* oln/morpher/internal/image_extension.hh (oln): Use
	`oln_direct_type_of(Exact, ...)' instead of
	`oln_type_of(self_t, ...)'.
	* tests/morphers.cc (main): Add more static assertions.
	* tests/identity_morpher.cc: More documentation.
	* tests/add_neighborhood_morpher.cc: New test.
	* tests/Makefile.am (check_PROGRAMS): Add
	add_neighborhood_morpher.
	(add_neighborhood_morpher_SOURCES): New.

2006-09-22  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add image point iterators parameterized by the image topology;
	factor code into an internal class.

	* oln/core/gen/bbox_fwd_piter.hh: Change inheritance and move
	methods into...
	* oln/core/internal/bbox_fwd_piter.hh: ...this new class.
	* oln/core/gen/bbox_bkd_piter.hh: Change inheritance and move
	methods into...
	* oln/core/internal/bbox_bkd_piter.hh: ...this new class.
	* oln/core/gen/fwd_piter_bbox.hh: New.
	* oln/core/gen/bkd_piter_bbox.hh: New.

2006-09-20  Roland Levillain  <roland@lrde.epita.fr>

	Fix the identity and neighborhood addition morphers.

	* oln/automatic/image_having_neighborhood.hh: Add a forward
	declaration of oln::abstract::image_having_neighborhood.
	(impl<abstract::image_having_neighborhood, morpher::tag::identity, E>):
	Inherit from abstract::image<E>.
	(impl_neighborhood): Make it const.
	Get the exact type before calling delegate().
	* oln/core/abstract/image_having_neighborhood.hh
	(oln/automatic/image_having_neighborhood.hh): Include it.
	(oln::abstract::image_having_neighborhood::neighborhood): New.
	(case_<image_hierarchy_wrt_neighborhood, E, 1>): Only inherit from
	oln::abstract::image_having_neighborhood if neighborhood is
	different from mlc::not_found.
	(oln::ext_vtype<image_entry<E>, typedef_::neighborhood_type>):
	Remove.
	* oln/core/image_entry.hh
	(single_vtype<image_entry<E>, typedef_::morpher_type>): Remove.
	Instead, defined the `morpher' virtual type...
	(vtypes< image_entry<E> >): ...here.

	* oln/morpher/internal/image_extension.hh (image_extension):
	Fix the inheritance: derive from `oln::image_entry<Exact>' instead
	of `oln::image_entry< image_extension<Image, Exact> >'.
	* oln/morpher/identity.hh (oln/morpher/tags.hh): Include it.
	(oln::single_vtype<morpher::identity<Image>, typedef_::morpher_type>):
	Remove.
	Instead, defined the `morpher' virtual type...
	(oln::vtypes< morpher::identity<Image> >): ...here
	(oln::morpher::tag::identity): Move...
	* oln/morpher/tags.hh: ...here (new file).
	* oln/morpher/add_neighborhood.hh (oln/morpher/tags.hh)
	(oln/core/2d/aliases.hh): Include them.
	(oln::single_vtype<morpher::add_neighborhood<Image>,
	 typedef_::morpher_type>): Remove.
	Instead, defined the `morpher' virtual type...
	(oln::vtypes< morpher::add_neighborhood<Image> >): ...here
	(oln::morpher::add_neighborhood::neighborhood_t): Fix the virtual
	type retrieval: get it from `self_t', not from `Image'.
	(ext_vtype<morpher::add_neighborhood< oln::image2d<T> >,
	 typedef_::neighborhood_type>): Remove.
	Remove corresponding forward declarations as well.
	(oln::morpher::tag::add_neighborhood): Move...
	* oln/morpher/tags.hh: ...here.
	* tests/identity_morpher.cc, tests/morphers.cc: Fix the test.
	Add more static assertions.

	* oln/Makefile.am (nobase_oln_HEADERS): Add core/2d/neighb2d.hh,
	core/abstract/neighborhood.hh, core/gen/neighb.hh and
	core/neighborhood_entry.hh.
	* oln/core/2d/image2d.hh: Fix copyright header.

2006-09-20  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add classes for classical 2d neighborhood.

	* oln/core/neighborhood_entry.hh: New.
	* oln/core/abstract/neighborhood.hh: New.
	* oln/core/2d/neighb2d.hh: New.
	* oln/core/gen/neighb.hh: New.
	* oln/core/2d/aliases.hh (neighb2d): New.
	* oln/basics2d.hh: Update.

2006-09-18  Roland Levillain  <roland@lrde.epita.fr>

	Add the first two morphers: identity and neighborhood addition.

	* oln/core/typedefs.hh (morpher_type, neighborhood_type): New
	typedef declarations.
	(neighb_type, image_neighbness_type, image_constness_type)
	(image_dimension_type, image_typeness_type)
	(image_valuedness_type, image_rawness_type): Remove typedef
	declarations.
	* oln/core/image_entry.hh
	(single_vtype<image_entry<E>, typedef_::morpher_type>): New
	virtual type.
	* oln/core/abstract/image.hh: Check it.

	* oln/core/abstract/image_hierarchies.hh
	(image_dimension_hierarchy, image_type_hierarchy): Rename as...
	(image_hierarchy_wrt_dimension, image_hierarchy_wrt_type):
	...this.
	(image_neighborhood_hierarchy): Make it the third image hierarchy.
	Rename as...
	(image_hierarchy_wrt_neighborhood).
	(image_value_hierarchy, image_rawness_hierarchy): Adjust and
	rename as...
	(image_hierarchy_wrt_value, image_hierarchy_wrt_data_retrieval):
	...this.
	(oln/core/abstract/image_having_neighborhood.hh): Include it.
	* oln/core/abstract/image_dimension.hh:
	s/image_dimension_hierarchy/image_hierarchy_wrt_dimension/.
	(oln::abstract::image1d, oln::abstract::image2d)
	(oln::abstract::image3d): Inherit from automatic::impl.
	* oln/core/abstract/image_type.hh,
	* oln/core/abstract/image_type_integre.hh:
	s/image_type_hierarchy/image_hierarchy_wrt_type/.
	* oln/core/abstract/image_having_neighborhood.hh: New
	abstraction.
	* oln/automatic/image_having_neighborhood.hh: New automatic
	implementation.

	* oln/morpher/internal/image_extension.hh: New abstract
	class.
	* oln/morpher/identity.hh,
	* oln/morpher/add_neighborhood.hh: New morphers.
	* tests/morphers.cc, tests/identity_morpher.cc: New tests.

	* oln/Makefile.am (nobase_oln_HEADERS): Catch up with renamings
	from the previous patches.
	Add automatic/image_having_neighborhood.hh,
	core/abstract/image_having_neighborhood.hh,
	morpher/internal/image_extension.hh,
	morpher/add_neighborhood.hh and
	morpher/identity.hh.
	* tests/Makefile.am (check_PROGRAMS): Add identity_morpher and
	morphers.
	(identity_morpher_SOURCES, morphers_SOURCES): New.
	* oln/core/abstract/topology_hierarchies.hh: Aesthetic changes.

2006-09-18  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Rename bbox point iterators.

	* oln/core/abstract/iterator_on_points.hh
	(p_): Remove.  Abstract classes should not have attributes.
	(to_point): Turn abstract.
	(point_adr): New.
	* oln/core/gen/fwd_piter.hh: Update and rename as...
	* oln/core/gen/bbox_fwd_piter.hh: ...this.
	* oln/core/gen/bkd_piter.hh: Update and rename as...
	* oln/core/gen/bbox_bkd_piter.hh: ...this.
	* oln/core/2d/aliases.hh: Update.
	* oln/core/gen/bbox.hh: Update.
	* oln/basics2d.hh: Update.

2006-09-18  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Move some abstract classes below entries into internal.

	* oln/core/abstract/point_nd.hh: Update and rename as...
	* oln/core/internal/point_nd.hh: ...this.
	* oln/core/abstract/dpoint_nd.hh: Update and rename as...
	* oln/core/internal/dpoint_nd.hh: ...this.
	* oln/core/point_set_entry.hh (is_connected_type): Add in vtypes.
	* oln/core/abstract/bbox.hh: Change super class from point_set_entry
	to point_set_having_bbox.
	(vtypes): Remove.
	(set_super_type): Remove.
	* oln/core/abstract/point_set_hierarchies.hh (include): Update.
	* oln/core/abstract/point_set_having_bbox.hh (case_): Move to...
	* oln/core/abstract/bbox.hh: ...this file.
	(case_): Refine for abstract::bbox.
	* oln/core/2d/dpoint2d.hh: Update.
	* oln/core/2d/point2d.hh: Update.
	* oln/core/gen/bbox.hh: Update.

2006-09-18  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Rename point set related classes.

	* oln/core/pset_entry.hh: Update and rename as...
	* oln/core/point_set_entry.hh: ...this.
	* oln/core/abstract/pset_fixed.hh: Update and rename as...
	* oln/core/abstract/point_set_having_known_size.hh: ...this.
	* oln/core/abstract/pset_ra.hh: Update and rename as...
	* oln/core/abstract/point_set_being_random_accessible.hh: ...this.
	* oln/core/abstract/pset_bboxed.hh: Update and rename as...
	* oln/core/abstract/point_set_having_bbox.hh: ...this.
	* oln/core/abstract/pset.hh: Update and rename as...
	* oln/core/abstract/point_set.hh: ...this.
	* oln/core/abstract/pset_hierarchies.hh: Update and rename as...
	* oln/core/abstract/point_set_hierarchies.hh: ...this.
	* oln/core/abstract/pset_cnx.hh: Update and rename as...
	* oln/core/abstract/point_set_being_connected.hh: ...this.
	* oln/core/abstract/piter.hh: Update and rename as...
	* oln/core/abstract/iterator_on_points.hh: ...this.
	* oln/core/abstract/iter.hh: Update and rename as...
	* oln/core/abstract/iterator.hh: ...this.
	* oln/core/typedefs.hh
	(fixed_type, ra_type, cnx_type): Rename as...
	(has_known_size_type, is_random_accessible_type): ...these and...
	(is_connected_type): ....this.
	* oln/core/abstract/bbox.hh: Update.
	* oln/core/gen/fwd_piter.hh: Update.
	* oln/core/gen/bkd_piter.hh: Update.

2006-09-18  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add oln topology class for enlarged bbox.

	* oln/core/gen/topo_lbbox.hh: New.
	* oln/core/abstract/dpoint_nd.hh (set_all): New.
	* oln/core/gen/topo_bbox.hh (impl_has_large): New.

2006-09-15  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Adapt topology hierarchy to new naming convention.

	* oln/core/topo_entry.hh: Rename into...
	* oln/core/topology_entry.hh: ...this.
	* oln/core/abstract/topo.hh: Rename into...
	* oln/core/abstract/topology.hh: ...this.
	* oln/core/abstract/topo_with_bbox.hh: Rename into...
	* oln/core/abstract/topology_having_bbox.hh: ...this.
	* oln/core/abstract/topo_hierarchies.hh: Rename into...
	* oln/core/abstract/topology_hierarchies.hh: ...this.
	* oln/core/abstract/topo_ra.hh: Rename into...
	* oln/core/abstract/topology_being_random_accessible.hh: ...this.
	* oln/core/gen/bbox_topo.hh: Rename into...
	* oln/core/gen/topo_bbox.hh: ...this.
	* oln/core/typedefs.hh (is_random_accessible_type): New.
	* oln/core/2d/aliases.hh: Update.
	* oln/basics2d.hh: Update.
	* oln/Makefile.am: Update.

2006-09-15  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add operator- to n-dimensional dpoint types.

	* oln/core/traits_id.hh (op_uminus_dpointnd): New.
	* oln/core/abstract/dpoint_nd.hh (operator-): New.
	(impl_less): New.
	(case_): New case for operator-.
	* oln/core/2d/dpoint2d.hh (dpoint2d_): New ctor.

2006-09-15  Roland Levillain  <roland@lrde.epita.fr>

	Add a missing file to the distribution.

	* oln/Makefile.am (nobase_oln_HEADERS): Add core/abstract/piter.

2006-09-14  Roland Levillain  <roland@lrde.epita.fr>

	* oln/Makefile.am (nobase_oln_HEADERS): Typo.

2006-09-14  Roland Levillain  <roland@lrde.epita.fr>

	Use the new entry/hierarchy system for images.

	* oln/core/abstract/image_entry.hh: Remove.
	* oln/core/abstract/image_hierarchies.hh: New.
	* oln/core/abstract/image.hh
	(oln/core/abstract/image_hierarchies.hh): Include it.
	* oln/core/image_entry.hh: Aesthetic change.

	* oln/core/abstract/image_dimension.hh:
	Update the documentation.
	(oln::ERROR::UNKNOWN_GRID_TYPE): Remove error message.
	(oln::grid_dim_tag): Remove tag.
	(stc::set_entry_node<I, oln::abstract::dimension_tag>): Remove
	switch.
	(case_<grid_dim_tag, grid_type, 1>)
	(case_<grid_dim_tag, grid_type, 2>)
	(case_<grid_dim_tag, grid_type, 3>): Update and rename as...
	(case_<image_dimension_hierarchy, E, 1>)
	(case_<image_dimension_hierarchy, E, 2>)
	(case_<image_dimension_hierarchy, E, 3>): ...this.
	(default_case_<grid_dim_tag, grid_type>): Remove.
	(oln::ext_vtype<abstract::image<I>, typedef_::image_dimension_type>):
	Remove external vtype.

	* oln/core/abstract/image_typeness.hh: Rename as...
	* oln/core/abstract/image_type.hh: ...this.
	Adjust header guards.
	Update the documentation.
	(oln::value_type_tag): Remove tag.
	(stc::set_entry_node<I, oln::abstract::typeness_tag>): Remove
	switch.
	(case_<value_type_tag, value_type, 1>)
	(case_<value_type_tag, value_type, 2>)
	(default_case_<value_type_tag, value_type>): Update and rename
	as...
	(case_<image_type_hierarchy, E, 1>)
	(case_<image_type_hierarchy, E, 2>)
	(default_case_<image_type_hierarchy, E>): ...this.
	No longer provide an `image_typeness_type' typedef.
	(oln::ext_vtype<abstract::image<I>, typedef_::image_typeness_type>):
	Remove external vtype.

	* oln/core/abstract/image_typeness_integre.hh: Rename as...
	* oln/core/abstract/image_type_integre.hh: ...this.
	Adjust header guards.
	(case_<value_type_tag, value_type, 3>)
	(case_<value_type_tag, value_type, 4>)
	(case_<value_type_tag, value_type, 5>)
	(case_<value_type_tag, value_type, 6>): Update and rename as...
	(case_<image_type_hierarchy, E, 3>)
	(case_<image_type_hierarchy, E, 4>)
	(case_<image_type_hierarchy, E, 5>)
	(case_<image_type_hierarchy, E, 6>): ...this.
	No longer provide an `image_typeness_type' typedef.

	* tests/image_entry.cc (my::image): Set
	oln::image_entry<my::image> as super type.
	(oln::vtypes<my::image>::psite_type)
	(oln::vtypes<my::image>::rvalue_type)
	(oln::vtypes<my::image>::piter_type): Remove these typedefs, as
	they are already defined as single typedefs in
	oln/core/image_entry.hh.
	(my::image::grid_type, my::image::value_type): Rename as...
	(my::image::grid_t, my::image::value_t): ...this.
	(my::image::image_dimension_type, my::image::image_typeness_type):
	Remove.
	(main): Adjust, and remove irrelevant assertions.

2006-09-14  Roland Levillain  <roland@lrde.epita.fr>

	Add missing files to Olena's distribution.

	* oln/Makefile.am (nobase_oln_HEADERS): Add core/2d/aliases.hh,
	core/2d/dpointd2.hh, core/2d/grid2d.hh, core/2d/image2d.hh,
	core/2d/point2d.hh, core/abstract/bbox.hh,
	core/abstract/dpoint.hh, core/abstract/dpoint_nd.hh,
	core/abstract/entry.hh, core/abstract/image_hierarchies.hh,
	core/abstract/image_type.hh, core/abstract/image_type_integre.hh,
	core/abstract/iter.hh, core/abstract/point.hh,
	core/abstract/point_nd.hh, core/abstract/pset_bboxed.hh,
	core/abstract/pset_cnx.hh, core/abstract/pset_fixed.hh,
	core/abstract/pset.hh, core/abstract/pset_hierarchies.hh,
	core/abstract/pset_ra.hh, core/abstract/topo.hh,
	core/abstract/topo_hierarchies.hh, core/abstract/topo_ra.hh,
	core/abstract/topo_with_bbox.hh, core/gen/bbox.hh,
	core/gen/bbox_topo.hh, core/gen/bkd_piter.hh,
	core/gen/fwd_piter.hh, core/image_entry.hh, core/pset_entry.hh,
	core/traits.hh, core/traits_id.hh, core/topo_entry.hh,
	core/type.hh and basics2d.hh
	Remove core/abstract/image_abstractions.hh,
	core/abstract/image_entry.hh, core/abstract/image_typeness.hh, and
	core/abstract/image_typeness_integre.hh.
	* oln/basics2d.hh: Fix copyright header.

2006-09-13  Roland Levillain  <roland@lrde.epita.fr>

	No longer categories nor packed_vtypes.

	* oln/core/abstract/image.hh (oln::category::grid): Remove
	declaration.
	* oln/core/abstract/grid.hh
	(oln::packed_vtypes_in_category<category::grid, G>):
	(oln::grid::~grid): Remove dtor.
	(oln::category::grid): Remove declaration.

2006-09-12  Roland Levillain  <roland@lrde.epita.fr>

	Fix the current implementation of image_entry, as well as some
	tests.

	* oln/core/abstract/internal/image_impl.hh (oln::category::image):
	Move this declaration...
	* oln/core/abstract/image.hh: ...here.
	* oln/core/case.hh: New file.
	* oln/core/abstract/image_abstractions.hh,
	* oln/core/abstract/entry.hh,
	* oln/core/traits.hh: Use it.
	* oln/Makefile.am (nobase_oln_HEADERS): Add core/case.hh.

	* oln/core/abstract/image_dimension.hh
	(oln::ERROR::UNKNOWN_GRID_TYPE): New.
	(oln::default_case_<grid_dim_tag, grid_type): Use it.
	(ext_vtype_in_category): Turn into...
	(ext_vtype): ...this.
	* oln/core/abstract/image_typeness.hh (ext_vtype_in_category):
	Turn into...
	(ext_vtype): ...this.

	* oln/core/typedefs.hh (oln_type_of, oln_type_of_): Move
	these macros...
	* oln/core/abstract/macros.hh: ...here, and replace the previous
	ones.
	Rename file as...
	* oln/core/macros.hh: ...this.
	Adjust header guards.
	* oln/core/abstract/internal/image_impl.hh: Adjust users.
	* oln/Makefile.am (nobase_oln_HEADERS): Remove
	core/abstract/macros.hh.
	Add core/macros.hh

	* oln/core/abstract/grid.hh (oln_grd_type_of, oln_grd_type_of_):
	Remove macros.
	(vtypes_in_category< category::grid, abstract::grid<G> >): Turn
	into...
	(vtypes< abstract::grid<G> >): ...this.
	(packed_vtypes_in_category<category::grid, G>):
	s/oln_grd_type_of/oln_type_of/g.
	* oln/core/1d/grid1d.hh, oln/core/2d/grid2d.hh,
	* oln/core/3d/grid3d.hh (vtypes_in_category): Turn into...
	(vtypes): ...this.

	* tests/grid.cc: s/oln_grd_type_of_/oln_type_of_/g
	* tests/image_entry.cc (my::dummy): New declaration.
	(vtypes_in_category<category::image, my::image>): Turn into...
	(vtypes<my::image>): ...this.
	Add missing virtual types.
	(my::image): Fix base class.
	(main): Remove any references to
	packed_vtypes_in_category<oln::category::image, my::image>, since
	it no longer exists.
	* tests/Makefile.am (AM_CPPFLAGS): Add -I$(top_srcdir)/extended.

2006-09-07  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add image2d and fix topo-related classes.

	* tests/npoints.cc: New.
	* tests/Makefile.am: Update.
	* oln/core/image_entry.hh: New.
	* oln/core/2d/image2d.hh: New.
	* oln/basics2d.hh: Force instantiation and include
	oln/core/2d/image2d.hh.
	* oln/core/typedefs.hh: Include mlc/assert.hh and
	mlc/to_string.hh.
	(piter_type): Uncomment.
	(rvalue_type): New.
	(psite_type): New.
	(concrete_type): Uncomment.
	(size_type): Add comment.
	(topo_type): New.
	* oln/core/abstract/topo.hh (bbox): Remove this method which
	is redundant with the one of topo_with_bbox.
	* oln/core/abstract/topo_with_bbox.hh (bbox): Fix typo.
	* oln/core/abstract/entry.hh (next_entry_node): New
	specialization to handle the specific and rare case of having no
	sub-hierarchy.
	* oln/core/abstract/topo_ra.hh: Fix cut n paste errors.
	* oln/core/abstract/pset.hh (piter): New vtype decl.
	* oln/core/gen/fwd_piter.hh (fwd_piter_): Add commented
	forthcoming ctors.
	* oln/core/gen/bbox_topo.hh: Cosmetics.
	* oln/core/pset_entry.hh (piter_type): New.
	* oln/core/abstract/image.hh: Update.

2006-09-07  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Start the topology hierarchy.

	* oln/core/topo_entry.hh: New.
	* oln/core/abstract/topo.hh: New.
	* oln/core/abstract/topo_hierarchies.hh: New.
	* oln/core/abstract/topo_with_bbox.hh: New.
	* oln/core/abstract/topo_ra.hh: New.
	* oln/core/gen/bbox_topo.hh: New.
	* oln/core/2d/aliases.hh (topo2d): New.

	Add a new sub-hierarchy to abstract::pset.

	* oln/core/abstract/pset_cnx.hh: New.
	* oln/core/typedefs.hh (cnx_type): New.
	* oln/core/abstract/pset_hierarchies.hh (pset_cnx_hierarchy): New.
	* oln/core/abstract/bbox.hh (cnx_type): New.
	* oln/core/abstract/pset_bboxed.hh (is_valid): Move this method into...
	* oln/core/abstract/pset.hh (pset): ...this class.
	(dim): New vtype.
	* oln/core/pset_entry.hh (single_vtype): Add vtype dim.
	* oln/basics2d.hh: Include oln/core/gen/bbox_topo.hh.

2006-09-06  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Update abstract::pset hierarchy to final SCOOP-2 design.

	* oln/core/pset_entry.hh: New.
	* oln/core/typedefs.hh: Include oln/core/abstract/entry.hh.
	* oln/core/abstract/bbox.hh: Clean includes.
	(set_super_type): Change from abstract::pset<E> to pset_entry<E>.
	(bbox): Update.
	* oln/core/abstract/entry.hh (set_super_type): New specialization.
	* oln/core/abstract/pset.hh (Copyright): Fix years.
	(vtypes, ext_vtype): Remove.
	(fixed_pset, ra_pset, bboxed_pset): Move and dispatch to...
	* oln/core/abstract/pset_fixed.hh: ...this new file.
	* oln/core/abstract/pset_ra.hh: ...this new file.
	* oln/core/abstract/pset_bboxed.hh: ...this new file.
	* oln/core/abstract/pset.hh
	(pset_fixed_hierarchy, pset_ra_hierarchy, pset_bboxed_hierarchy)
	(case_): Move to...
	* oln/core/abstract/pset_hierarchies.hh: ...this new file.

2006-09-05  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Test on abstract::pset alternative code for static inheritance.

	* oln/core/abstract/entry.hh: New proposition for entry class in
	static hierarchies.  This is a test file that should be removed
	after stc update.
	* oln/core/typedefs.hh (fixed_type, ra_type, bbox_type): New
	typedef declarations.
	* oln/core/abstract/bbox.hh (fwd_piter_, bkd_piter_): Remove
	these forward declarations.
	(ext_vtype): Remove.
	(vtypes): New.
	(ra_type, fixed_type, bbox_type): New associated types.
	(bbox): Change inheritance from abstract::pset to an entry class.
	(bbox): Remove all methods except print from this class; the
	methods are dispatched into abstract::bboxed_pset and
	gen::bbox_<P>.
	(bbox): Likewise for attributes.
	(print): Reject code to subclasses.
	(impl_bbox): New method.
	* oln/core/abstract/pset.hh: Include entry.hh.
	(fwd_piter_type, bkd_piter_type): New associated types.
	(bbox_type, ra_type, fixed_type): Likewise
	(pset): Add virtual to inheritance.
	(~pset): Extend check code.
	(fixed_pset, ra_pset, bboxed_pset): New sub-abstractions.
	(pset_fixed_hierarchy, pset_ra_hierarchy, pset_bboxed_hierarchy):
	New hierarchy tags.
	* oln/core/gen/bbox.hh: Update.
	(operator=): New.

2006-09-04  Roland Levillain  <roland@lrde.epita.fr>

	Adjust virtual types class names.

	* oln/core/abstract/image.hh,
	* oln/core/abstract/image_dimension.hh,
	* oln/core/abstract/image_typeness.hh,
	* oln/core/abstract/grid.hh, oln/core/1d/grid1d.hh,
	* oln/core/2d/grid2d.hh, oln/core/3d/grid3d.hh,
	* tests/image_entry.cc (vtypes): Rename as...
	(vtypes_in_category): ...this.
	* oln/core/abstract/image.hh, oln/core/abstract/grid.hh,
	* tests/image_entry.cc (packed_vtypes): Rename as...
	(packed_vtypes_in_category): ...this.

	* oln/core/abstract/point.hh, oln/core/abstract/dpoint.hh,
	* oln/core/abstract/piter.hh, oln/core/abstract/pset.hh,
	* oln/core/gen/bbox.hh,
	* oln/core/gen/bkd_piter.hh, oln/core/gen/fwd_piter.hh,
	* oln/core/2d/point2d.hh, oln/core/2d/dpoint2d.hh (vtypes_):
	Rename as...
	(vtypes).
	* oln/core/abstract/pset.hh, oln/core/abstract/bbox.hh
	(ext_vtype_): Rename as...
	(ext_vtype): ...this.

2006-09-04  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Test how to define derived associated types in bbox hierarchy.

	* oln/core/abstract/bbox.hh (ext_vtype_): New definitions of
	fwd_piter_type and bkd_piter_type.
	(~bbox): Comment possible recursive code.
	* oln/core/gen/bbox.hh (vtypes_): Comment former definitions of
	fwd_piter_type and bkd_piter_type.
	* oln/core/abstract/pset.hh (ext_vtype_): New definition for grid.
	(fwd_piter_type, bkd_piter_type): Comment because they are now
	externally defined.

2006-09-01  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/piter.hh (to_point): New.
	* oln/core/abstract/bbox.hh (pmin, pmax): New overloaded methods.
	(is_valid, print, operator<<): New.
	* oln/core/abstract/iter.hh (iter): Change inheritance from
	any__simple to any__best_memory to fix trouble with multiple
	inheritance.
	(ctor): Remove dangerous call to invalidate.
	* oln/core/abstract/point_nd.hh (operator<<): New.
	(impl_less): Update.
	* oln/core/abstract/pset.hh (coord_type): New.
	* oln/core/2d/point2d.hh (coord_t): Move to public so that this
	associated type is directly accessible from...
	* oln/core/gen/bbox.hh (vtypes): ...this set of types.
	* oln/core/gen/fwd_piter.hh (psup_): Remove.
	(bbox): New accessor.
	(impl_next): Rewrite.
	(print, operator<<): New.
	(invariant): Strengthen.
	* oln/core/gen/bkd_piter.hh: Likewise.

2006-09-01  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add bboxes and iterators.

	* oln/core/abstract/piter.hh: New.
	* oln/core/abstract/bbox.hh: New.
	* oln/core/abstract/iter.hh: New.
	* oln/core/abstract/pset.hh: New.
	* oln/core/2d/aliases.hh: New.
	* oln/core/gen/fwd_piter.hh: New.
	* oln/core/gen/bkd_piter.hh: New.
	* oln/core/gen/bbox.hh: New.
	* oln/core/2d/point2d.hh (point2d_): New ctor.
	(point2d, dpoint2d, point2df, dpoint2df): Move typedefs to...
	* oln/basics2d.hh: ...this new file.
	* oln/core/typedefs.hh (oln_type_of_): New macro.
	(include): Update.
	(fwd_piter_type, bkd_piter_type): New decls.
	* oln/core/abstract/point.hh (include): Update.
	(vtypes_): New specialization.
	* oln/core/abstract/dpoint.hh: Likewise.
	* oln/core/abstract/point_nd.hh (include): Update.
	(set_super_type): New specialization.
	* oln/core/abstract/dpoint_nd.hh: Likewise.

2006-08-31  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add dpoint, oln traits, and operators on point/dpoint.

	* oln/core/type.hh: New.
	* oln/core/traits_id.hh: New.
	* oln/core/abstract/dpoint.hh: New.
	* oln/core/abstract/dpoint_nd.hh: New.
	* oln/core/traits.hh: New.
	* oln/core/2d/dpoint2d.hh: New.
	* oln/core/abstract/point.hh (point): Add inheritance to
	oln::type.
	(operators): New.
	* oln/core/abstract/point_nd.hh (point_): New meta-function.
	(impl_eq): Rename as...
	(impl_equal): ...this.
	(coord): Rename as...
	(coord_t): ...this.
	(impl_less): New.
	(impl_plus_equal, impl_plus): New.
	(impl_minus_equal, impl_minus, impl_minus): New.
	(vec): New.
	(case_): New specializations.
	(point_nd): New ctor.
	* oln/core/2d/point2d.hh: Update forward declarations.
	(point_, dpoint_): New specializations.
	(point2d): New ctor.
	(coord): Rename as...
	(coord_t): ...this.

2006-08-30  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Start point hierarchy.

	* oln/core/typedefs.hh (oln_type_of): New macro.
	(dim_type): New typedef decl.
	* oln/core/abstract/point.hh: New.
	* oln/core/abstract/point_nd.hh: New.
	* oln/core/2d/point2d.hh: New.

2006-06-05  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with Static's support for multiple inheritance.

	* oln/core/1d/grid1d.hh, oln/core/2d/grid2d.hh,
	* oln/core/3d/grid3d.hh: s/stc_super_/stc_get_supers/.
	* tests/image_entry.cc: Add a missing `public' qualifier for
	exported types.

2006-05-02  Roland Levillain  <roland@lrde.epita.fr>

	Fix a duplicate where-clause and perform some aesthetic changes in
	image abstractions.

	* oln/core/abstract/image_dimension.hh: Move the static switch
	statement before the cases.
	Aesthetic changes.
	* oln/core/abstract/image_typeness.hh: Likewise.
	(case_<value_type_tag, value_type, 2>): Fix a copy-and-paste bug:
	remove a duplicate `unsigned char' type in the where-clause and
	replace it with `signed char'.
	* oln/core/abstract/image_typeness_integre.hh,
	* tests/image_entry.cc: Aesthetic changes.

2006-04-27  Roland Levillain  <roland@lrde.epita.fr>

	Add image ``typeness'' abstraction hierarchy.

	* tests/image_entry.cc (my): Check image_typeness_type vtype and
	inheritance.
	* oln/core/typedefs.hh (value_type, image_typeness_type): Enable
	typedef.
	* oln/core/abstract/image.hh (vtypes::value_type): Enable typedef.
	(packed_vtypes::value_type): New typedef.
	(packed_vtypes::echo): Print value_type and image_typeness_type.
	(packed_vtypes::ensure): Check value_type and image_typeness_type.
	(image::value_type): Enable typedef.
	* oln/core/abstract/image_entry.hh: Include images abstractions
	headers.
	Don't include mlc/case.hh nor oln/core/abstract/image.hh.
	(mlc_case_equipment_for_namespace(oln))
	(abstraction_tags): Move...
	* oln/core/abstract/image_abstractions.hh: ...here (new file).
	* oln/core/abstract/image_dimension.hh: Include it.
	Include stc/entry.hh.
	Aesthetic changes.
	* oln/core/abstract/image_typeness.hh: New file (imported from
	Olena proto-1.0, and modified).
	* oln/core/abstract/image_typeness_integre.hh: New file
	* oln/Makefile.am (nobase_oln_HEADERS): Add
	core/abstract/image_abstractions.hh,
	core/abstract/image_typeness.hh and
	core/abstract/image_typeness_integre.hh.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	* oln/core/abstract/image_dimension.hh: Add some more
	documentation.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	Re-enable exact_type vtype.

	* oln/core/typedefs.hh (oln_super_of_, oln_super2_of_)
	(oln_super3_of_, oln_super_of): Remove macros.
	(exact_type): Enable this typedef.
	* oln/core/abstract/image.hh (packed_vtypes::exact_type): New
	typedef.
	(packed_vtypes::echo): Print exact_type.
	(packed_vtypes::ensure): Check exact_type.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	* oln/core/typedefs.hh: s/properties/vtypes/.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with the latest name changes in Static.

	* oln/core/abstract/image_dimension.hh
	(case_<grid_dim_tag, grid_type, 1>)
	(case_<grid_dim_tag, grid_type, 2>)
	(case_<grid_dim_tag, grid_type, 3>):
	s/stc::is_a/stc::abstraction_as_type/.
	* oln/core/abstract/macros.hh (oln_type_of, oln_type_of_)
	* oln/core/abstract/grid.hh (oln_grd_type_of, oln_grd_type_of_):
	Catch up with the new names of Static macros.
	* tests/image_entry.cc: Adjust test.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	Plug image_entry's inheritance to the right image dimension
	abstraction according to the grid type of the exact image type.

	* oln/core/abstract/image_entry.hh: Add switch/case equipment in
	the oln namespace.
	* oln/core/abstract/image_dimension.hh
	(grid_dim_tag)
	(case_<grid_dim_tag, grid_type, 1>)
	(case_<grid_dim_tag, grid_type, 2>)
	(case_<grid_dim_tag, grid_type, 3>)
	(default_case_<grid_dim_tag, grid_type>): New Metalic switch/case
	on grid type, returning the corresponding image dimension type.
	(set_entry_node<I, oln::abstract::dimension_tag>): Use this Metalic
	switch/case to choose the dimension abstraction in the inheritance
	tree.
	* oln/core/abstract/image.hh (vtypes): Don't define
	image_dimension_type as an internal vtype, instead...
	* oln/core/abstract/image_dimension.hh
	(oln::ext_vtype<category::image, abstract::image<I>,
	typedef_::image_dimension_type>): ...define it externally, using
	the switch used inheritance-plugging mechanism based on the grid
	type.
	* tests/image_entry.cc (oln): Adjust.
	Check my::image's virtual types.
	Print my::image's vtypes on the standard output.

2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	Add grids.

	* oln/core/abstract/grid.hh,
	* oln/core/1d/grid1d.hh,
	* oln/core/2d/grid2d.hh,
	* oln/core/3d/grid3d.hh: New files (imported from Olena proto-1.0,
	and modified).
	* oln/core/typedefs.hh (grid_type, point_type, dpoint_type)
	(size_type, dimvalue_type, coord_type): Enable these types.
	* oln/core/abstract/image.hh (grid_type): Don't mlc-declare this
	typedef, since oln/core/typedefs.hh already takes care of it.
	(vtypes< category::image, abstract::image<I> >): Enable	grid_type.
	(packed_vtypes): Likewise.
	* oln/core/abstract/internal/image_impl.hh: Improve comment.
	* tests/grid.cc: New test.
	* tests/image_entry.cc: Update this test.
	* oln/Makefile.am (nobase_oln_HEADERS): Add core/abstract/grid.hh,
	core/1d/grid1d.hh, core/2d/grid2d.hh and core/3d/grid3d.hh.
	* tests/Makefile.am (check_PROGRAMS): Add grid.
	(grid_SOURCES): New.

2006-04-22  Roland Levillain  <roland@lrde.epita.fr>

	Fix packed_vtypes<category::image, I>.

	* oln/core/abstract/image.hh (packed_vtypes): Remove.
	(packed_vtypes<category::image, I>): Use mlc::assert to test the
	virtual types.
	Aesthetic changes.
	(image::~image): Check the vtypes thanks to
	packed_vtypes<category::image, I>.

2006-04-21  Roland Levillain  <roland@lrde.epita.fr>

	Lay the foundation stone of abstract::image.

	* oln/core/abstract/any.hh, oln/core/typedefs.hh,
	* oln/core/abstract/image.hh,
	* oln/core/abstract/internal/image_impl.hh
	* oln/core/abstract/image_entry.hh
	* oln/core/abstract/image_dimension.hh: New files (imported from
	Olena proto-1.0, and modified).
	* oln/core/abstract/macros.hh: New file.
	* tests/image_entry.cc: New test.
	* Makefile.am, oln/Makefile.am, tests/Makefile.am: New files.
