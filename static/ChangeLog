2006-04-25  Roland Levillain  <roland@lrde.epita.fr>

	Allow the use of Metalic values as virtual types.

	* stc/properties.hh (mlc::eqv, mlc::neqv): New (workaround)
	classes.
	(mlc_eqv, mlc_neqv): New macros.
	(rec_get_vtype, rec_get_ext_vtype): Use them, to allow the use of
	Metalic values as virtual types.
	* tests/properties.cc: Ensure Metalic values can be valid
	virtual types.

2006-04-22  Roland Levillain  <roland@lrde.epita.fr>

	Add a facility for virtual types packing.

	* stc/properties.hh (packed_vtypes): New packing structure, to
	be specialized by the user.  When properly defined, this structure
	can be used to check if all the virtual types of a class are sound.
	* tests/properties.cc (my_type_of): New macro.
	Define a packed_vtypes structure for the top-most class (my::A) and
	check these virtual types in my::A's subclasses.

2006-04-20  Roland Levillain  <roland@lrde.epita.fr>

	Add an abstraction manipulator.

	* stc/properties.hh (std::is_a): New helper.
	(stc_super, stc_pseudosuper, stc_typeof): Simplify the definitions
	of these macros, using their ``underscored'' version.
	(stc_typeof_in_namespace, stc_typeof_in_namespace_): New macro.
	* tests/properties.cc: Typos in comments.

2006-03-23  Roland Levillain  <roland@lrde.epita.fr>

	Extensible entry points in a class hierarchy (first version).

	* stc/entry.hh: New.
	* tests/entry.cc: New test.
	* stc/Makefile.am (nobase_stc_HEADERS): Add entry.hh.
	* tests/Makefile.am (check_PROGRAMS): Add `entry'.
	(entry_SOURCES): New.

2006-03-22  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with changes in Metalic.

	* stc/properties.hh (stc_equip_namespace_with_properties): Use
	mlc_bool to extract the value of mlc::abstract::bexpr's.
	* stc/properties.hh: Update test (use mlc::assert_).

2006-03-14  Roland Levillain  <roland@lrde.epita.fr>

	Set the pseudosuper link using a separate class instead of an
	internal virtual type.

	* stc/properties.hh (stc_equip_namespace_with_properties):
	Generate a set_pseudosuper_type struct.  Use it to get the
	pseudosuper links in recursive vtype retrieval algorithms.
	(stc_set_pseudosuper, stc_pseudosuper, stc_pseudosuper_): New
	macros.
	* tests/properties.cc: Adjust.
